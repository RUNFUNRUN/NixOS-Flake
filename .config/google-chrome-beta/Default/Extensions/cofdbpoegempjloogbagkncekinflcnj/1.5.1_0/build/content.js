var content=function(e){"use strict";const t=[{langCode:"DE",langCodeForSpeech:"de-DE"},{langCode:"EN-GB",langCodeForSpeech:"en",voice:"Google UK English Male"},{langCode:"EN-US",langCodeForSpeech:"en",voice:"Google UK English Male"},{langCode:"FR",langCodeForSpeech:"fr-FR",voice:"Thomas"},{langCode:"ES",langCodeForSpeech:"es-ES",voice:"Google espaÃ±ol",label:"ES"},{langCode:"IT",langCodeForSpeech:"it-IT"},{langCode:"ID",langCodeForSpeech:"id-ID"},{langCode:"PL",langCodeForSpeech:"pl-PL"},{langCode:"NL",langCodeForSpeech:"nl-NL",voice:"Google Nederlands",label:"NL"},{langCode:"PT-PT",langCodeForSpeech:"pt-PT"},{langCode:"PT-BR",langCodeForSpeech:"pt-PT"},{langCode:"RU",langCodeForSpeech:"ru-RU"},{langCode:"ZH",langCodeForSpeech:"zh-CN"},{langCode:"JA",langCodeForSpeech:"ja-JP"},{langCode:"BG",langCodeForSpeech:"bg-BG"},{langCode:"CS",langCodeForSpeech:"cs-CZ"},{langCode:"DA",langCodeForSpeech:"da-DK"},{langCode:"ET",langCodeForSpeech:"et"},{langCode:"FI",langCodeForSpeech:"fi-FI",voice:"Satu"},{langCode:"EL",langCodeForSpeech:"el-GR"},{langCode:"HU",langCodeForSpeech:"hu-HU"},{langCode:"LV",langCodeForSpeech:"lv"},{langCode:"LT",langCodeForSpeech:"lt"},{langCode:"RO",langCodeForSpeech:"ro-RO"},{langCode:"SK",langCodeForSpeech:"sk-SK"},{langCode:"SL",langCodeForSpeech:"sl"},{langCode:"SV",langCodeForSpeech:"sv-SE"},{langCode:"TR",langCodeForSpeech:"tr-TR"},{langCode:"UK",langCodeForSpeech:"uk-UA"},{langCode:"NB",langCodeForSpeech:"nb-NO"},{langCode:"KO",langCodeForSpeech:"ko-KR"}],n=1,o=2,i="",s="ONGOING_TRANSLATION",a="IS_TRANLSATION_COMPLETE",r="SHOW_ORIGINAL",l="ON_GOING_AUTODETECTION",c="ANONYMOUS_USER_MAX_CHAR_EXCEEDED",d=1,u=2,p="inline",g="automatic",m="manual",h=1,f=3,_=1,w=2,v=3,$=1,b=2,y=1,x=2,C=[/[^.]+\.deepl\.com/g],T=[/docs.google\.com\/spreadsheets/g],E=[/[^.]+\.deepl\.com/g],L={deepl_inline_ui:{z_index:2147483650}},S="HINT_KEYBOARD_SHORTCUT",k="INPUT_TRANSLATION",M="INLINE_TRANSLATION",O="FULL_PAGE_TRANSLATION",N={green_theme:"green_theme"},I="INLINE_TRANSLATION_TRIGGER_ICON",D="INLINE_TRANSLATION_SETTINGS_ICON",A="INLINE_TRANSLATION_SETTING_POPUP",R="INPUT_TRANSLATION_TRIGGER_ICON",P="INPUT_TRANSLATION_SETTINGS_ICON",z="INPUT_TRANSLATION_SETTING_POPUP",H="SETTINGS_PAGE_FPT",B="SETTINGS_PAGE_READING",F="SETTINGS_PAGE_WRITING",U="FPT_HIDE_MODAL",q="INPUT_TRANSLATION_READ_MORE_LINK",j="INLINE_TRANSLATION_READ_MORE_LINK",W="FPT_TRANSLATION_READ_MORE_LINK",G="EXTENSION_HUB_TOGGLE_SWITCH",V="HUB_CUSTOMIZE_SHORTCUT",Z="HUB_LOGIN_BUTTON",K="HUB_UPGRADE_TO_PRO_LINK",X="HUB_TRY_PRO_LINK",Q="SETTINGS_PAGE_CUSTOMIZE_SHORTCUT_BUTTON",Y="HUB_FPT_ENABLE_CHECKBOX",J="HUB_FPT_DISABLE_CHECKBOX",ee="trigger-translation",te="CLICK_ON_SHORTCUT_NOTIFICATION",ne="CLICK_ON_INLINE_TRANSLATION_SHOW_ALTERNATIVES",oe="CLICK_ON_INLINE_TRANSLATION_CLOSE_ICON",ie="CLICK_ON_LOGOUT_MENU_ENTRY",se="DISABLE_PER_SITE",ae="DISABLE_EVERYWHERE",re="INPUT_TRANSLATION",le="INLINE_TRANSLATION",ce=1,de=2,ue="fancfknaplihpclbhbpclnmmjcjanbaf",pe={deepl:/^(.*\.)?deepl\.com$/gm,linguee:/^(.*\.)?linguee\.[a-z]{2,3}$/gm,google_translate:/^translate\.google\.com$/gm,gmail:/^mail\.google\.com$/gm},ge={word_365:"euc-word-edit.officeapps.live.com",power_point_365:"euc-powerpoint.officeapps.live.com"},me={word_365:"WacFrame_Word_0",power_point_365:"WacFrame_PowerPoint_0"},he={initial:"INITIAL",feedback:"FEEDBACK",review:"REVIEW"},fe=1,_e=2,we=3,ve={default:"DEFAULT",gdocs:"GDOCS",zendesk:"ZENDESK",whatsappWeb:"WHATSAPP_WEB",twitter:"TWITTER"},$e=["script","style"],be=["a","abbr","acronym","b","bdo","big","br","button","cite","code","dfn","em","i","img","input","kbd","label","map","object","q","samp","script","select","small","span","strong","sub","sup","textarea","time","tt","var","font"],ye="OPEN_TICKET",xe="DETECT_TICKET_LANGUAGE",Ce="SWITCH_TICKET_LANGUAGE",Te="ENABLE_AUTOTRANSLATE",Ee="DISABLE_AUTOTRANSLATE",Le="TRANSLATE_MESSAGE",Se="TRANSLATE_INPUT",ke="ERROR",Me="TICKET",Oe="LIVE_CHAT",Ne=()=>{const e="https://docs.google.com";return window.location.href.substr(0,e.length)===e},Ie=()=>{const e=document.querySelector(".docs-texteventtarget-iframe")?.contentWindow;return{iFrame:e,editable:e&&e.document.querySelector("[contenteditable=true]")}},De=()=>{const{iFrame:e,editable:t}=Ie();if(!e||!t)return;const n=new e.ClipboardEvent("copy",{bubbles:!0,clipboardData:new e.DataTransfer});t.dispatchEvent(n)},Ae=()=>{const{iFrame:e,editable:t}=Ie();if(!e||!t)return;const n=new e.CustomEvent("copy",{bubbles:!0});t.dispatchEvent(n);const o=(e=>{if(0===e.length)return!0;for(let t=0;t<e.length;t++)if(8203!==e.charCodeAt(t))return!1;return!0})(t.innerText.trim());return{html:o?"":t.innerHTML,text:o?"":t.innerText}},Re=()=>{const e=document.querySelector("deepl-gdocs-icon")?.shadowRoot.querySelector(".dl-gdocs-icon");if(!e)return void console.error("GDocs Icon was not present while trying to get the coordinates");const t=e.getBoundingClientRect(),n=document.body.parentNode.getBoundingClientRect(),{top:o,left:i,right:s,bottom:a,height:r,width:l}=t;return{x:i-n.left,y:a-n.top,selectedTop:o,selectedBottom:a,selectedRight:n.width-s,selectedLeft:i+window.scrollX,selectedWidth:l,height:r}},Pe=()=>{const e=document.querySelector("#docs-instant-bubble"),t=document.querySelector(".kix-appview-editor"),n=document.querySelector(".kix-page-paginated"),o=t.getBoundingClientRect();let i=!1;const s={top:0,left:0};try{if(!e)throw new Error;const t=e.getBoundingClientRect();if(t.left<=0)throw new Error;const n=Math.round(t.top+134||0);s.left=t.left+5,s.top=n?n+20:0,s.top+15<o.top+10&&(s.top=o.top+10),s.top-15>o.bottom&&(i=!0)}catch(e){if(n){const e=n.getBoundingClientRect();s.left=e.right-15,s.top=o.top+30}}return s.left+15>o.right&&(i=!0),{shouldBeOutOfViewport:i,newPosition:s}},ze=()=>!!document.querySelector("#docs-toolbar-wrapper"),He=e=>{const t=e.clipboardData.getData("application/x-vnd.google-docs-document-slice-clip+wrapped"),n=JSON.parse(t),o=JSON.parse(n.data).resolved,i=[];let s="";for(let e=0;e<o.dsl_spacers.length;e++){const t=o.dsl_spacers[e];o.dsl_styleslices.forEach((t=>{if(t.stsl_styles.length>0&&t.stsl_styles[e]){const n=`a${i.length+1}`;i.push({entity_type:t.stsl_type,entity_abbreviation:n,entity:t.stsl_styles[e]}),s+=`<${n}>`}})),s+=t}const a=[],r=s.split("\n").map((e=>{const t=e.replace(/<a\d+>/g,"").trim().length>0;if(t){const{leading:n,trailing:o,processedLine:i}=Be(e);return a.push(i),{isTranslatable:t,index:a.length-1,leading:n,trailing:o}}return{isTranslatable:t,line:e}}));return{textLines:a,entities:i,contentReference:r,originalObject:n,originalText:o.dsl_spacers}},Be=e=>{const{leadingEntities:t,processedLine:n}=Fe(e),{trailingEntities:o,processedLine:i}=Ue(n);return{leading:t,trailing:o,processedLine:i}},Fe=e=>{let t="",n="",o="",i=!0;for(const s of e){if(i){const e=o[o.length-1];if("<"===s&&0===o.length){o="<";continue}if(">"===s&&o.length>0&&e.match(/\d/)){t=t+o+">",o="";continue}if("a"===s&&o.length>0&&"<"===e){o+="a";continue}if(s.match(/\d/)&&o.length>0&&("a"===e||e.match(/\d/))){o+=s;continue}if(qe(s)&&0===o.length){t+=s;continue}i=!1,o=""}n+=s}return{processedLine:n,leadingEntities:t}},Ue=e=>{let t="",n="",o="",i=!0;for(const s of e.split("").reverse()){if(i){if(">"===s&&0===o.length){o=">";continue}if("<"===s&&o.length>0&&"a"===o[0]){t="<"+o+t,o="";continue}if("a"===s&&o.length>0&&o[0].match(/\d/)){o="a"+o;continue}if(s.match(/\d/)&&o.length>0&&(">"===o[0]||o[0].match(/\d/))){o=s+o;continue}if(qe(s)&&0===o.length){t=s+t;continue}i=!1,o=""}n=s+n}return{processedLine:n,trailingEntities:t}},qe=e=>[16,17,18,28].includes(e.charCodeAt(0)),je=({textLines:e,entities:t,contentReference:n})=>{let o=n.map((t=>t.isTranslatable?`${t.leading}${e[t.index]}${t.trailing}`:t.line)).join("\n");o=o.replace(/<\/a(\d+)>/g,"<a$1>");let i="",s=[],a=0,r=0;for(;a+r<o.length;){const e=a+r;if("<"===o[e]&&"a"===o[e+1]){let n="<a",i=!0,l=!1,c=!0;for(;c;){const t=o[e+n.length];">"===t?(n+=t,l||(i=!1),c=!1):t.match(/\d/)?(n+=t,l=!0):(i=!1,c=!1)}if(i){r+=n.length;const e=t.find((e=>`<${e.entity_abbreviation}>`===n));s.push({...e,new_position:a});continue}}i+=o[e],a++}return{processedText:i,processedEntities:s}},We=({entities:e,text:t,originalObject:n})=>{const o=Ge({entities:e,text:t,originalObject:n});Ve(o)},Ge=({entities:e,text:t,originalObject:n})=>{const o=JSON.parse(n.data),i=o.resolved.dsl_styleslices.map((t=>{const n=e.filter((e=>e.entity_type===t.stsl_type));if(0===n.length)return t;const o={};let i=0;n.forEach((e=>{i=e.new_position>i?e.new_position:i,o[`${e.new_position}`]=e.entity}));const s=[];for(let e=0;e<=i;e++)s.push(o[`${e}`]||null);return{...t,stsl_styles:s}})),s={...o.resolved,dsl_spacers:t,dsl_styleslices:i},a={...n,data:JSON.stringify({...o,resolved:s})};return JSON.stringify(a)},Ve=e=>{const{editable:t}=Ie(),n=new DataTransfer;n.setData("application/x-vnd.google-docs-document-slice-clip+wrapped",e);const o=new ClipboardEvent("paste",{bubbles:!0,clipboardData:n});t.dispatchEvent(o)},Ze=(e=25,t=null)=>new Promise((n=>setTimeout((()=>n(t)),e)));function Ke(){return crypto.randomUUID()}function Xe(e){return!!e&&(["EN"].includes(e)?e="EN-GB":["PT"].includes(e)&&(e="PT-PT"),t.map((e=>e.langCode)).includes(e))}const Qe=e=>e.substring(0,2).toUpperCase();async function Ye(e){let t="";const n=await chrome.i18n.detectLanguage(e);return n&&n.languages?.length>0&&(t=n.languages.sort(((e,t)=>t.percentage-e.percentage))[0].language.substr(0,2).toUpperCase()),t}const Je=()=>{let e,n,o=!1;return t.map((t=>{let i;return o=["EN-US","EN-GB","PT-PT","PT-BR"].includes(t.langCode),o&&(({optionLabel:e,selectedLabel:n}=function(e){switch(e.langCode){case"EN-US":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_US"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_US")};case"EN-GB":return{optionLabel:chrome.i18n.getMessage("supported_languages_EN_UK"),selectedLabel:chrome.i18n.getMessage("selected_languages_EN_UK")};case"PT-PT":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_PT"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_PT")};case"PT-BR":return{optionLabel:chrome.i18n.getMessage("supported_languages_PT_BR"),selectedLabel:chrome.i18n.getMessage("selected_languages_PT_BR")};default:return{optionLabel:chrome.i18n.getMessage("supported_languages_undefined"),selectedLabel:chrome.i18n.getMessage("supported_languages_undefined")}}}(t)),i=t.langCode.slice(0,2).toLowerCase()+t.langCode.slice(2)),{value:t.langCode,label:o?e:chrome.i18n.getMessage(`supported_languages_${t.langCode}`),selectedOptionLabel:o?n:chrome.i18n.getMessage(`supported_languages_${t.langCode}`),regionalVariant:i}})).sort(((e,t)=>e.label.localeCompare(t.label,chrome.i18n.getUILanguage())))};function et(e){return"EN"===e?"EN-GB":"PT"===e?"PT-PT":e}const tt="production",nt="development";function ot(){return tt===nt}function it(e){chrome.runtime.sendMessage({action:"dlTrackError",errorMessage:e})}const st="PROTOCOL_ERROR",at="NETWORK_ERROR",rt="FULL_PAGE_SERVER_ERROR",lt="-32003",ct="429",dt="403",ut="1045601",pt="1042902",gt="ENTRY_NOT_FOUND",mt="SERVER_ERROR",ht="TRANSLATED_INPUT_NOT_SET",ft="HTML_NODE_CHAR_LENGTH_TOO_LONG",_t=()=>{const e=window.location.hostname.split(".");if(e.length<2)return!1;return"zendesk.com"===`${e[e.length-2]}.${e[e.length-1]}`},wt=()=>document.querySelector("deepl-zendesk-controller"),vt=e=>{const t=e.match(/^\/agent\/tickets\/(\d+)$/);if(t)return t[1]},$t=()=>{const e=document.querySelector("#main_panes");if(e)return Array.from(e.children).find((e=>"hidden"!==window.getComputedStyle(e).visibility&&"none"!==window.getComputedStyle(e).display))},bt=e=>e.querySelector("deepl-zendesk-ticket-controller"),yt=(e,t)=>{const n=document.createElement("deepl-zendesk-ticket-controller");return e.appendChild(n),n.createDOM({pane:e,ticketId:t}),n},xt=(e,t)=>{try{const n=e.getPane();if(n.querySelector("deepl-zendesk-top-icon")||Lt(n,e),!t)return;e.getTicketLanguageInformation().isSupported?(n.querySelector("deepl-zendesk-toolbar")||St(n,e),n.querySelector("deepl-zendesk-input-icon")||kt(n,e)):n.querySelector("deepl-zendesk-toolbar")||St(n,e)}catch(e){ot()&&console.error(e),it(e.message)}},Ct=()=>{Et(["deepl-zendesk-ticket-controller","deepl-zendesk-top-icon","deepl-zendesk-toolbar","deepl-zendesk-input-icon","deepl-zendesk-message-controller","deepl-zendesk-submit-button-tooltip","deepl-zendesk-onboarding-modal"])},Tt=()=>{Et(["deepl-zendesk-toolbar","deepl-zendesk-input-icon","deepl-zendesk-message-controller","deepl-zendesk-onboarding-modal"]);const e=Array.from(document.getElementsByTagName("deepl-zendesk-ticket-controller"));for(const t of e)t.setIsAutoTranslateEnabled(!1)},Et=e=>{try{for(const t of e)if(t){const e=Array.from(document.getElementsByTagName(t));for(const t of e)t.cleanupDOM(),t.remove()}}catch(e){ot()&&console.error(e),it(e.message)}},Lt=(e,t)=>{const n=document.createElement("deepl-zendesk-top-icon"),o=e.querySelector('[data-test-id="omni-header-filter-trigger"],[data-test-id="omni-header-ticket-actions-trigger"]');if(!o)return;const i=o.parentElement;return i?(i.prepend(n),n.createDOM({controller:t}),n):void 0},St=(e,t)=>{const n=document.createElement("deepl-zendesk-toolbar"),o=e.querySelector('[data-test-id="ticket-call-controls-action-bar"]');if(o)return o.after(n),n.createDOM({controller:t}),n.updateLanguageInformation(t.getTicketLanguageInformation()),n},kt=(e,t)=>{const n=document.createElement("deepl-zendesk-input-icon"),o=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul'),i=e.querySelector('div[data-test-id="ticket-rich-text-editor"] [contenteditable="true"]');if(i&&o&&o)return o.append(n),n.createDOM({controller:t,editable:i}),n},Mt=e=>{const t=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul[data-test-id="ticket-editor-app-icon-view"][data-cy="ticket-editor-app-icon-view"]'),n=e.querySelector('div[data-test-id="omnichannel-composer-toolbar"] ul');return t?Me:n?Oe:void 0},Ot=e=>Array.from(e.querySelectorAll('article[data-test-id="omni-log-comment-item"]')),Nt=e=>{const t=Ot(e);if(!(t.length<1))return t.sort(((e,t)=>{const n=e.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime"),o=t.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime");return n===o?0:new Date(n)<Date(o)?-1:1})),t[0]},It=(e,t)=>{const n=Ot(e);if(n.length<1)return;n.sort(((e,t)=>{const n=e.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime"),o=t.querySelector('time[data-test-id="timestamp-relative"]').getAttribute("datetime");return n===o?0:new Date(n)<Date(o)?-1:1}));const o=[];for(let e=0;e<t;e++)n[e]&&o.push(n[e]);return o},Dt=e=>e.querySelector('[data-test-id="omni-log-item-message"]'),At=async e=>{const t=Nt(e);if(t){const e=t?Dt(t).innerText:"";return await Ye(e)}},Rt=async e=>{const t=It(e,12),n=[];for(const e in t){const o=t[e],i=o?Dt(o).innerText:"",s=o.querySelector('[data-test-id="omni-log-item-sender"] a')?.getAttribute("href"),a=o.querySelector('[data-test-id="omni-log-item-sender"] a strong').innerText;if(0==i.length)continue;let r=n.find((e=>e.id===s));const l=i.includes(`: ${a}`)&&i.indexOf(`: ${a}`)+`: ${a}`.length===i.length,c=0===Number(e);r||(r={id:s,name:a,messages:[],isLikelyCustomer:!1,isFirstMessage:!1},n.push(r)),l&&(r.isLikelyCustomer=!0),c&&(r.isFirstMessage=!0),r.messages.push({message:i,shouldBeSkipped:l||i.length<=3})}const o=(1===n.filter((e=>e.isLikelyCustomer)).length?n.find((e=>e.isLikelyCustomer)):n.find((e=>!e.isFirstMessage))).messages.filter((e=>!e.shouldBeSkipped)).map((e=>e.message));o.sort(((e,t)=>e.length>t.length?-1:e.length<t.length?1:0));const i=o[0];if(i)return await Ye(i)},Pt=(e,t)=>{const n=e.querySelector("deepl-zendesk-toolbar");return!!n&&(n.updateLanguageInformation(t),!0)},zt=(e,{isEnabled:t})=>{const n=e.querySelector("deepl-zendesk-toolbar");return!!n&&(n.updateAutoTranslateStatus(t),!0)},Ht=e=>{const t=e.querySelector("deepl-zendesk-top-icon");return!!t&&(t.triggerUpdateIconSettings(),!0)},Bt=(e,t)=>{const n=e.querySelector("deepl-zendesk-input-icon");return!!n&&(n.updateTargetLanguage(t),!0)},Ft=e=>{try{const t=e.getPane(),n=Ot(t);for(const t of n)Ut(t)||qt(t,e)}catch(e){ot()&&console.error(e),it(e.message)}},Ut=e=>e.querySelector("deepl-zendesk-message-controller"),qt=(e,t)=>{const n=document.createElement("deepl-zendesk-message-controller");return Dt(e).after(n),n.createDOM({controller:t,message:e}),n},jt=e=>{const t=Array.from(e.getPane().querySelectorAll("deepl-zendesk-message-controller"));for(const e of t)e.triggerTranslateAgain()},Wt=e=>{const t=Array.from(e.querySelectorAll("iframe"));for(const e of t)e.contentWindow.postMessage("dl-zendesk-welcome-screen","*")},Gt=e=>{const t=e.querySelector("deepl-zendesk-input-icon");return!!t&&t.getInputHasSelection()},Vt=e=>{const t=e.getPane().querySelector('[data-test-id="submit_button-button"]'),n=t.closest('[data-garden-id="buttons.button_group_view"]'),o=t.getBoundingClientRect(),i=n.getBoundingClientRect(),s=document.createElement("deepl-zendesk-submit-button-tooltip");return s.createDOM({controller:e,coords:o,containerCoords:i}),n.prepend(s),s},Zt=e=>{const t=e.querySelector('[data-test-id="conversation-translator-language-detection-prompt"]');t&&t.remove()},Kt=()=>{wt()?.showOnboarding()};function Xt(e){return new Promise(((t,n)=>{chrome.runtime.sendMessage(e,(function(e){e&&e.error&&n(e),t(e)}))}))}function Qt(e,t){return Xt({action:"dlSendNotification",payload:{type:e,options:t}})}async function Yt(e){if(!chrome.tabs)return;const t=await chrome.tabs.query({active:!0,currentWindow:!0});chrome.tabs.sendMessage(t[0].id,e)}function Jt(e,{isShadow:t=!1,exceptions:n=[]}={}){const o=o=>{const i=t?o.composedPath()[0]:o.target;!e||e.contains(i)||o.defaultPrevented||function(e,t){for(let n of t)if(e.closest(n))return!0;return!1}(i,n)||e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",o,!0),{destroy(){document.removeEventListener("click",o,!0)}}}function en(e){document.addEventListener("deepl-reset-event",e)}function tn(e){const t=e||window.getSelection().getRangeAt(0),n=t.getBoundingClientRect(),o=document.body.parentNode.getBoundingClientRect(),{top:i,left:s,right:a,bottom:r,height:l,width:c}=n,d={x:s-o.left,y:r-o.top,selectedTop:i,selectedBottom:r,selectedRight:o.width-a,selectedLeft:s+window.pageXOffset,selectedWidth:c,height:l};if(t.collapsed){const e=t.commonAncestorContainer;d.x=e.getBoundingClientRect().left,d.y=e.getBoundingClientRect().top+e.offsetHeight}return d}function nn(e){let t=e.childNodes[0];for(let n of Array.from(e.childNodes))if(t.getBoundingClientRect||(t=n),n.getBoundingClientRect&&(n.getBoundingClientRect().right>t.getBoundingClientRect().right&&(t=n),n.hasChildNodes())){const e=nn(n);if(e&&e.getBoundingClientRect){const o=n.getBoundingClientRect(),i=e.getBoundingClientRect();o.right<i.right&&(t=e)}}return t}const on=e=>{const t=[],n=[];return rn({domElements:t,strings:n,element:e}),{domElements:t,strings:n}};function sn(e){for(var t=0;t<e.childNodes.length;++t){const n=e.childNodes[t];if("#text"!=n.nodeName&&"#comment"!=n.nodeName){if("block"==window.getComputedStyle(n).display)return!0;if(sn(n))return!0}}return!1}const an=({strings:e,domElements:t})=>{for(const n in t)t[n].innerHTML=e[n]},rn=({domElements:e,strings:t,element:n})=>{if("#text"!=n.nodeName&&"#comment"!=n.nodeName)if(function(e){if(ln(e)||dn(e))return!1;for(const t of e.childNodes)if("#text"==t.nodeName&&""!=t.wholeText.trim()||"font"==t.nodeName)return!0;for(const t of e.childNodes)if(!ln(t)&&(!cn(t)||dn(t)||"inline"!=window.getComputedStyle(t).display||sn(e)))return!1;if(void 0===e.innerText||""==e.innerText.trim())return!1;if(1===e.childNodes.length){const t=e.childNodes[0];return ln(t)}return!0}(n))e.push(n),t.push(n.innerHTML);else for(const o of n.childNodes)rn({domElements:e,strings:t,element:o})};const ln=e=>"#text"==e.nodeName||"#comment"==e.nodeName,cn=e=>be.includes(e.nodeName.toLowerCase()),dn=e=>$e.includes(e.nodeName.toLowerCase());function un(){}const pn=e=>e;function gn(e){return e()}function mn(){return Object.create(null)}function hn(e){e.forEach(gn)}function fn(e){return"function"==typeof e}function _n(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function wn(e,...t){if(null==e)return un;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function vn(e,t,n){e.$$.on_destroy.push(wn(t,n))}function $n(e,t,n,o){if(e){const i=bn(e,t,n,o);return e[0](i)}}function bn(e,t,n,o){return e[1]&&o?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](o(t))):n.ctx}function yn(e,t,n,o){if(e[2]&&o){const i=e[2](o(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|i[o];return e}return t.dirty|i}return t.dirty}function xn(e,t,n,o,i,s){if(i){const a=bn(t,n,o,s);e.p(a,i)}}function Cn(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function Tn(e){return null==e?"":e}function En(e,t,n){return e.set(n),t}function Ln(e){return e&&fn(e.destroy)?e.destroy:un}const Sn="undefined"!=typeof window;let kn=Sn?()=>window.performance.now():()=>Date.now(),Mn=Sn?e=>requestAnimationFrame(e):un;const On=new Set;function Nn(e){On.forEach((t=>{t.c(e)||(On.delete(t),t.f())})),0!==On.size&&Mn(Nn)}function In(e){let t;return 0===On.size&&Mn(Nn),{promise:new Promise((n=>{On.add(t={c:e,f:n})})),abort(){On.delete(t)}}}function Dn(e,t){e.appendChild(t)}function An(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function Rn(e){const t=Bn("style");return function(e,t){Dn(e.head||e,t),t.sheet}(An(e),t),t.sheet}function Pn(e,t,n){e.insertBefore(t,n||null)}function zn(e){e.parentNode&&e.parentNode.removeChild(e)}function Hn(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function Bn(e){return document.createElement(e)}function Fn(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Un(e){return document.createTextNode(e)}function qn(){return Un(" ")}function jn(){return Un("")}function Wn(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function Gn(e){return function(t){return t.preventDefault(),e.call(this,t)}}function Vn(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function Zn(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Kn(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Xn(e,t){e.value=null==t?"":t}function Qn(e,t,n,o){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function Yn(e,t){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}e.selectedIndex=-1}let Jn;function eo(){if(void 0===Jn){Jn=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){Jn=!0}}return Jn}function to(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const n=Bn("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=eo();let i;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=Wn(window,"message",(e=>{e.source===n.contentWindow&&t()}))):(n.src="about:blank",n.onload=()=>{i=Wn(n.contentWindow,"resize",t)}),Dn(e,n),()=>{(o||i&&n.contentWindow)&&i(),zn(n)}}function no(e,t,n){e.classList[n?"add":"remove"](t)}function oo(e,t,{bubbles:n=!1,cancelable:o=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,o,t),i}class io{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=Fn(t.nodeName):this.e=Bn(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)Pn(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(zn)}}function so(e,t){return new e(t)}const ao=new Map;let ro,lo=0;function co(e,t,n,o,i,s,a,r=0){const l=16.666/o;let c="{\n";for(let e=0;e<=1;e+=l){const o=t+(n-t)*s(e);c+=100*e+`%{${a(o,1-o)}}\n`}const d=c+`100% {${a(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${r}`,p=An(e),{stylesheet:g,rules:m}=ao.get(p)||function(e,t){const n={stylesheet:Rn(t),rules:{}};return ao.set(e,n),n}(p,e);m[u]||(m[u]=!0,g.insertRule(`@keyframes ${u} ${d}`,g.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${u} ${o}ms linear ${i}ms 1 both`,lo+=1,u}function uo(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-o.length;i&&(e.style.animation=o.join(", "),lo-=i,lo||Mn((()=>{lo||(ao.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&zn(t)})),ao.clear())})))}function po(e){ro=e}function go(){if(!ro)throw new Error("Function called outside component initialization");return ro}function mo(e){go().$$.on_mount.push(e)}function ho(e){go().$$.on_destroy.push(e)}function fo(){const e=go();return(t,n,{cancelable:o=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=oo(t,n,{cancelable:o});return i.slice().forEach((t=>{t.call(e,s)})),!s.defaultPrevented}return!0}}function _o(e,t){return go().$$.context.set(e,t),t}function wo(e){return go().$$.context.get(e)}function vo(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const $o=[],bo=[],yo=[],xo=[],Co=Promise.resolve();let To=!1;function Eo(){To||(To=!0,Co.then(Oo))}function Lo(e){yo.push(e)}const So=new Set;let ko,Mo=0;function Oo(){const e=ro;do{for(;Mo<$o.length;){const e=$o[Mo];Mo++,po(e),No(e.$$)}for(po(null),$o.length=0,Mo=0;bo.length;)bo.pop()();for(let e=0;e<yo.length;e+=1){const t=yo[e];So.has(t)||(So.add(t),t())}yo.length=0}while($o.length);for(;xo.length;)xo.pop()();To=!1,So.clear(),po(e)}function No(e){if(null!==e.fragment){e.update(),hn(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Lo)}}function Io(){return ko||(ko=Promise.resolve(),ko.then((()=>{ko=null}))),ko}function Do(e,t,n){e.dispatchEvent(oo(`${t?"intro":"outro"}${n}`))}const Ao=new Set;let Ro;function Po(){Ro={r:0,c:[],p:Ro}}function zo(){Ro.r||hn(Ro.c),Ro=Ro.p}function Ho(e,t){e&&e.i&&(Ao.delete(e),e.i(t))}function Bo(e,t,n,o){if(e&&e.o){if(Ao.has(e))return;Ao.add(e),Ro.c.push((()=>{Ao.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}const Fo={duration:0};function Uo(e,t,n){const o={direction:"in"};let i,s,a=t(e,n,o),r=!1,l=0;function c(){i&&uo(e,i)}function d(){const{delay:t=0,duration:n=300,easing:o=pn,tick:d=un,css:u}=a||Fo;u&&(i=co(e,0,1,n,t,o,u,l++)),d(0,1);const p=kn()+t,g=p+n;s&&s.abort(),r=!0,Lo((()=>Do(e,!0,"start"))),s=In((t=>{if(r){if(t>=g)return d(1,0),Do(e,!0,"end"),c(),r=!1;if(t>=p){const e=o((t-p)/n);d(e,1-e)}}return r}))}let u=!1;return{start(){u||(u=!0,uo(e),fn(a)?(a=a(o),Io().then(d)):d())},invalidate(){u=!1},end(){r&&(c(),r=!1)}}}function qo(e,t,n){const o={direction:"out"};let i,s=t(e,n,o),a=!0;const r=Ro;function l(){const{delay:t=0,duration:n=300,easing:o=pn,tick:l=un,css:c}=s||Fo;c&&(i=co(e,1,0,n,t,o,c));const d=kn()+t,u=d+n;Lo((()=>Do(e,!1,"start"))),In((t=>{if(a){if(t>=u)return l(0,1),Do(e,!1,"end"),--r.r||hn(r.c),!1;if(t>=d){const e=o((t-d)/n);l(1-e,e)}}return a}))}return r.r+=1,fn(s)?Io().then((()=>{s=s(o),l()})):l(),{end(t){t&&s.tick&&s.tick(1,0),a&&(i&&uo(e,i),a=!1)}}}function jo(e){e&&e.c()}function Wo(e,t,n,o){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),o||Lo((()=>{const t=e.$$.on_mount.map(gn).filter(fn);e.$$.on_destroy?e.$$.on_destroy.push(...t):hn(t),e.$$.on_mount=[]})),s.forEach(Lo)}function Go(e,t){const n=e.$$;null!==n.fragment&&(hn(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Vo(e,t,n,o,i,s,a,r=[-1]){const l=ro;po(e);const c=e.$$={fragment:null,ctx:[],props:s,update:un,not_equal:i,bound:mn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:mn(),dirty:r,skip_bound:!1,root:t.target||l.$$.root};a&&a(c.root);let d=!1;if(c.ctx=n?n(e,t.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return c.ctx&&i(c.ctx[t],c.ctx[t]=s)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](s),d&&function(e,t){-1===e.$$.dirty[0]&&($o.push(e),Eo(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n})):[],c.update(),d=!0,hn(c.before_update),c.fragment=!!o&&o(c.ctx),t.target){if(t.hydrate){const e=function(e){return Array.from(e.childNodes)}(t.target);c.fragment&&c.fragment.l(e),e.forEach(zn)}else c.fragment&&c.fragment.c();t.intro&&Ho(e.$$.fragment),Wo(e,t.target,t.anchor,t.customElement),Oo()}po(l)}class Zo{$destroy(){Go(this,1),this.$destroy=un}$on(e,t){if(!fn(t))return un;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ko=[];function Xo(e,t=un){let n;const o=new Set;function i(t){if(_n(e,t)&&(e=t,n)){const t=!Ko.length;for(const t of o)t[1](),Ko.push(t,e);if(t){for(let e=0;e<Ko.length;e+=2)Ko[e][0](Ko[e+1]);Ko.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,a=un){const r=[s,a];return o.add(r),1===o.size&&(n=t(i)||un),s(e),()=>{o.delete(r),0===o.size&&(n(),n=null)}}}}function Qo(){return!!window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}const Yo=Xo(!1);const Jo=function(){let e={isDarkMode:Qo()};const{subscribe:t,update:n}=Xo(e);return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{n((e=>({...e,isDarkMode:Qo()})))})),{subscribe:t,update:e=>{if(ot()){const t="background-color: #403f3e;padding: 3px; font-size:12px;color:#c8e0c1; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE WEBSITE STATE`,t,e)}n((t=>(e&&e.error?function(e){try{const t=document.createElement("deepl-alert");document.documentElement.appendChild(t),t.createDOM(e),en((()=>t.cleanupDOM))}catch(e){ot()&&console.log(e)}}(e.error):Yo.set(!1),{...t,...e,error:e.error?e.error:void 0})))}}}();e.websiteData=void 0;const ei=Jo.subscribe((t=>{e.websiteData={...t},t&&Object.keys(t).length>0&&Xt({action:"newWebsiteState",payload:{...t}})}));function ti(e,t){const n=t.filter((t=>new RegExp(t).exec(e)));return n&&n.length>0}function ni(e,t){return ti(e,C)||ti(t,T)}function oi(e){let t;try{t=new URL(e)}catch(e){return!1}return"http:"===t.protocol||"https:"===t.protocol}function ii(e,t){if(e&&t&&"string"==typeof e&&Array.isArray(t)){if(0===t.length)return e;for(const n of t)e.substr(0,n.length)===n&&(e=e.substr(n.length));return e}}function si(e){try{return new URL(e),!0}catch(e){return!1}}function ai(){const e=document.querySelector("deepl-whatsapp-messages-in-translator");if(e){const t=document.body.querySelector("[data-testid=conversation-panel-messages]"),n=document.querySelector("footer").getBoundingClientRect(),o=t.getBoundingClientRect();return e.style.left=o.right-58+"px",void(e.style.top=n.top-55+"px")}}function ri(){let e=new MutationObserver((()=>{!function(){const e=document.body.querySelectorAll(".message-in");for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&"true"!==t.dataset.dlIsTranslated){t.dataset.dlHasMessageTranslator="true";const e=t.querySelector(".selectable-text.copyable-text");if(e&&e.innerText&&!si(e.innerText)){const n=document.createElement("deepl-whatsapp-message-in-translator");n.createDOM(e,t),n.style.position="absolute",n.style.top="0px",t.appendChild(n)}}}(),function(){const e=document.body.querySelector("[data-testid=conversation-panel-messages]");if(!e)return;const t=document.body.querySelector("[data-testid=conversation-panel-body]").querySelector("[data-testid=down]"),n=document.querySelector("footer").getBoundingClientRect(),o=e.getBoundingClientRect(),i=document.querySelector("deepl-whatsapp-messages-in-translator");if(i)i.style.top=t?n.top-106+"px":n.top-55+"px";else if("true"!==e.dataset.dlHasDeepLTranslator){const t=document.createElement("deepl-whatsapp-messages-in-translator");t.createDOM(),t.style.position="absolute",t.style.left=o.right-58+"px",t.style.top=n.top-55+"px",document.documentElement.appendChild(t),e.dataset.dlHasDeepLTranslator="true"}}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),window.addEventListener("resize",ai),en((()=>{window.removeEventListener("resize",ai),e.disconnect()}))}function li(){console.log("customizing for twitter");let e=new MutationObserver((()=>{!function(){const e=document.body.querySelectorAll("[data-testid='tweetText']");for(let t of e)if("true"!==t.dataset.dlHasMessageTranslator&&(t.dataset.dlHasMessageTranslator="true",t&&t.innerText)){const e=document.createElement("deepl-twitter-tweet-link");return e.createDOM(t),void t.appendChild(e)}}()}));e.observe(document.body,{attributes:!0,childList:!0,subtree:!0}),en((()=>e.disconnect()))}async function ci(e){if(e.includes("session")){const e=await chrome.storage.sync.get(["session"]);e&&!e.session&&await chrome.storage.sync.set({session:{id:Ke(),timestamp:Date.now()}})}return new Promise(((t,n)=>{chrome.storage.sync.get(e,(o=>{o?t(o):n(`Can not get ${e}`)}))}))}const di=function(){const{subscribe:e,set:t,update:n}=Xo({});return chrome.storage.sync.get(null,(e=>{t(e),chrome.storage.local.get(["isLoggedIn","isProUser"],(e=>{n((t=>({...t,...e})))}))})),chrome.storage.onChanged.addListener((e=>{const t=["a_t","r_t","i_t"];let o={};for(const[n,i]of Object.entries(e))!1===t.includes(n)&&(o[n]=i.newValue);if(ot()){const e="background-color: #324054;padding: 3px; font-size:12px;color:#e1e8c3; font-weight:600";console.log(`%c${(new Date).toISOString()} UPDATE USER SETTINGS`,e,o)}n((e=>({...e,...o})))})),{subscribe:e,set:e=>chrome.storage.sync.set(e)}}(),ui=function(){const{subscribe:e,update:t}=Xo({});return chrome.runtime.onMessage.addListener((function(e,n){switch(e.action){case"newWebsiteState":e.payload&&t((t=>({...t,[n.tab.id]:{...t[n.tab.id],...e.payload,error:e.payload.error?e.payload.error:void 0}})));break;case"resetWebsiteState":e.payload&&t((t=>({...t,[n.tab.id]:{...e.payload}})))}})),{subscribe:e,fetchCurrentWebsiteSettings:()=>{chrome.tabs&&chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.sendMessage(e[0].id,{action:"dlGetWebsiteData"},(function(n){t((t=>({...t,[e[0].id]:{...t[e[0].id],...n}})))}))}))}}}(),pi=function(e,t,n){const o=!Array.isArray(e),i=o?[e]:e,s=t.length<2;return a=e=>{let n=!1;const a=[];let r=0,l=un;const c=()=>{if(r)return;l();const n=t(o?a[0]:a,e);s?e(n):l=fn(n)?n:un},d=i.map(((e,t)=>wn(e,(e=>{a[t]=e,r&=~(1<<t),n&&c()}),(()=>{r|=1<<t}))));return n=!0,c(),function(){hn(d),l()}},{subscribe:Xo(n,a).subscribe};var a}(ui,(async(e,t)=>{if(!chrome.tabs)return;t(e[(await chrome.tabs.query({active:!0,currentWindow:!0}))[0].id])})),gi={TRIGGER_HEIGHT:25,TRIGGER_WIDTH:25,TRIGGER_EXPENDED_WIDTH:60};let mi,hi,fi,_i,wi,vi,$i;const{deepl_inline_ui:bi}=L;function yi(e,t=ve.default){try{let n;switch(xi(),hi=document.createElement("deepl-inline-translate-tooltip"),hi.platformBehaviour=t,hi.style.zIndex=bi.z_index,document.documentElement.appendChild(hi),t){case ve.gdocs:n=Re;break;case ve.default:default:n=tn}hi.createDOM(n,xi,e),Jo.update({isTranslationTooltipInjected:!0})}catch(e){ot()&&console.error(e),it(e.message)}}function xi(){try{hi&&(hi.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-translate-tooltip"),(e=>e.remove())),Jo.update({isTranslationTooltipInjected:!1}),hi=void 0)}catch(e){ot()&&console.error(e),it(e.message)}}function Ci(e=ve.default){try{if(fi)return;let t;switch(fi=document.createElement("deepl-inline-translate-settings-tooltip"),fi.style.zIndex=bi.z_index,document.documentElement.appendChild(fi),e){case ve.gdocs:t="deepl-gdocs-icon";break;case ve.default:default:t="deepl-inline-trigger"}const n=function(e){if(!e)return;const t=e.getBoundingClientRect(),n=document.body.parentNode.getBoundingClientRect(),{top:o,left:i,right:s,bottom:a,height:r,width:l}=t;return{x:i-n.left,y:a-n.top,top:o,bottom:a,right:n.width-s,left:i+window.pageXOffset,width:l,height:r}}(document.querySelector(t).shadowRoot.querySelector('[data-qa="deepl-inline-translate-menu-icon"]'));fi.createDOM(n,Ti),Jo.update({isInlineTranslateSettingsTooltipInjected:!0}),en((()=>{Ti()}))}catch(e){ot()&&console.error(e),it(e.message)}}function Ti(){try{if(!fi)return;fi.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-translate-settings-tooltip"),(e=>e.remove())),Jo.update({isInlineTranslateSettingsTooltipInjected:!1}),fi=void 0}catch(e){ot()&&console.error(e),it(e.message)}}function Ei(){try{if(document.querySelector("deepl-page-load-popup"))return;mi=document.createElement("deepl-page-load-popup"),document.documentElement.appendChild(mi),mi.createDOM(),document.addEventListener("click",Li),en((()=>{Li()}))}catch(e){ot()&&console.error(e),it(e.message)}}function Li(){try{mi&&(mi.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-page-load-popup"),(e=>e.remove())),mi=void 0,document.removeEventListener("click",Li))}catch(e){ot()&&console.error(e),it(e.message)}}function Si(){try{if(document.querySelector("deepl-gdocs-icon"))return;vi=document.createElement("deepl-gdocs-icon"),document.documentElement.appendChild(vi),vi.createDOM(),en((()=>{ki()}))}catch(e){ot()&&console.error(e),it(e.message)}}function ki(){try{vi&&(vi.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-gdocs-icon"),(e=>e.remove())),vi=void 0,document.removeEventListener("click",ki))}catch(e){ot()&&console.error(e),it(e.message)}}function Mi(){try{if(wt())return;$i=document.createElement("deepl-zendesk-controller"),document.documentElement.appendChild($i),$i.createDOM(),en((()=>{Oi()}))}catch(e){ot()&&console.error(e),it(e.message)}}function Oi(){try{$i&&($i.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-zendesk-controller"),(e=>e.remove())),$i=void 0,document.removeEventListener("click",Oi))}catch(e){ot()&&console.error(e),it(e.message)}}async function Ni(e){try{if(!_i)return;_i.cleanupDOM(),Array.from(document.getElementsByTagName("deepl-inline-trigger"),(e=>e.remove())),_i=void 0;if(!(await ci(["isInlineHighlighterShown"])).isInlineHighlighterShown&&!e.target.contains(_i)){try{Xt({action:"dltrackCloseInlineHighlighter",payload:{trigger:we}})}catch(e){console.error(e)}di.set({isInlineHighlighterShown:!0})}}catch(e){ot()&&console.error(e),it(e.message)}}function Ii(e,t){Ni();try{_i=document.createElement("deepl-inline-trigger"),_i.style.zIndex=bi.z_index,document.documentElement.appendChild(_i),_i.createDOM(e,t),en((()=>{Ni()}))}catch(e){ot()&&console.error(e),it(e.message)}}function Di(e){const t=t=>{requestAnimationFrame((()=>{const n=window.getSelection();if(!n.toString().trim())return;if(2===t?.button)return;const o=n.getRangeAt(0)?.commonAncestorContainer;if((o.contains(t.target)||t.target.contains(o))&&!n.isCollapsed&&!n.anchorNode?.parentNode?.isContentEditable){let n={clientX:t.clientX||0,pageY:t.pageY||0,detail:t?.detail||0,isOutsideOfView:zi(t)};Ii(e,n)}}))};document.addEventListener("mouseup",t),document.addEventListener("mousedown",Ni),en((()=>{document.removeEventListener("mouseup",t),document.removeEventListener("mousedown",Ni)}))}function Ai(e,t){try{wi=document.createElement("deepl-notification"),wi.style.zIndex=bi.z_index,document.documentElement.appendChild(wi),wi.createDOM(e,t),en((()=>{wi.cleanupDOM()}))}catch(e){ot()&&console.error(e),it(e.message)}}const Ri=e=>{const t=document.createElement("deepl-input-highlighter");e.highlighter=t,document.documentElement.appendChild(t),t.createDOM(e),en((()=>{t.cleanupDOM()}))},Pi=(e=he.initial)=>{const t=document.createElement("deepl-ask-for-review-popup");document.documentElement.appendChild(t),t.createDOM({reviewStage:e}),en((()=>{t.cleanupDOM()}))};function zi({clientX:e=0,pageY:t=0}={}){const n=window.innerWidth||document.documentElement.innerWidth,o=window.scrollHeight||document.documentElement.scrollHeight;return e<0||e>=n||(t<0||t>=o)}function Hi(e){switch(e){case"web.whatsapp.com":ri();break;case"twitter.com":case"tweetdeck.twitter.com":li()}}async function Bi(e){const t=e.split(".");"deepl.com"===t.filter(((e,n)=>n===t.length-1||n===t.length-2)).join(".")&&(document.body.dataset.dlBrowserExtensionPresent="true")}async function Fi(e){const t=await ci(["shouldDisplayFeedbackPopup"]);if("https://deepl.typeform.com/to/MkMfP2Y6"===e)t.shouldDisplayFeedbackPopup&&(di.set({shouldDisplayFeedbackPopup:!1}),Pi(he.feedback))}function Ui(e,t){if("web.whatsapp.com"===t){const t=document.documentElement.querySelector("#side");return!t||!t.contains(e)}return!0}function qi(e,t){if("web.whatsapp.com"===t){const t=document.documentElement.querySelector("#side");if(t&&t.contains(e))return!1}return!0}let ji,Wi,Gi,Vi,Zi,Ki,Xi,Qi=0,Yi=[];const Ji=Jo.subscribe((e=>{ji=e.translationState,e.translatedDOM&&(Yi=e.translatedDOM.map((e=>e))),e.translationState!==Zi&&(Zi=e.translationState,ji===r&&ts())})),es=di.subscribe((e=>{if(0!==Object.keys(e).length){if(Ki=e.isProUser,Xi=e.isLoggedIn,Vi&&Vi!==e.selectedTargetLanguage){const e=ji!==i;e&&ts(),Jo.update({translatedDOM:[]}),Yi=[],e&&Jo.update({translationState:i})}Vi=e.selectedTargetLanguage}}));function ts(){Yi.forEach((e=>{cs(e.original,e.clone),rs(e.original,e.clone),ns(e.original,!1)})),Gi&&(Gi.disconnect(),Gi=void 0),Wi&&(document.removeEventListener("scroll",Wi),Wi=void 0),ji=i}function ns(e,t){if("#text"!=e.nodeName&&"#comment"!=e.nodeName&&e.dataset){e.dataset.dlTranslated=t;for(var n=0;n<e.childNodes.length;++n)ns(e.childNodes[n],t)}}function os(e){if(void 0!==e.dataset){void 0===e.dataset.dlUid&&(e.dataset.dlUid=Qi++),void 0===e.dataset.dlOriginal&&(e.dataset.dlOriginal=!0);for(var t=0;t<e.childNodes.length;++t)os(e.childNodes[t])}}function is(e){if(void 0!==e.attributes){var t=null;for(void 0!==e.dataset&&void 0!==e.dataset.dlUid&&(t=e.dataset.dlUid);e.attributes.length>0;)e.removeAttribute(e.attributes[0].name);null!==t&&(e.dataset.dlUid=t)}for(var n=0;n<e.childNodes.length;++n)is(e.childNodes[n])}function ss(e,t){os(t);var n=t.cloneNode(!0);is(n),e.push({original:t,clone:n}),ns(t,!0)}function as(e,t){if(void 0===t.dataset)return null;if(e.dataset&&e.dataset.dlUid&&t.dataset.dlUid&&e.dataset.dlUid===t.dataset.dlUid)return e;for(var n=0;n<e.childNodes.length;++n){var o=as(e.childNodes[n],t);if(null!==o)return o}return null}function rs(e,t){for(var n=[];e.childNodes.length>0;)n.push(e.removeChild(e.childNodes[0]));for(;t.childNodes.length>0;)e.appendChild(t.childNodes[0]);for(var o=0;o<n.length;++o)t.appendChild(n[o])}function ls(e,t){if(null!==e.parentNode&&null!==t.parentNode){var n=document.createElement("div");e.parentNode.replaceChild(n,e),t.parentNode.replaceChild(e,t),n.parentNode.replaceChild(t,n),rs(e,t)}}function cs(e,t){for(var n=0;n<t.childNodes.length;++n){var o,i=t.childNodes[n],s=as(e,i);if(s)ls(o=s.dataset&&"true"===s.dataset.dlOriginal?s:s.cloneNode(!1),i),cs(e,o);else cs(e,i)}}function ds(t,n=!0){if("#text"==t.nodeName||"#comment"==t.nodeName)return!1;if(!qi(t,e.websiteData.hostname))return!1;if(t.isContentEditable&&n)return!1;if(function(e){switch(e.tagName.toLowerCase()){case"input":return"submit"!==e.getAttribute("type");case"textarea":return!0;default:return!1}}(t))return!1;if(dn(t))return!1;for(var o=0;o<t.childNodes.length;++o){if("#text"==(i=t.childNodes[o]).nodeName&&""!=i.wholeText.trim()||"font"==i.nodeName)return!0}for(o=0;o<t.childNodes.length;++o){var i;if("#text"!=(i=t.childNodes[o]).nodeName&&"#comment"!=i.nodeName&&(!cn(i)||dn(i)||"inline"!=window.getComputedStyle(i).display||sn(t)))return!1}return void 0!==t.innerText&&""!=t.innerText.trim()}function us(e){if(void 0!==e.dataset&&(void 0===e.dataset.dlTranslated||"false"===e.dataset.dlTranslated))return!1;for(var t=0;t<e.childNodes.length;++t){var n=e.childNodes[t];if("#text"!=n.nodeName&&"#comment"!=n.nodeName&&!us(n))return!1}return!0}function ps(e,t){if("#text"!=t.nodeName&&"#comment"!=t.nodeName&&!function(e){if("no"==e.getAttribute("translate"))return!0;var t=e.className;return!(null==t||null==t.split||!t.split(" ").includes("notranslate"))}(t))if(ds(t))(function(e,t){var n=e.getBoundingClientRect(),o=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight;if(n.bottom<0-i*t||n.right<0-o*t)return!1;if(n.top>i*(1+t))return!1;if(n.left>o*(1+t))return!1;var s=window.getComputedStyle(e).position;return"absolute"===s||"fixed"===s||null!==e.offsetParent})(t,.3)&&!us(t)&&ss(e,t);else for(var n=0;n<t.childNodes.length;++n)ps(e,t.childNodes[n])}async function gs(e,t){if(!Ki||!Xi)return;const n=[];try{if(ps(n,document.documentElement),0===n.length)return;Jo.update({translationState:s}),await async function(e,t,n,o,i,s){if(e.length>0)return Xt({action:"dlRequestHtmlTranslation",payload:{sourceLang:t,trigger:o,texts:e.map((e=>e.clone.innerHTML.replace(/<!--(.|\s)*?-->/g,""))),isFirstTime:i,domainName:s}}).then((t=>{for(var n=0;n<e.length;++n)e[n].clone.innerHTML=t[n],cs(e[n].original,e[n].clone),rs(e[n].original,e[n].clone),ns(e[n].original,!0)}))}(n,e.sourceLang,e.noTranslationLanguages,e.trigger,t,window.location.hostname)}catch(e){console.error("error",e);for(var o=0;o<n.length;++o)ns(n[o].original,!1);return Jo.update({translationState:i,error:e.name?e.name:e}),Gi&&Gi.disconnect,void(Wi&&document.removeEventListener("scroll",Wi))}Jo.update({translationState:a}),n.length>0&&Jo.update({translatedDOM:[...Yi,...n]})}async function ms(e){Gi&&(Gi.disconnect(),Gi=void 0),Wi&&(document.removeEventListener("scroll",Wi),Wi=void 0);let t,n,o=!1;Yi.length>0?(Jo.update({translationState:s}),ts(),Yi.forEach((e=>{rs(e.original,e.clone),rs(e.original,e.clone),ns(e.original,!0)})),Jo.update({translationState:a})):o=!0,await gs(e,o),Wi=async()=>{n=!0,window.clearTimeout(t),t=setTimeout((function(){ji===a&&window.requestAnimationFrame((async()=>{await gs(e,!1),n=!1}))}),100)},document.addEventListener("scroll",Wi),Gi=new MutationObserver((t=>{if(n)return;if(ji!==a)return;t.filter((e=>e.addedNodes&&e.addedNodes.length>0)).length>0&&window.requestAnimationFrame((async()=>{await gs(e,!1)}))})),Gi.observe(document.body,{childList:!0,subtree:!0}),en((()=>{Ji(),es(),Gi&&Gi.disconnect(),Wi&&document.removeEventListener("scroll",Wi)}))}function hs(e,t){if(!e||!t)return!1;const n=/[\n\r\s]+/gm,o=e.replace(n,""),i=t.replace(n,"");return o.includes(i)}function fs(e,t,n){let o={block:"end",position:e.length};return t.forEach((t=>{const i=e.indexOf(`<${t}>`,n);i>-1&&i<o.position&&(o={block:t,position:i})})),[o.block,o.position]}function _s(e,t=[]){const n=[];let o=0,i=!1;for(;!i;){const[s,a]=fs(e,t,o);if("end"===s&&(i=!0),o<a&&n.push({block:"main",text:e.substring(o,a)}),i)break;const r=e.indexOf(`</${s}>`,a);-1===r?(n.push({block:s,text:e.substring(a+`<${s}>`.length)}),i=!0):(n.push({block:s,text:e.substring(a+`<${s}>`.length,r)}),o=r+`</${s}>`.length)}return n}function ws(e){return new Promise(((t,n)=>{requestAnimationFrame((()=>{if(e.ownerDocument!==document){const n=e.ownerDocument.createRange();n.selectNodeContents(e);const o=e.ownerDocument.getSelection();o.removeAllRanges(),o.addRange(n),t(o)}else{const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n),t(o)}}))}))}const vs=async(e,t)=>{await Ze(10);const n=new DataTransfer;n.setData("text/html",t.html),n.setData("text/plain",t.text),e.dispatchEvent(new ClipboardEvent("paste",{clipboardData:n,bubbles:!0,cancelable:!0})),n.clearData(),await Ze(10)},$s=async(e,t)=>{const n=document.createEvent("TextEvent");n.initTextEvent("textInput",!0,!0,window,t.text),e.dispatchEvent(n),await Ze(10)},bs=async(e,t)=>{e.value&&e.select(),document.execCommand("insertHTML",!1,t.html),await Ze(20),(e.value||""===e.value)&&(e.value=t.text)},ys=(e,t,n)=>{let o=!0;return(e&&!t||!hs(e,n)&&e===t||!hs(t,n))&&(o=!1),o},xs=(e,t)=>{const n=new KeyboardEvent(e,{bubbles:!0,cancelable:!0,keyCode:8,which:8,location:0,key:"Backspace"});return t.dispatchEvent(n)},Cs=(e,t)=>{const n=new MouseEvent(e,{bubbles:!0,cancelable:!1});return t.dispatchEvent(n)},Ts=e=>e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&["text","search"].includes(e.type),Es=e=>e.selectionStart<e.selectionEnd,Ls=async(e,t,n)=>{if(!Ts(e))return n||(e=>{Cs("mousedown",e);const t=window.getSelection();t.removeAllRanges();const n=new Range;n.setStart(e,0),n.collapse(!1),t.addRange(n),Cs("mouseup",e)})(e),await(async(e,t,n)=>{n||e.focus();const o=e.innerText,i=e.value,s=[{method:vs,isSuccessful:()=>ys(o,e.innerText,t.text)},{method:$s,isSuccessful:()=>ys(o,e.innerText,t.text)},{method:bs,isSuccessful:()=>ys(o,e.innerText,t.text)||ys(i,e.value,t.text)}];for(const n of s)if(await n.method(e,t),n.isSuccessful())return;throw Xt({action:"dlTranslatedInputTextNotSet",payload:window.location.hostname}),new Error({error:ht})})(e,t,!0);if(Es(e)||((e,{start:t,end:n})=>{e.selectionStart=t,e.selectionEnd=n})(e,{start:0,end:e.value.length}),!document.execCommand("insertText",!1,t.text)){const n=e.value.substring(0,e.selectionStart)+t.text+e.value.substring(e.selectionEnd);e.value=n}};function Ss(e){const t=e=>parseFloat(e.split("px")[0]),n=e.clientWidth,o=e.clienHeight,i=t(window.getComputedStyle(e).paddingRight),s=t(window.getComputedStyle(e).paddingLeft),a=t(window.getComputedStyle(e).paddingTop),r=t(window.getComputedStyle(e).paddingBottom);return s+i!==n&&a+r!==o}function ks(e,t){if(!t)return!1;const n=t.getBoundingClientRect();if(Ts(e))return function(e,t){const n=function(e){const t=document.createElement("div");document.body.appendChild(t);var n=window.getComputedStyle(e);t.style.whiteSpace="pre-wrap",t.style.wordWrap="break-word",t.style.position="fixed",t.style.overflow="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"].forEach((function(e){t.style[e]=n[e]}));const o=e.getBoundingClientRect();return t.style.top=Math.round(o.top)+"px",t.style.left=Math.round(o.left)+"px",t.innerText=e.value,t}(e),o=Ms(n,t);return n.remove(),o}(e,n);if(window.getSelection().rangeCount)return Ms(e,n);return!1}function Ms(e,t){const n=window.getSelection();for(const s of e.childNodes)if("#text"===s.nodeName.toLowerCase()){const e=n.getRangeAt(0).cloneRange();e.setStart(s,0),e.setEnd(s,s.textContent.length);const a=e.getClientRects();if(!a.length)continue;for(const e of a)if(i=t,(o=e).left<=i.right&&o.right>=i.left&&o.top<=i.bottom&&o.bottom>=i.top)return!0}else if(e.childNodes.length&&Ms(s,t))return!0;var o,i;return!1}const Os=[];async function Ns(t,n){try{if(t.dataset&&"true"===t.dataset.dlInputTranslation||t.dataset&&"true"===t.dataset.dlNoInputTranslation)return;if("true"===t.contentEditable||"TEXTAREA"===t.nodeName&&t.rows>1){if("none"===window.getComputedStyle(t).display)return;if(e.websiteData.HAS_ALREADY_SENT_INPUT_INJECTION_EVENT||(Xt({action:"dlTrackInputTranslationInjection",payload:window.location.host}),Jo.update({HAS_ALREADY_SENT_INPUT_INJECTION_EVENT:!0})),!function(e){return e.getBoundingClientRect().width>0&&e.getBoundingClientRect().height>0}(t))return;if(!Ui(t,e.websiteData.hostname))return;t.dataset.dlInputTranslation="true";const o=document.createElement("deepl-inline-translate");o.style.zIndex="1999999999";const i=document.createElement("deepl-inline-popup");i.style.zIndex="19999999999",document.documentElement.appendChild(i);const s=o.createDOM(t,i,n);s&&Os.push(s);const a=await ci(["isInputHighlighterShown"]);return o&&(a.isInputHighlighterShown||(Ri(o),di.set({isInputHighlighterShown:!0}))),en((()=>{o.cleanupDOM(),o.remove(),i.cleanupDOM(),i.remove()})),o}for(const e of t.childNodes)Ns(e,n)}catch(e){ot()&&console.error(e),it(e.message)}}function Is(){document.dispatchEvent(new CustomEvent("deepl-clean-up-dom"));const e=e=>{e.target.ownerDocument!==document?Ns(e.target,e.target.ownerDocument.getBoundingClientRect()):Ns(e.target)};document.addEventListener("focusin",e);let t=new MutationObserver((e=>{for(let t of e)for(let e of t.addedNodes)"IFRAME"===e.nodeName&&Ns(e.contentWindow.document,e)}));t.observe(document.body,{childList:!0,subtree:!0}),en((()=>{document.removeEventListener("focusin",e),t.disconnect(),Ds()}))}function Ds(){As("deepl-inline-translate"),As("deepl-inline-popup"),As("deepl-input-highlighter"),document.querySelectorAll("[data-dl-input-translation]").forEach((function(e){e.removeAttribute("data-dl-input-translation")}))}function As(e){const t=document.getElementsByTagName(e);if(t.length)for(let e=t.length-1;e>=0;--e)t[e].cleanupDOM(),t[e].remove()}window.onerror=function(e){/ResizeObserver/gm.test(e)&&Os.forEach((e=>e.resize.disconnect()))};const Rs=t=>{if(t.targetLang&&window.getSelection()&&window.getSelection().toString()){var n=window.getSelection().toString();document.getElementsByTagName("deepl-inline-translate-tooltip").length||yi(Jo),Jo.update({translationState:s,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""}),Xt({action:"dlRequestInlineTranslation",payload:{requests:[{text:n}],domainName:window.location.hostname,trigger:p,sourceLang:e.websiteData.websiteLanguage}}).then((e=>{Jo.update({translationState:i,translatedSnippet:e[0].text,snippetDetectedSourceLang:e[0].detected_source_language,originalSnippet:n,websiteLanguage:e[0].detected_source_language})})).catch((e=>{Jo.update({translationState:i,originalSnippet:n,error:e.message?e.message:e})}))}},Ps=async e=>{const t=await Xt({action:"dlGetAppSettings"});let n=window.getSelection().anchorNode;"#text"===n.nodeName.toLowerCase()&&(n=n.parentNode);const o="textarea"===n.nodeName.toLowerCase(),i=n.closest('[contenteditable="true"]'),s=n.closest("textarea"),a=n.querySelector("textarea"),r=a&&a.selectionStart!==a.selectionEnd,l=o&&n||i||s||r&&a;l?((e,t,n)=>{let o;document.querySelectorAll("deepl-inline-translate").forEach((t=>{t.textElement===e&&(o=t)})),o||(o=Ns(e,e.ownerDocument!==document&&e.ownerDocument.getBoundingClientRect())),t&&o?o.openPopupFromShortcut():o&&(n?o.translateInput():o.openPopupFromShortcut())})(l,e,t.selectedTargetLanguage):Rs({targetLang:t.selectedTargetLanguage}),Xt({action:"dlTrackRightClick",payload:{translationType:l?u:d,domainName:window.location.host}})},zs=async(e,t)=>{xi();const n=await Xt({action:"dlGetAppSettings"});var o;ms({sourceLang:e,trigger:t,isFirstTime:!0,noTranslationLanguages:(o=n.languagesForTranslation,Object.keys(o).filter((e=>{o[e]})))}).catch((e=>{Jo.update({translationState:i,error:e.message?e.message:e})}))},Hs=async t=>{const{event:n,targetLang:o}=t;if(o){const{originalText:t,textLines:o,entities:a,contentReference:r,originalObject:l}=He(n);if(document.getElementsByTagName("deepl-inline-translate-tooltip").length||yi(Jo,ve.gdocs),await(async e=>{if(e.length<=5e3)return!1;const t=await js();return!t.isLoggedIn||!t.isProUser})(t))return void Jo.update({translationState:c,translatedSnippet:"",originalSnippet:t});Jo.update({translationState:s,translatedSnippet:"",snippetDetectedSourceLang:"",translatedDOMSnippet:"",originalSnippet:""}),Xt({action:"dlRequestInlineTranslation",payload:{requests:o.map((e=>({text:e}))),domainName:window.location.hostname,trigger:p,sourceLang:e.websiteData.websiteLanguage,nicheIntegration:ve.gdocs}}).then((e=>{try{const{processedText:n,processedEntities:o}=je({textLines:e.map((e=>e.text)),entities:a,contentReference:r}),s=document.getElementsByTagName("deepl-gdocs-icon")[0];s&&s.setReplaceData({entities:o,text:n,originalObject:l}),Jo.update({translationState:i,translatedSnippet:n,snippetDetectedSourceLang:e[0].detected_source_language,originalSnippet:t,websiteLanguage:e[0].detected_source_language})}catch(e){console.error(e)}})).catch((e=>{Jo.update({translationState:i,originalSnippet:t,error:e.message?e.message:e})}))}},Bs=async e=>{const{element:t,targetLang:n}=e;let o,i="";if(n){const{domElements:e,strings:s}=on(t);try{const o=await Xt({action:"dlRequestInputTranslation",payload:{requests:s.map((e=>({text:e}))),domainName:window.location.hostname,websiteLanguage:n,targetLang:n,platformBehavior:ve.zendesk}}),a=o[0]?.texts;a&&a.length>0&&(an({strings:a,domElements:e}),i=t.innerHTML,t.innerHTML="")}catch(e){console.error(e),o=e.message||e.error||e.name||e}}return[i,o]},Fs=async e=>{const{targetLang:t,sourceLang:n,text:o,trigger:i}=e;let s,a="";if(n&&t)try{const[e,r]=await Xt({action:"dlRequestZendeskMessageTranslation",payload:{domainName:window.location.hostname,sourceLang:n,targetLang:t,text:o,trigger:i}});r?s=r:a=e}catch(e){console.error(e),s=e}return[a,s]},Us=async()=>{let e=document.body.innerText.substring(0,200);if(!e||1===e.length){const t=document.title;t.length>=e.length&&(e=t)}let t="";const n=await chrome.i18n.detectLanguage(e);n&&n.languages?.length>0&&(t=n.languages.sort(((e,t)=>t.percentage-e.percentage))[0].language.substr(0,2).toUpperCase());try{Xt({action:"dlTrackDetectLanguage",payload:{language:t,domainName:window.location.host}})}catch(e){console.error(e)}return t},qs=async()=>{let t=document.documentElement.lang;!t&&e.websiteData.websiteLanguage&&(t=e.websiteData.websiteLanguage),oi(window.location.href);{const t=async()=>{let t=document.documentElement.lang;if(!t&&e.websiteData.websiteLanguage&&(t=e.websiteData.websiteLanguage),t)return t.substr(0,2).toUpperCase();try{Jo.update({translationState:l});const e=await Us();return Jo.update({translationState:i}),e}catch(e){Jo.update({translationState:i,error:e.message?e.message:chrome.i18n.getMessage(e)})}},n=()=>{const e=document.documentElement.className;return/translated/g.test(e)},o=oi(window.location.href),s=await t();Jo.update({websiteLanguage:s,hostname:window.location.hostname,isSupportedLanguage:Xe(s),isGoogleTranslatedActive:n(),isValidUrlForPopup:o});const a=new MutationObserver((async()=>{const e=await t();Jo.update({websiteLanguage:e,isSupportedLanguage:Xe(e),isGoogleTranslatedActive:n(),isValidUrlForPopup:o})}));a.observe(document.documentElement,{attributes:!0,childList:!1,characterData:!1,subtree:!1,attributeFilter:["class"]}),en((()=>{a.disconnect()}))}},js=async()=>await Xt({action:"dlGetUserState"}),Ws=async t=>{if(!t.isTrusted)return;const i=await Xt({action:"dlGetAppSettings"});Zs(),await qs();const s=await js();s.isLoggedIn&&s.isProUser&&(Xe(e.websiteData.websiteLanguage)&&(i.selectedTargetLanguage!==e.websiteData.websiteLanguage||e.websiteData.isGoogleTranslatedActive)&&i.languagesForTranslation[e.websiteData.websiteLanguage]!==o&&(i.blacklistDomains.includes(e.websiteData.hostname)||ti(window.location.host,E)||(("EN"===e.websiteData.websiteLanguage?i.languagesForTranslation["EN-GB"]===n||i.languagesForTranslation["EN-US"]===n:"PT"===e.websiteData.websiteLanguage?i.languagesForTranslation["PT-PT"]===n||i.languagesForTranslation["PT-BR"]===n:i.languagesForTranslation[e.websiteData.websiteLanguage]===n)&&zs(e.websiteData.websiteLanguage,g),i.enableFullPageTranslation&&window===window.parent&&Ei())))},Gs=async()=>{await qs(),Is()},Vs=async()=>{await qs(),Di(Jo)},Zs=()=>{Ne()&&Si(),_t()&&Mi()},Ks=e=>{Yo.set(e)},Xs=async e=>{const t=()=>{for(const t of Object.keys(pe))if(pe[t]&&e.match(pe[t]))return t;if(document.querySelector("iframe#WebApplicationFrame")){const e=document.querySelector("form#frameForm, form#office_form"),t=e&&new URL(e.getAttribute("action"))?.hostname?.toLowerCase();if(t)for(const e of Object.keys(ge))if(ge[e]&&t.includes(ge[e]))return e}if("onedrive.live.com"===e)for(const e of Object.keys(me))if(me[e]&&document.querySelector(`#${me[e]}`))return e;return document.querySelector("body#jira")?"jira":document.querySelector("body#com-atlassian-confluence")?"confluence":void 0},n=t();n?Xt({action:"dlTrackLandingOnWebsite",payload:{website:n}}):setTimeout((()=>{const e=t();e&&Xt({action:"dlTrackLandingOnWebsite",payload:{website:e}})}),2e3)},Qs=async({eventType:e,controller:t,sourceTextLength:n,targetTextLength:o,error:i,metaDataOverride:s={}})=>{const a=t?.getTicketLanguageInformation(),r={agentLanguage:(await Xt({action:"dlGetAppSettings"})).selectedTargetLanguage,ticketLanguage:a?.language,isTicketLanguageAutodetected:a?.isDetected,isTicketLanguageSupported:a?.isSupported,isAutoTranslateEnabled:t.getIsAutoTranslatedEnabled(),sourceTextLength:n,targetTextLength:o,inputHasSelection:t.getInputHasSelection(),error:i,...s};await Xt({action:"dlTrackZendeskCustomizationEvent",payload:{eventType:e,zendeskMetaData:r}})};function Ys(e){const t=e-1;return t*t*t+1}function Js(e,{delay:t=0,duration:n=400,easing:o=pn}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:o,css:e=>"opacity: "+e*i}}function ea(e,{delay:t=0,duration:n=400,easing:o=Ys,x:i=0,y:s=0,opacity:a=0}={}){const r=getComputedStyle(e),l=+r.opacity,c="none"===r.transform?"":r.transform,d=l*(1-a);return{delay:t,duration:n,easing:o,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*i}px, ${(1-e)*s}px);\n\t\t\topacity: ${l-d*t}`}}(function(){var e=window.Document.prototype.createElement,t=window.Document.prototype.createElementNS,n=window.Document.prototype.importNode,o=window.Document.prototype.prepend,i=window.Document.prototype.append,s=window.DocumentFragment.prototype.prepend,a=window.DocumentFragment.prototype.append,r=window.Node.prototype.cloneNode,l=window.Node.prototype.appendChild,c=window.Node.prototype.insertBefore,d=window.Node.prototype.removeChild,u=window.Node.prototype.replaceChild,p=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),g=window.Element.prototype.attachShadow,m=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),h=window.Element.prototype.getAttribute,f=window.Element.prototype.setAttribute,_=window.Element.prototype.removeAttribute,w=window.Element.prototype.getAttributeNS,v=window.Element.prototype.setAttributeNS,$=window.Element.prototype.removeAttributeNS,b=window.Element.prototype.insertAdjacentElement,y=window.Element.prototype.insertAdjacentHTML,x=window.Element.prototype.prepend,C=window.Element.prototype.append,T=window.Element.prototype.before,E=window.Element.prototype.after,L=window.Element.prototype.replaceWith,S=window.Element.prototype.remove,k=window.HTMLElement,M=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),O=window.HTMLElement.prototype.insertAdjacentElement,N=window.HTMLElement.prototype.insertAdjacentHTML,I=new Set;function D(e){var t=I.has(e);return e=/^[a-z][.0-9_a-z]*-[-.0-9_a-z]*$/.test(e),!t&&e}"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" ").forEach((function(e){return I.add(e)}));var A=document.contains?document.contains.bind(document):document.documentElement.contains.bind(document.documentElement);function R(e){var t=e.isConnected;if(void 0!==t)return t;if(A(e))return!0;for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0);return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function P(e){var t=e.children;if(t)return Array.prototype.slice.call(t);for(t=[],e=e.firstChild;e;e=e.nextSibling)e.nodeType===Node.ELEMENT_NODE&&t.push(e);return t}function z(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode;return t&&t!==e?t.nextSibling:null}function H(e,t,n){for(var o=e;o;){if(o.nodeType===Node.ELEMENT_NODE){var i=o;t(i);var s=i.localName;if("link"===s&&"import"===i.getAttribute("rel")){if(o=i.import,void 0===n&&(n=new Set),o instanceof Node&&!n.has(o))for(n.add(o),o=o.firstChild;o;o=o.nextSibling)H(o,t,n);o=z(e,i);continue}if("template"===s){o=z(e,i);continue}if(i=i.__CE_shadowRoot)for(i=i.firstChild;i;i=i.nextSibling)H(i,t,n)}o=o.firstChild?o.firstChild:z(e,o)}}function B(){var e=!(null==re||!re.noDocumentConstructionObserver),t=!(null==re||!re.shadyDomFastWalk);this.m=[],this.g=[],this.j=!1,this.shadyDomFastWalk=t,this.I=!e}function F(e,t,n,o){var i=window.ShadyDOM;if(e.shadyDomFastWalk&&i&&i.inUse){if(t.nodeType===Node.ELEMENT_NODE&&n(t),t.querySelectorAll)for(e=i.nativeMethods.querySelectorAll.call(t,"*"),t=0;t<e.length;t++)n(e[t])}else H(t,n,o)}function U(e,t){e.j&&F(e,t,(function(t){return q(e,t)}))}function q(e,t){if(e.j&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.m.length;n++)e.m[n](t);for(n=0;n<e.g.length;n++)e.g[n](t)}}function j(e,t){var n=[];for(F(e,t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var o=n[t];1===o.__CE_state?e.connectedCallback(o):V(e,o)}}function W(e,t){var n=[];for(F(e,t,(function(e){return n.push(e)})),t=0;t<n.length;t++){var o=n[t];1===o.__CE_state&&e.disconnectedCallback(o)}}function G(e,t,n){var o=(n=void 0===n?{}:n).J,i=n.upgrade||function(t){return V(e,t)},s=[];for(F(e,t,(function(t){if(e.j&&q(e,t),"link"===t.localName&&"import"===t.getAttribute("rel")){var n=t.import;n instanceof Node&&(n.__CE_isImportDocument=!0,n.__CE_registry=document.__CE_registry),n&&"complete"===n.readyState?n.__CE_documentLoadHandled=!0:t.addEventListener("load",(function(){var n=t.import;if(!n.__CE_documentLoadHandled){n.__CE_documentLoadHandled=!0;var s=new Set;o&&(o.forEach((function(e){return s.add(e)})),s.delete(n)),G(e,n,{J:s,upgrade:i})}}))}else s.push(t)}),o),t=0;t<s.length;t++)i(s[t])}function V(e,t){try{var n=t.ownerDocument,o=n.__CE_registry,i=o&&(n.defaultView||n.__CE_isImportDocument)?oe(o,t.localName):void 0;if(i&&void 0===t.__CE_state){i.constructionStack.push(t);try{try{if(new i.constructorFunction!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{i.constructionStack.pop()}}catch(e){throw t.__CE_state=2,e}if(t.__CE_state=1,t.__CE_definition=i,i.attributeChangedCallback&&t.hasAttributes()){var s=i.observedAttributes;for(i=0;i<s.length;i++){var a=s[i],r=t.getAttribute(a);null!==r&&e.attributeChangedCallback(t,a,null,r,null)}}R(t)&&e.connectedCallback(t)}}catch(e){K(e)}}function Z(n,o,i,s){var a=o.__CE_registry;if(a&&(null===s||"http://www.w3.org/1999/xhtml"===s)&&(a=oe(a,i)))try{var r=new a.constructorFunction;if(void 0===r.__CE_state||void 0===r.__CE_definition)throw Error("Failed to construct '"+i+"': The returned value was not constructed with the HTMLElement constructor.");if("http://www.w3.org/1999/xhtml"!==r.namespaceURI)throw Error("Failed to construct '"+i+"': The constructed element's namespace must be the HTML namespace.");if(r.hasAttributes())throw Error("Failed to construct '"+i+"': The constructed element must not have any attributes.");if(null!==r.firstChild)throw Error("Failed to construct '"+i+"': The constructed element must not have any children.");if(null!==r.parentNode)throw Error("Failed to construct '"+i+"': The constructed element must not have a parent node.");if(r.ownerDocument!==o)throw Error("Failed to construct '"+i+"': The constructed element's owner document is incorrect.");if(r.localName!==i)throw Error("Failed to construct '"+i+"': The constructed element's local name is incorrect.");return r}catch(a){return K(a),o=null===s?e.call(o,i):t.call(o,s,i),Object.setPrototypeOf(o,HTMLUnknownElement.prototype),o.__CE_state=2,o.__CE_definition=void 0,q(n,o),o}return q(n,o=null===s?e.call(o,i):t.call(o,s,i)),o}function K(e){var t="",n="",o=0,i=0;e instanceof Error?(t=e.message,n=e.sourceURL||e.fileName||"",o=e.line||e.lineNumber||0,i=e.column||e.columnNumber||0):t="Uncaught "+String(e);var s=void 0;void 0===ErrorEvent.prototype.initErrorEvent?s=new ErrorEvent("error",{cancelable:!0,message:t,filename:n,lineno:o,colno:i,error:e}):((s=document.createEvent("ErrorEvent")).initErrorEvent("error",!1,!0,t,n,o),s.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{configurable:!0,get:function(){return!0}})}),void 0===s.error&&Object.defineProperty(s,"error",{configurable:!0,enumerable:!0,get:function(){return e}}),window.dispatchEvent(s),s.defaultPrevented||console.error(e)}function X(){var e=this;this.g=void 0,this.F=new Promise((function(t){e.l=t}))}function Q(e){var t=document;this.l=void 0,this.h=e,this.g=t,G(this.h,this.g),"loading"===this.g.readyState&&(this.l=new MutationObserver(this.G.bind(this)),this.l.observe(this.g,{childList:!0,subtree:!0}))}function Y(e){e.l&&e.l.disconnect()}function J(e){this.s=new Map,this.u=new Map,this.C=new Map,this.A=!1,this.B=new Map,this.o=function(e){return e()},this.i=!1,this.v=[],this.h=e,this.D=e.I?new Q(e):void 0}function ee(e,t){if(!D(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(oe(e,t))throw Error("A custom element with name '"+t+"' has already been defined.");if(e.A)throw Error("A custom element is already being defined.")}function te(e,t,n){var o;e.A=!0;try{var i=n.prototype;if(!(i instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");var s=function(e){var t=i[e];if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.");return t},a=s("connectedCallback"),r=s("disconnectedCallback"),l=s("adoptedCallback"),c=(o=s("attributeChangedCallback"))&&n.observedAttributes||[]}catch(e){throw e}finally{e.A=!1}return n={localName:t,constructorFunction:n,connectedCallback:a,disconnectedCallback:r,adoptedCallback:l,attributeChangedCallback:o,observedAttributes:c,constructionStack:[]},e.u.set(t,n),e.C.set(n.constructorFunction,n),n}function ne(e){if(!1!==e.i){e.i=!1;for(var t=[],n=e.v,o=new Map,i=0;i<n.length;i++)o.set(n[i],[]);for(G(e.h,document,{upgrade:function(n){if(void 0===n.__CE_state){var i=n.localName,s=o.get(i);s?s.push(n):e.u.has(i)&&t.push(n)}}}),i=0;i<t.length;i++)V(e.h,t[i]);for(i=0;i<n.length;i++){for(var s=n[i],a=o.get(s),r=0;r<a.length;r++)V(e.h,a[r]);(s=e.B.get(s))&&s.resolve(void 0)}n.length=0}}function oe(e,t){var n=e.u.get(t);if(n)return n;if(n=e.s.get(t)){e.s.delete(t);try{return te(e,t,n())}catch(e){K(e)}}}function ie(e,t,n){function o(t){return function(n){for(var o=[],i=0;i<arguments.length;++i)o[i]=arguments[i];i=[];for(var s=[],a=0;a<o.length;a++){var r=o[a];if(r instanceof Element&&R(r)&&s.push(r),r instanceof DocumentFragment)for(r=r.firstChild;r;r=r.nextSibling)i.push(r);else i.push(r)}for(t.apply(this,o),o=0;o<s.length;o++)W(e,s[o]);if(R(this))for(o=0;o<i.length;o++)(s=i[o])instanceof Element&&j(e,s)}}void 0!==n.prepend&&(t.prepend=o(n.prepend)),void 0!==n.append&&(t.append=o(n.append))}function se(e){function n(t,n){Object.defineProperty(t,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){var o=this,i=void 0;if(R(this)&&(i=[],F(e,this,(function(e){e!==o&&i.push(e)}))),n.set.call(this,t),i)for(var s=0;s<i.length;s++){var a=i[s];1===a.__CE_state&&e.disconnectedCallback(a)}return this.ownerDocument.__CE_registry?G(e,this):U(e,this),t}})}function o(t,n){t.insertAdjacentElement=function(t,o){var i=R(o);return t=n.call(this,t,o),i&&W(e,o),R(t)&&j(e,o),t}}function i(t,n){function o(t,n){for(var o=[];t!==n;t=t.nextSibling)o.push(t);for(n=0;n<o.length;n++)G(e,o[n])}t.insertAdjacentHTML=function(e,t){if("beforebegin"===(e=e.toLowerCase())){var i=this.previousSibling;n.call(this,e,t),o(i||this.parentNode.firstChild,this)}else if("afterbegin"===e)i=this.firstChild,n.call(this,e,t),o(this.firstChild,i);else if("beforeend"===e)i=this.lastChild,n.call(this,e,t),o(i||this.firstChild,null);else{if("afterend"!==e)throw new SyntaxError("The value provided ("+String(e)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.");i=this.nextSibling,n.call(this,e,t),o(this.nextSibling,i)}}}g&&(Element.prototype.attachShadow=function(t){if(t=g.call(this,t),e.j&&!t.__CE_patched){t.__CE_patched=!0;for(var n=0;n<e.m.length;n++)e.m[n](t)}return this.__CE_shadowRoot=t}),m&&m.get?n(Element.prototype,m):M&&M.get?n(HTMLElement.prototype,M):function(e,t){e.j=!0,e.g.push(t)}(e,(function(e){n(e,{enumerable:!0,configurable:!0,get:function(){return r.call(this,!0).innerHTML},set:function(e){var n="template"===this.localName,o=n?this.content:this,i=t.call(document,this.namespaceURI,this.localName);for(i.innerHTML=e;0<o.childNodes.length;)d.call(o,o.childNodes[0]);for(e=n?i.content:i;0<e.childNodes.length;)l.call(o,e.childNodes[0])}})})),Element.prototype.setAttribute=function(t,n){if(1!==this.__CE_state)return f.call(this,t,n);var o=h.call(this,t);f.call(this,t,n),n=h.call(this,t),e.attributeChangedCallback(this,t,o,n,null)},Element.prototype.setAttributeNS=function(t,n,o){if(1!==this.__CE_state)return v.call(this,t,n,o);var i=w.call(this,t,n);v.call(this,t,n,o),o=w.call(this,t,n),e.attributeChangedCallback(this,n,i,o,t)},Element.prototype.removeAttribute=function(t){if(1!==this.__CE_state)return _.call(this,t);var n=h.call(this,t);_.call(this,t),null!==n&&e.attributeChangedCallback(this,t,n,null,null)},Element.prototype.removeAttributeNS=function(t,n){if(1!==this.__CE_state)return $.call(this,t,n);var o=w.call(this,t,n);$.call(this,t,n);var i=w.call(this,t,n);o!==i&&e.attributeChangedCallback(this,n,o,i,t)},O?o(HTMLElement.prototype,O):b&&o(Element.prototype,b),N?i(HTMLElement.prototype,N):y&&i(Element.prototype,y),ie(e,Element.prototype,{prepend:x,append:C}),function(e){function t(t){return function(n){for(var o=[],i=0;i<arguments.length;++i)o[i]=arguments[i];i=[];for(var s=[],a=0;a<o.length;a++){var r=o[a];if(r instanceof Element&&R(r)&&s.push(r),r instanceof DocumentFragment)for(r=r.firstChild;r;r=r.nextSibling)i.push(r);else i.push(r)}for(t.apply(this,o),o=0;o<s.length;o++)W(e,s[o]);if(R(this))for(o=0;o<i.length;o++)(s=i[o])instanceof Element&&j(e,s)}}var n=Element.prototype;void 0!==T&&(n.before=t(T)),void 0!==E&&(n.after=t(E)),void 0!==L&&(n.replaceWith=function(t){for(var n=[],o=0;o<arguments.length;++o)n[o]=arguments[o];o=[];for(var i=[],s=0;s<n.length;s++){var a=n[s];if(a instanceof Element&&R(a)&&i.push(a),a instanceof DocumentFragment)for(a=a.firstChild;a;a=a.nextSibling)o.push(a);else o.push(a)}for(s=R(this),L.apply(this,n),n=0;n<i.length;n++)W(e,i[n]);if(s)for(W(e,this),n=0;n<o.length;n++)(i=o[n])instanceof Element&&j(e,i)}),void 0!==S&&(n.remove=function(){var t=R(this);S.call(this),t&&W(e,this)})}(e)}B.prototype.connectedCallback=function(e){var t=e.__CE_definition;if(t.connectedCallback)try{t.connectedCallback.call(e)}catch(e){K(e)}},B.prototype.disconnectedCallback=function(e){var t=e.__CE_definition;if(t.disconnectedCallback)try{t.disconnectedCallback.call(e)}catch(e){K(e)}},B.prototype.attributeChangedCallback=function(e,t,n,o,i){var s=e.__CE_definition;if(s.attributeChangedCallback&&-1<s.observedAttributes.indexOf(t))try{s.attributeChangedCallback.call(e,t,n,o,i)}catch(e){K(e)}},X.prototype.resolve=function(e){if(this.g)throw Error("Already resolved.");this.g=e,this.l(e)},Q.prototype.G=function(e){var t=this.g.readyState;for("interactive"!==t&&"complete"!==t||Y(this),t=0;t<e.length;t++)for(var n=e[t].addedNodes,o=0;o<n.length;o++)G(this.h,n[o])},J.prototype.H=function(e,t){var n=this;if(!(t instanceof Function))throw new TypeError("Custom element constructor getters must be functions.");ee(this,e),this.s.set(e,t),this.v.push(e),this.i||(this.i=!0,this.o((function(){return ne(n)})))},J.prototype.define=function(e,t){var n=this;if(!(t instanceof Function))throw new TypeError("Custom element constructors must be functions.");ee(this,e),te(this,e,t),this.v.push(e),this.i||(this.i=!0,this.o((function(){return ne(n)})))},J.prototype.upgrade=function(e){G(this.h,e)},J.prototype.get=function(e){if(e=oe(this,e))return e.constructorFunction},J.prototype.whenDefined=function(e){if(!D(e))return Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."));var t=this.B.get(e);if(t)return t.F;t=new X,this.B.set(e,t);var n=this.u.has(e)||this.s.has(e);return e=-1===this.v.indexOf(e),n&&e&&t.resolve(void 0),t.F},J.prototype.polyfillWrapFlushCallback=function(e){this.D&&Y(this.D);var t=this.o;this.o=function(n){return e((function(){return t(n)}))}},J.prototype.define=J.prototype.define,J.prototype.upgrade=J.prototype.upgrade,J.prototype.get=J.prototype.get,J.prototype.whenDefined=J.prototype.whenDefined,J.prototype.polyfillDefineLazy=J.prototype.H,J.prototype.polyfillWrapFlushCallback=J.prototype.polyfillWrapFlushCallback;var ae={};var re=window.customElements;function le(){var t=new B;!function(t){function n(){var n=this.constructor,o=document.__CE_registry.C.get(n);if(!o)throw Error("Failed to construct a custom element: The constructor was not registered with `customElements`.");var i=o.constructionStack;if(0===i.length)return i=e.call(document,o.localName),Object.setPrototypeOf(i,n.prototype),i.__CE_state=1,i.__CE_definition=o,q(t,i),i;var s=i.length-1,a=i[s];if(a===ae)throw Error("Failed to construct '"+o.localName+"': This element was already constructed.");return i[s]=ae,Object.setPrototypeOf(a,n.prototype),q(t,a),a}n.prototype=k.prototype,Object.defineProperty(HTMLElement.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:n}),window.HTMLElement=n}(t),function(e){Document.prototype.createElement=function(t){return Z(e,this,t,null)},Document.prototype.importNode=function(t,o){return t=n.call(this,t,!!o),this.__CE_registry?G(e,t):U(e,t),t},Document.prototype.createElementNS=function(t,n){return Z(e,this,n,t)},ie(e,Document.prototype,{prepend:o,append:i})}(t),ie(t,DocumentFragment.prototype,{prepend:s,append:a}),function(e){function t(t,n){Object.defineProperty(t,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(t){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,t);else{var o=void 0;if(this.firstChild){var i=this.childNodes,s=i.length;if(0<s&&R(this)){o=Array(s);for(var a=0;a<s;a++)o[a]=i[a]}}if(n.set.call(this,t),o)for(t=0;t<o.length;t++)W(e,o[t])}}})}Node.prototype.insertBefore=function(t,n){if(t instanceof DocumentFragment){var o=P(t);if(t=c.call(this,t,n),R(this))for(n=0;n<o.length;n++)j(e,o[n]);return t}return o=t instanceof Element&&R(t),n=c.call(this,t,n),o&&W(e,t),R(this)&&j(e,t),n},Node.prototype.appendChild=function(t){if(t instanceof DocumentFragment){var n=P(t);if(t=l.call(this,t),R(this))for(var o=0;o<n.length;o++)j(e,n[o]);return t}return n=t instanceof Element&&R(t),o=l.call(this,t),n&&W(e,t),R(this)&&j(e,t),o},Node.prototype.cloneNode=function(t){return t=r.call(this,!!t),this.ownerDocument.__CE_registry?G(e,t):U(e,t),t},Node.prototype.removeChild=function(t){var n=t instanceof Element&&R(t),o=d.call(this,t);return n&&W(e,t),o},Node.prototype.replaceChild=function(t,n){if(t instanceof DocumentFragment){var o=P(t);if(t=u.call(this,t,n),R(this))for(W(e,n),n=0;n<o.length;n++)j(e,o[n]);return t}o=t instanceof Element&&R(t);var i=u.call(this,t,n),s=R(this);return s&&W(e,n),o&&W(e,t),s&&j(e,t),i},p&&p.get?t(Node.prototype,p):function(e,t){e.j=!0,e.m.push(t)}(e,(function(e){t(e,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=this.firstChild;t;t=t.nextSibling)t.nodeType!==Node.COMMENT_NODE&&e.push(t.textContent);return e.join("")},set:function(e){for(;this.firstChild;)d.call(this,this.firstChild);null!=e&&""!==e&&l.call(this,document.createTextNode(e))}})}))}(t),se(t),window.CustomElementRegistry=J,t=new J(t),document.__CE_registry=t,Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:t})}re&&!re.forcePolyfill&&"function"==typeof re.define&&"function"==typeof re.get||le(),window.__CE_installPolyfill=le}).call(self);const ta="ACCESS_DENIED",na="INVALID_REQUEST",oa="INVALID_GRANT",ia="INVALID_NONCE";function sa(){return!!chrome&&!!chrome.tabs}function aa(e){let t,n,o;return{c(){t=Bn("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',Zn(t,"class","dl-close-icon svelte-qdqw71")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",(function(){fn(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&zn(t),n=!1,o()}}}function ra(e){let t,n,o,i,s,a;const r=e[2].default,l=$n(r,e,e[1],null);let c=e[0]&&aa(e);return{c(){t=Bn("div"),n=Bn("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 12L10 10M10 10L12 8M10 10L8 8M10 10L12 12M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#DA5E5C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=qn(),i=Bn("div"),l&&l.c(),s=qn(),c&&c.c(),Zn(n,"class","icon-container svelte-qdqw71"),Zn(i,"class","message svelte-qdqw71"),Zn(t,"class","error-msg svelte-qdqw71")},m(e,r){Pn(e,t,r),Dn(t,n),Dn(t,o),Dn(t,i),l&&l.m(i,null),Dn(t,s),c&&c.m(t,null),a=!0},p(e,[n]){l&&l.p&&(!a||2&n)&&xn(l,r,e,e[1],a?yn(r,e[1],n,null):Cn(e[1]),null),e[0]?c?c.p(e,n):(c=aa(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){a||(Ho(l,e),a=!0)},o(e){Bo(l,e),a=!1},d(e){e&&zn(t),l&&l.d(e),c&&c.d()}}}function la(e,t,n){let{$$slots:o={},$$scope:i}=t,{close:s}=t;return e.$$set=e=>{"close"in e&&n(0,s=e.close),"$$scope"in e&&n(1,i=e.$$scope)},[s,i,o]}class ca extends Zo{constructor(e){super(),Vo(this,e,la,ra,_n,{close:0})}}function da(e){let t,n,o;return{c(){t=Bn("button"),t.innerHTML='<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1 13L13 1M1 1L13 13" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',Zn(t,"class","dl-close-icon svelte-1jf0jj0")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",(function(){fn(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&zn(t),n=!1,o()}}}function ua(e){let t,n,o,i,s,a;const r=e[2].default,l=$n(r,e,e[1],null);let c=e[0]&&da(e);return{c(){t=Bn("div"),n=Bn("div"),n.innerHTML='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6V10M10 14H10.01M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="#ECBA82" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg>',o=qn(),i=Bn("div"),l&&l.c(),s=qn(),c&&c.c(),Zn(n,"class","icon-container svelte-1jf0jj0"),Zn(i,"class","message svelte-1jf0jj0"),Zn(t,"class","warn-msg svelte-1jf0jj0")},m(e,r){Pn(e,t,r),Dn(t,n),Dn(t,o),Dn(t,i),l&&l.m(i,null),Dn(t,s),c&&c.m(t,null),a=!0},p(e,[n]){l&&l.p&&(!a||2&n)&&xn(l,r,e,e[1],a?yn(r,e[1],n,null):Cn(e[1]),null),e[0]?c?c.p(e,n):(c=da(e),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(e){a||(Ho(l,e),a=!0)},o(e){Bo(l,e),a=!1},d(e){e&&zn(t),l&&l.d(e),c&&c.d()}}}function pa(e,t,n){let{$$slots:o={},$$scope:i}=t,{close:s}=t;return e.$$set=e=>{"close"in e&&n(0,s=e.close),"$$scope"in e&&n(1,i=e.$$scope)},[s,i,o]}class ga extends Zo{constructor(e){super(),Vo(this,e,pa,ua,_n,{close:0})}}function ma(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("error_message_generic_error")}`,Zn(t,"data-qa","error-message-generic")},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}class ha extends Zo{constructor(e){super(),Vo(this,e,null,ma,_n,{})}}function fa(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("error_message_internet_connection")}`},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}class _a extends Zo{constructor(e){super(),Vo(this,e,null,fa,_n,{})}}function wa(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_error_service_not_available")}`},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}class va extends Zo{constructor(e){super(),Vo(this,e,null,wa,_n,{})}}const $a="DOCS_GOOGLE_COM_FEEDBACK_FORM",ba="DEEPL_COM_PRO",ya="DEEPL_COM_TRANSLATOR",xa="DEEPL_COM_HOMEPAGE",Ca="SHORTCUT_SETTINGS",Ta="CHROME_WRITE_A_REVIEW",Ea="EDGE_WRITE_A_REVIEW",La="DEEPL_SUPPORT";function Sa(e){let t,n,o,i,s,a;return{c(){t=Bn("div"),n=Bn("div"),n.textContent=`${chrome.i18n.getMessage("warning_message_different_subscription_needed")}`,o=qn(),i=Bn("div"),i.textContent=`${chrome.i18n.getMessage("link_get_pro_license")}`,Zn(i,"class","link svelte-1mpkjv7"),Zn(t,"class","container svelte-1mpkjv7")},m(r,l){Pn(r,t,l),Dn(t,n),Dn(t,o),Dn(t,i),s||(a=Wn(i,"click",e[0]),s=!0)},p:un,i:un,o:un,d(e){e&&zn(t),s=!1,a()}}}function ka(e){return[function(){Xt({action:"dlExternalURLRedirect",payload:{destination:ba,utmContent:"warning_user_unauthorised"}})}]}class Ma extends Zo{constructor(e){super(),Vo(this,e,ka,Sa,_n,{})}}function Oa(e){let t,n,o,i,s,a;return{c(){t=Bn("div"),n=Bn("div"),n.textContent=`${chrome.i18n.getMessage("warning_message_free_usage_limit_reached")}`,o=qn(),i=Bn("div"),i.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,Zn(i,"class","link svelte-1mpkjv7"),Zn(t,"class","container svelte-1mpkjv7")},m(r,l){Pn(r,t,l),Dn(t,n),Dn(t,o),Dn(t,i),s||(a=Wn(i,"click",e[0]),s=!0)},p:un,i:un,o:un,d(e){e&&zn(t),s=!1,a()}}}function Na(e){return[function(){Xt({action:"dlExternalURLRedirect",payload:{destination:ba,utmContent:"warning_user_blocked"}})}]}class Ia extends Zo{constructor(e){super(),Vo(this,e,Na,Oa,_n,{})}}function Da(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("error_message_please_login")}`},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}class Aa extends Zo{constructor(e){super(),Vo(this,e,null,Da,_n,{})}}function Ra(e,t,n){const o=e.slice();return o[1]=t[n],o}function Pa(e){let t,n=e[1].text+"";return{c(){t=Un(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function za(e){let t,n,o,i,s,a=e[1].text+"";return{c(){t=Bn("span"),n=Un(a),o=qn(),Zn(t,"class","link svelte-1mpkjv7")},m(a,r){Pn(a,t,r),Dn(t,n),Dn(t,o),i||(s=Wn(t,"click",e[0]),i=!0)},p:un,d(e){e&&zn(t),i=!1,s()}}}function Ha(e){let t;let n=function(e,t){return"deeplSupportLink"===e[1].block?za:Pa}(e),o=n(e);return{c(){o.c(),t=jn()},m(e,n){o.m(e,n),Pn(e,t,n)},p(e,t){o.p(e,t)},d(e){o.d(e),e&&zn(t)}}}function Ba(e){let t,n=_s(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"]),o=[];for(let t=0;t<n.length;t+=1)o[t]=Ha(Ra(e,n,t));return{c(){t=Bn("div");for(let e=0;e<o.length;e+=1)o[e].c();Zn(t,"class","container svelte-1mpkjv7")},m(e,n){Pn(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,[i]){if(1&i){let s;for(n=_s(chrome.i18n.getMessage("warning_message_account_limit_reached"),["deeplSupportLink"]),s=0;s<n.length;s+=1){const a=Ra(e,n,s);o[s]?o[s].p(a,i):(o[s]=Ha(a),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},i:un,o:un,d(e){e&&zn(t),Hn(o,e)}}}function Fa(e){return[function(){Xt({action:"dlExternalURLRedirect",payload:{destination:La}})}]}class Ua extends Zo{constructor(e){super(),Vo(this,e,Fa,Ba,_n,{})}}function qa(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("error_message_technical_issue")}`},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}class ja extends Zo{constructor(e){super(),Vo(this,e,null,qa,_n,{})}}function Wa(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("error_message_session_expired")}`},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}class Ga extends Zo{constructor(e){super(),Vo(this,e,null,Wa,_n,{})}}function Va(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_error_exceeds_char_limit")}`},m(e,n){Pn(e,t,n)},p:un,i:un,o:un,d(e){e&&zn(t)}}}class Za extends Zo{constructor(e){super(),Vo(this,e,null,Va,_n,{})}}function Ka(e){let t,n,o;var i=e[1];return i&&(t=so(i,{})),{c(){t&&jo(t.$$.fragment),n=jn()},m(e,i){t&&Wo(t,e,i),Pn(e,n,i),o=!0},p(e,o){if(i!==(i=e[1])){if(t){Po();const e=t;Bo(e.$$.fragment,1,0,(()=>{Go(e,1)})),zo()}i?(t=so(i,{}),jo(t.$$.fragment),Ho(t.$$.fragment,1),Wo(t,n.parentNode,n)):t=null}},i(e){o||(t&&Ho(t.$$.fragment,e),o=!0)},o(e){t&&Bo(t.$$.fragment,e),o=!1},d(e){e&&zn(n),t&&Go(t,e)}}}function Xa(e){let t,n;return t=new ga({props:{close:e[0],$$slots:{default:[Ya]},$$scope:{ctx:e}}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.close=e[0]),130&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Qa(e){let t,n;return t=new ca({props:{close:e[0],$$slots:{default:[Ja]},$$scope:{ctx:e}}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.close=e[0]),130&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Ya(e){let t,n,o;var i=e[1];return i&&(t=so(i,{})),{c(){t&&jo(t.$$.fragment),n=jn()},m(e,i){t&&Wo(t,e,i),Pn(e,n,i),o=!0},p(e,o){if(i!==(i=e[1])){if(t){Po();const e=t;Bo(e.$$.fragment,1,0,(()=>{Go(e,1)})),zo()}i?(t=so(i,{}),jo(t.$$.fragment),Ho(t.$$.fragment,1),Wo(t,n.parentNode,n)):t=null}},i(e){o||(t&&Ho(t.$$.fragment,e),o=!0)},o(e){t&&Bo(t.$$.fragment,e),o=!1},d(e){e&&zn(n),t&&Go(t,e)}}}function Ja(e){let t,n,o;var i=e[1];return i&&(t=so(i,{})),{c(){t&&jo(t.$$.fragment),n=jn()},m(e,i){t&&Wo(t,e,i),Pn(e,n,i),o=!0},p(e,o){if(i!==(i=e[1])){if(t){Po();const e=t;Bo(e.$$.fragment,1,0,(()=>{Go(e,1)})),zo()}i?(t=so(i,{}),jo(t.$$.fragment),Ho(t.$$.fragment,1),Wo(t,n.parentNode,n)):t=null}},i(e){o||(t&&Ho(t.$$.fragment,e),o=!0)},o(e){t&&Bo(t.$$.fragment,e),o=!1},d(e){e&&zn(n),t&&Go(t,e)}}}function er(e){let t,n,o,i;const s=[Qa,Xa,Ka],a=[];function r(e,t){return e[2]===e[3].SERIOUS||e[2]===e[3].UNKNOWN?0:e[2]===e[3].WARNING?1:e[2]===e[3].CUSTOM?2:-1}return~(t=r(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),o=jn()},m(e,n){~t&&a[t].m(e,n),Pn(e,o,n),i=!0},p(e,[i]){let l=t;t=r(e),t===l?~t&&a[t].p(e,i):(n&&(Po(),Bo(a[l],1,1,(()=>{a[l]=null})),zo()),~t?(n=a[t],n?n.p(e,i):(n=a[t]=s[t](e),n.c()),Ho(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(Ho(n),i=!0)},o(e){Bo(n),i=!1},d(e){~t&&a[t].d(e),e&&zn(o)}}}function tr(e,t,n){let o,i,{error:s}=t,{close:a}=t;const r={UNKNOWN:1,WARNING:2,SERIOUS:3,CUSTOM:4},l={[st]:ha,[at]:_a,[rt]:va,[dt]:Aa,[ta]:Ga,[oa]:Ga,[na]:Ga,[ia]:Ga,[ct]:Ia,[pt]:Ia,[ft]:Za,[lt]:Ma,[ut]:Ua,[ht]:ja};return mo((()=>{sa()?Yt({action:"dlErrorVisibility",payload:{state:!0}}):Yo.set(!0)})),ho((()=>{sa()?Yt({action:"dlErrorVisibility",payload:{state:!1}}):Yo.set(!1)})),e.$$set=e=>{"error"in e&&n(4,s=e.error),"close"in e&&n(0,a=e.close)},e.$$.update=()=>{16&e.$$.dirty&&n(2,o=function(e){switch(e){case st:case at:case rt:case dt:case ta:case oa:case na:case ia:case ht:return r.SERIOUS;case ct:case pt:case ft:case lt:case ut:return r.WARNING;default:return r.UNKNOWN}}(s?s.error:"")),16&e.$$.dirty&&n(1,i=s&&l[s.error]||ha)},[a,i,o,r,s]}class nr extends Zo{constructor(e){super(),Vo(this,e,tr,er,_n,{error:4,close:0})}}function or(e){let t,n,o,i,s;return n=new nr({props:{error:e[1],close:e[2]}}),{c(){t=Bn("div"),jo(n.$$.fragment),Zn(t,"class","container svelte-1wstx56")},m(e,o){Pn(e,t,o),Wo(n,t,null),s=!0},p(e,t){const o={};2&t&&(o.error=e[1]),4&t&&(o.close=e[2]),n.$set(o)},i(e){s||(Ho(n.$$.fragment,e),Lo((()=>{i&&i.end(1),o=Uo(t,ea,{x:100,duration:1e3}),o.start()})),s=!0)},o(e){Bo(n.$$.fragment,e),o&&o.invalidate(),i=qo(t,ea,{x:100,duration:1e3}),s=!1},d(e){e&&zn(t),Go(n),e&&i&&i.end()}}}function ir(e){let t,n,o=e[3]&&!1===e[0]&&or(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,[n]){e[3]&&!1===e[0]?o?(o.p(e,n),9&n&&Ho(o,1)):(o=or(e),o.c(),Ho(o,1),o.m(t.parentNode,t)):o&&(Po(),Bo(o,1,1,(()=>{o=null})),zo())},i(e){n||(Ho(o),n=!0)},o(e){Bo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function sr(e,t,n){let o;vn(e,Yo,(e=>n(4,o=e)));let{error:i}=t,{close:s}=t,{errorAlreadyShown:a}=t,r=!1;return mo((()=>{setTimeout((()=>{n(3,r=!0),n(0,a=o)}),100)})),e.$$set=e=>{"error"in e&&n(1,i=e.error),"close"in e&&n(2,s=e.close),"errorAlreadyShown"in e&&n(0,a=e.errorAlreadyShown)},[a,i,s,r]}class ar extends Zo{constructor(e){super(),Vo(this,e,sr,ir,_n,{error:1,close:2,errorAlreadyShown:0})}}class rr extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent=void 0;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM(e){this.shadowContainer.style.cssText=`position: fixed; top: 20px; right: 20px; z-index: ${L.deepl_inline_ui.z_index}`,this.mainComponent=new ar({target:this.shadowContainer,props:{error:e,close:this.cleanupDOM}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy(),this.remove()}}function lr(e){let t,n,o;return{c(){t=Bn("div"),Zn(t,"class","container svelte-1dicgbw")},m(i,s){Pn(i,t,s),t.innerHTML=e[1],n||(o=Wn(t,"click",e[0]),n=!0)},p:un,i:un,o:un,d(e){e&&zn(t),n=!1,o()}}}function cr(e){return[function(){Xt({action:"dlExternalURLRedirect",payload:{destination:Ca}}),Xt({action:"dlTrackUiAction",payload:{uiAction:te}})},chrome.i18n.getMessage("notification_keyboard_shortcut_hint",`<span style="color: #006494; text-decoration: underline;">${chrome.i18n.getMessage("notification_keyboard_shortcut_hint_placeholder")}</span>`)]}window.customElements.define("deepl-alert",rr);class dr extends Zo{constructor(e){super(),Vo(this,e,cr,lr,_n,{})}}const ur={developer_tools:"DEVELOPER_TOOLS",settings_page:"SETTINGS_PAGE",settings_writing:"SETTINGS_WRITING",settings_reading:"SETTINGS_READING",onboarding:"ONBOARDING"};function pr(e){let t,n,o;return{c(){t=Bn("div"),Zn(t,"class","container svelte-1dicgbw"),Zn(t,"data-qa","deepl-notification-open-settings-page-writing-link")},m(i,s){Pn(i,t,s),t.innerHTML=e[0],n||(o=Wn(t,"click",e[1]),n=!0)},p(e,[n]){1&n&&(t.innerHTML=e[0])},i:un,o:un,d(e){e&&zn(t),n=!1,o()}}}function gr(e,t,n){let{options:o}=t,i=o?.settingsPageURL?o?.settingsPageURL:ur.settings_page;let s="",a=o?.currentDomain?o.currentDomain:"";switch(o.saveAction){case ae:s=chrome.i18n.getMessage("notification_input_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`);break;case se:s=chrome.i18n.getMessage("notification_input_translation_disabled_per_site",[a,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_input_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&n(2,o=e.options)},[s,function(){Xt({action:"dlOpenInternalPage",payload:{destination:i}})},o]}class mr extends Zo{constructor(e){super(),Vo(this,e,gr,pr,_n,{options:2})}}function hr(e){let t,n,o;return{c(){t=Bn("div"),Zn(t,"class","container svelte-1dicgbw"),Zn(t,"data-qa","deepl-notification-open-settings-page-reading-link")},m(i,s){Pn(i,t,s),t.innerHTML=e[0],n||(o=Wn(t,"click",e[1]),n=!0)},p(e,[n]){1&n&&(t.innerHTML=e[0])},i:un,o:un,d(e){e&&zn(t),n=!1,o()}}}function fr(e,t,n){let{options:o}=t,i=o?.settingsPageURL?o?.settingsPageURL:ur.settings_page;let s="",a=o?.currentDomain?o.currentDomain:"";switch(o.saveAction){case ae:s=chrome.i18n.getMessage("notification_inline_translation_disabled_everywhere",`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`);break;case se:s=chrome.i18n.getMessage("notification_inline_translation_disabled_per_site",[a,`<span style="text-decoration: underline;">${chrome.i18n.getMessage("notification_inline_translation_link_to_settings_placeholder")}</span>`])}return e.$$set=e=>{"options"in e&&n(2,o=e.options)},[s,function(){Xt({action:"dlOpenInternalPage",payload:{destination:i}})},o]}class _r extends Zo{constructor(e){super(),Vo(this,e,fr,hr,_n,{options:2})}}function wr(e){let t,n,o;return{c(){t=Bn("div"),t.textContent=`${chrome.i18n.getMessage("ui_notification_fpt_hide")}`,Zn(t,"class","container svelte-1uziz8q"),Zn(t,"data-qa","deepl-notification-open-settings-page-reading-link")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",e[0]),n=!0)},p:un,i:un,o:un,d(e){e&&zn(t),n=!1,o()}}}function vr(e){return[function(){Xt({action:"dlOpenInternalPage",payload:{destination:ur.settings_page}})}]}class $r extends Zo{constructor(e){super(),Vo(this,e,vr,wr,_n,{})}}function br(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m;var h=e[5];function f(e){return{props:{options:e[1]}}}return h&&(r=so(h,f(e))),{c(){t=Bn("div"),n=Bn("div"),o=Bn("button"),s=qn(),a=Bn("div"),r&&jo(r.$$.fragment),Zn(o,"class",i="dl-close-icon "+e[4]+" svelte-7jgk9y"),Zn(n,"class","header"),Zn(n,"notificationtheme",e[4]),Zn(a,"class",l="body "+e[4]+" svelte-7jgk9y"),Zn(t,"class",c="container "+e[4]+" svelte-7jgk9y"),no(t,"contrast",e[0]===O)},m(i,l){Pn(i,t,l),Dn(t,n),Dn(n,o),Dn(t,s),Dn(t,a),r&&Wo(r,a,null),p=!0,g||(m=Wn(o,"click",(function(){fn(e[2])&&e[2].apply(this,arguments)})),g=!0)},p(s,d){e=s,(!p||16&d&&i!==(i="dl-close-icon "+e[4]+" svelte-7jgk9y"))&&Zn(o,"class",i),(!p||16&d)&&Zn(n,"notificationtheme",e[4]);const u={};if(2&d&&(u.options=e[1]),h!==(h=e[5])){if(r){Po();const e=r;Bo(e.$$.fragment,1,0,(()=>{Go(e,1)})),zo()}h?(r=so(h,f(e)),jo(r.$$.fragment),Ho(r.$$.fragment,1),Wo(r,a,null)):r=null}else h&&r.$set(u);(!p||16&d&&l!==(l="body "+e[4]+" svelte-7jgk9y"))&&Zn(a,"class",l),(!p||16&d&&c!==(c="container "+e[4]+" svelte-7jgk9y"))&&Zn(t,"class",c),(!p||17&d)&&no(t,"contrast",e[0]===O)},i(e){p||(r&&Ho(r.$$.fragment,e),Lo((()=>{u&&u.end(1),d=Uo(t,ea,{x:100,duration:1e3}),d.start()})),p=!0)},o(e){r&&Bo(r.$$.fragment,e),d&&d.invalidate(),u=qo(t,ea,{x:100,duration:1e3}),p=!1},d(e){e&&zn(t),r&&Go(r),e&&u&&u.end(),g=!1,m()}}}function yr(e){let t,n,o=e[3]&&br(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,[n]){e[3]?o?(o.p(e,n),8&n&&Ho(o,1)):(o=br(e),o.c(),Ho(o,1),o.m(t.parentNode,t)):o&&(Po(),Bo(o,1,1,(()=>{o=null})),zo())},i(e){n||(Ho(o),n=!0)},o(e){Bo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function xr(e,t,n){let o,i,{type:s}=t,{options:a}=t,{close:r}=t,l=!1;const c={[S]:dr,[k]:mr,[M]:_r,[O]:$r};return mo((()=>{setTimeout((()=>n(3,l=!0)),100),setTimeout((()=>n(3,l=!1)),10100),setTimeout((()=>r()),11100)})),e.$$set=e=>{"type"in e&&n(0,s=e.type),"options"in e&&n(1,a=e.options),"close"in e&&n(2,r=e.close)},e.$$.update=()=>{1&e.$$.dirty&&n(5,o=c[s]),2&e.$$.dirty&&n(4,i=N[a?.theme]?N[a?.theme]:"")},[s,a,r,l,i,o]}class Cr extends Zo{constructor(e){super(),Vo(this,e,xr,yr,_n,{type:0,options:1,close:2})}}class Tr extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM(e,t){this.shadowContainer.style.cssText=`position: fixed; top: 20px; right: 20px; z-index: ${L.deepl_inline_ui.z_index}`,this.mainComponent=new Cr({target:this.shadowContainer,props:{type:e,options:t,close:this.cleanupDOM}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy(),this.remove()}}function Er(e){let t,n,o,i;return{c(){t=Bn("div"),n=Bn("div"),Zn(n,"class","close-button svelte-b85ux9"),Zn(t,"class","close-button-container svelte-b85ux9")},m(s,a){Pn(s,t,a),Dn(t,n),o||(i=Wn(n,"click",(function(){fn(e[0])&&e[0].apply(this,arguments)})),o=!0)},p(t,n){e=t},d(e){e&&zn(t),o=!1,i()}}}function Lr(e){let t,n,o,i,s,a=e[0]&&Er(e);const r=e[2].default,l=$n(r,e,e[1],null);return{c(){a&&a.c(),t=qn(),n=Bn("div"),o=Bn("div"),i=qn(),l&&l.c(),Zn(o,"class","logo svelte-b85ux9"),Zn(n,"class","body svelte-b85ux9")},m(e,r){a&&a.m(e,r),Pn(e,t,r),Pn(e,n,r),Dn(n,o),Dn(n,i),l&&l.m(n,null),s=!0},p(e,[n]){e[0]?a?a.p(e,n):(a=Er(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),l&&l.p&&(!s||2&n)&&xn(l,r,e,e[1],s?yn(r,e[1],n,null):Cn(e[1]),null)},i(e){s||(Ho(l,e),s=!0)},o(e){Bo(l,e),s=!1},d(e){a&&a.d(e),e&&zn(t),e&&zn(n),l&&l.d(e)}}}function Sr(e,t,n){let{$$slots:o={},$$scope:i}=t,{onClose:s}=t;return e.$$set=e=>{"onClose"in e&&n(0,s=e.onClose),"$$scope"in e&&n(1,i=e.$$scope)},[s,i,o]}window.customElements.define("deepl-notification",Tr);class kr extends Zo{constructor(e){super(),Vo(this,e,Sr,Lr,_n,{onClose:0})}}function Mr(e,t,n){const o=e.slice();return o[33]=t[n],o}function Or(e){let t,n,o=e[3],i=[];for(let t=0;t<o.length;t+=1)i[t]=Nr(Mr(e,o,t));return{c(){t=Bn("ul");for(let e=0;e<i.length;e+=1)i[e].c();Zn(t,"id","dropdown_list"),Zn(t,"class","dropdown__list svelte-18w2qsa"),Zn(t,"role","listbox"),Zn(t,"aria-labelledby","dropdown_option"),Zn(t,"tabindex","-1"),Qn(t,"height",e[13].height),Qn(t,"top",e[13].top),Zn(t,"data-qa",e[6]),no(t,"alternate-dropdown-list","sm"===e[8]),no(t,"align-right",e[9])},m(e,n){Pn(e,t,n);for(let e=0;e<i.length;e+=1)i[e].m(t,null)},p(e,n){if(65547&n[0]){let s;for(o=e[3],s=0;s<o.length;s+=1){const a=Mr(e,o,s);i[s]?i[s].p(a,n):(i[s]=Nr(a),i[s].c(),i[s].m(t,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=o.length}8192&n[0]&&Qn(t,"height",e[13].height),8192&n[0]&&Qn(t,"top",e[13].top),64&n[0]&&Zn(t,"data-qa",e[6]),256&n[0]&&no(t,"alternate-dropdown-list","sm"===e[8]),512&n[0]&&no(t,"align-right",e[9])},i(e){n||Lo((()=>{n=Uo(t,ea,{y:-5,duration:500}),n.start()}))},o:un,d(e){e&&zn(t),Hn(i,e)}}}function Nr(e){let t,n,o,i,s,a,r,l,c=e[33].label+"";function d(){return e[25](e[33])}return{c(){t=Bn("li"),n=Un(c),o=qn(),Zn(t,"role","option"),Zn(t,"data-option-value",i=e[33].value),Zn(t,"data-option-regionalvariant",s=e[33].regionalVariant),Zn(t,"aria-selected",a=e[0]===e[33]),Zn(t,"class","svelte-18w2qsa"),no(t,"selected",e[0]===e[33])},m(i,s){Pn(i,t,s),Dn(t,n),Dn(t,o),r||(l=[Wn(t,"click",d),Wn(t,"mousedown",Vn(Gn(e[22])))],r=!0)},p(o,r){e=o,8&r[0]&&c!==(c=e[33].label+"")&&Kn(n,c),8&r[0]&&i!==(i=e[33].value)&&Zn(t,"data-option-value",i),8&r[0]&&s!==(s=e[33].regionalVariant)&&Zn(t,"data-option-regionalvariant",s),9&r[0]&&a!==(a=e[0]===e[33])&&Zn(t,"aria-selected",a),9&r[0]&&no(t,"selected",e[0]===e[33])},d(e){e&&zn(t),r=!1,hn(l)}}}function Ir(e){let t,n,o,i,s,a,r,l,c=e[1]&&Or(e);return{c(){t=Bn("div"),n=Bn("button"),o=Un(e[15]),i=qn(),c&&c.c(),Zn(n,"aria-haspopup","listbox"),Zn(n,"id","dropdown_button"),Zn(n,"aria-labelledby","dropdown_option dropdown_button"),Zn(n,"aria-expanded",e[1]),Zn(n,"data-qa",e[5]),Zn(n,"class","svelte-18w2qsa"),no(n,"dropdown-label","original"===e[7]),no(n,"dropdown-label-alternate","alternate"===e[7]),no(n,"dropdown-label-zendesk","zendesk"===e[7]),no(n,"dropdown-label-full-width",e[10]),Zn(t,"class",s=Tn(`dropdown__wrapper ${e[4]}`)+" svelte-18w2qsa"),Zn(t,"style",e[14]),Lo((()=>e[27].call(t))),no(t,"disabled",e[2])},m(s,d){Pn(s,t,d),Dn(t,n),Dn(n,o),e[24](n),Dn(t,i),c&&c.m(t,null),a=to(t,e[27].bind(t)),r||(l=[Wn(n,"click",e[17]),Wn(n,"mousedown",Vn(Gn(e[23]))),Ln(Jt.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[26])],r=!0)},p(e,i){32768&i[0]&&Kn(o,e[15]),2&i[0]&&Zn(n,"aria-expanded",e[1]),32&i[0]&&Zn(n,"data-qa",e[5]),128&i[0]&&no(n,"dropdown-label","original"===e[7]),128&i[0]&&no(n,"dropdown-label-alternate","alternate"===e[7]),128&i[0]&&no(n,"dropdown-label-zendesk","zendesk"===e[7]),1024&i[0]&&no(n,"dropdown-label-full-width",e[10]),e[1]?c?(c.p(e,i),2&i[0]&&Ho(c,1)):(c=Or(e),c.c(),Ho(c,1),c.m(t,null)):c&&(c.d(1),c=null),16&i[0]&&s!==(s=Tn(`dropdown__wrapper ${e[4]}`)+" svelte-18w2qsa")&&Zn(t,"class",s),16384&i[0]&&Zn(t,"style",e[14]),20&i[0]&&no(t,"disabled",e[2])},i(e){Ho(c)},o:un,d(n){n&&zn(t),e[24](null),c&&c.d(),a(),r=!1,hn(l)}}}const Dr=300;function Ar(e,t,n){let o,{isOpen:i=!1}=t,{disabled:s=!1}=t,{items:a=[]}=t,{placeholder:r=""}=t,{customClass:l=""}=t,{selectedOption:c}=t,{defaultOption:d}=t,{dataQaButton:u="dl-dropdown-button"}=t,{dataQaList:p="dl-dropdown-list"}=t,{variant:g="original"}=t,{fontSize:m="default"}=t,{alignRight:h=!0}=t,{extraText:f=""}=t,{isFullWidth:_=!1}=t;const w=wo("deepl_settings");let v,$=0,b={},y={},x={},C="visibility: hidden; opacity:0; height:0;";const T=fo();function E(){b.spaceAbove=Math.abs(v.getBoundingClientRect().top),b.spaceBelow=Math.abs(window.innerHeight-v.getBoundingClientRect().bottom)}d&&(c=d),mo((()=>{setTimeout((()=>{n(14,C="")}),100)}));return e.$$set=e=>{"isOpen"in e&&n(1,i=e.isOpen),"disabled"in e&&n(2,s=e.disabled),"items"in e&&n(3,a=e.items),"placeholder"in e&&n(18,r=e.placeholder),"customClass"in e&&n(4,l=e.customClass),"selectedOption"in e&&n(0,c=e.selectedOption),"defaultOption"in e&&n(19,d=e.defaultOption),"dataQaButton"in e&&n(5,u=e.dataQaButton),"dataQaList"in e&&n(6,p=e.dataQaList),"variant"in e&&n(7,g=e.variant),"fontSize"in e&&n(8,m=e.fontSize),"alignRight"in e&&n(9,h=e.alignRight),"extraText"in e&&n(20,f=e.extraText),"isFullWidth"in e&&n(10,_=e.isFullWidth)},e.$$.update=()=>{2099201&e.$$.dirty[0]&&(c&&(x?.value===c?.value&&x?.regionalVariant===c?.regionalVariant||(n(21,x=c),T("valueselected",{selectedOption:c}))),$&&E()),1310721&e.$$.dirty[0]&&n(15,o=`${c?c.selectedOptionLabel:r}${f?` ${f}`:""}`)},[c,i,s,a,l,u,p,g,m,h,_,$,v,y,C,o,w,function(){!function(){if(E(),n(13,y.top="auto",y),n(13,y.height="300px",y),b.spaceBelow>b.spaceAbove)b.spaceBelow<=Dr&&n(13,y.height=Math.ceil(.8*b.spaceBelow)+"px",y);else{let e=Dr;b.spaceAbove<=Dr&&(e=Math.ceil(.8*b.spaceAbove)),n(13,y.height=`${e}px`,y),n(13,y.top="-"+(e+2)+"px",y)}}(),n(1,i=!i),function(){let e=v.getRootNode().querySelector("ul li[aria-selected=true]");setTimeout((()=>{e?.scrollIntoView({block:"nearest"})}),0)}()},r,d,f,x,function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},function(e){bo[e?"unshift":"push"]((()=>{v=e,n(12,v)}))},e=>{n(1,i=!1),n(0,c=e),w.set({regionalVariant:e.regionalVariant||""})},()=>n(1,i=!1),function(){$=this.clientWidth,n(11,$)}]}class Rr extends Zo{constructor(e){super(),Vo(this,e,Ar,Ir,_n,{isOpen:1,disabled:2,items:3,placeholder:18,customClass:4,selectedOption:0,defaultOption:19,dataQaButton:5,dataQaList:6,variant:7,fontSize:8,alignRight:9,extraText:20,isFullWidth:10},null,[-1,-1])}}function Pr(e,t,n){const o=e.slice();return o[16]=t[n],o}function zr(e){let t,n,o,i,s;return n=new Rr({props:{disabled:e[0],items:e[11],defaultOption:e[12],placeholder:e[9],dataQaButton:"deepl-language-selection-button",dataQaList:"deepl-language-selection-list",customClass:e[3],variant:e[5],fontSize:e[6],alignRight:e[7]}}),n.$on("valueselected",e[10]),{c(){t=Bn("div"),jo(n.$$.fragment)},m(a,r){Pn(a,t,r),Wo(n,t,null),o=!0,i||(s=Wn(t,"mousedown",Vn(Gn(e[14]))),i=!0)},p(e,t){const o={};1&t&&(o.disabled=e[0]),8&t&&(o.customClass=e[3]),32&t&&(o.variant=e[5]),64&t&&(o.fontSize=e[6]),128&t&&(o.alignRight=e[7]),n.$set(o)},i(e){o||(Ho(n.$$.fragment,e),o=!0)},o(e){Bo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Go(n),i=!1,s()}}}function Hr(e){let t,n,o,i,s,a,r,l=e[2]&&Br(),c=e[11],d=[];for(let t=0;t<c.length;t+=1)d[t]=Fr(Pr(e,c,t));return{c(){t=Bn("div"),n=Bn("select"),l&&l.c(),o=jn();for(let e=0;e<d.length;e+=1)d[e].c();i=Un(">"),Zn(n,"data-qa","deepl-language-selection"),Zn(n,"class","svelte-f4rh0n"),Zn(t,"class",s=Tn("alternate"===e[5]?"language-selector-alternate":"language-selector")+" svelte-f4rh0n")},m(s,c){Pn(s,t,c),Dn(t,n),l&&l.m(n,null),Dn(n,o);for(let e=0;e<d.length;e+=1)d[e].m(n,null);Dn(n,i),Yn(n,e[1]),a||(r=Wn(n,"change",Gn(e[15])),a=!0)},p(e,a){if(e[2]?l?l.p(e,a):(l=Br(),l.c(),l.m(n,o)):l&&(l.d(1),l=null),2048&a){let t;for(c=e[11],t=0;t<c.length;t+=1){const o=Pr(e,c,t);d[t]?d[t].p(o,a):(d[t]=Fr(o),d[t].c(),d[t].m(n,i))}for(;t<d.length;t+=1)d[t].d(1);d.length=c.length}2050&a&&Yn(n,e[1]),32&a&&s!==(s=Tn("alternate"===e[5]?"language-selector-alternate":"language-selector")+" svelte-f4rh0n")&&Zn(t,"class",s)},i:un,o:un,d(e){e&&zn(t),l&&l.d(),Hn(d,e),a=!1,r()}}}function Br(e){let t,n,o,i=chrome.i18n.getMessage("supported_languages_undefined")+"";return{c(){t=Bn("option"),n=Un(i),o=qn(),t.__value=void 0,t.value=t.__value,Zn(t,"data-option-regionalvariant",void 0)},m(e,i){Pn(e,t,i),Dn(t,n),Dn(t,o)},p:un,d(e){e&&zn(t)}}}function Fr(e){let t,n,o,i=e[16].label+"";return{c(){t=Bn("option"),n=Un(i),o=qn(),t.__value=e[16].value,t.value=t.__value,Zn(t,"data-option-regionalvariant",e[16].regionalVariant)},m(e,i){Pn(e,t,i),Dn(t,n),Dn(t,o)},p:un,d(e){e&&zn(t)}}}function Ur(e){let t,n,o,i;const s=[Hr,zr],a=[];return t=sa()?0:1,n=a[t]=s[t](e),{c(){n.c(),o=jn()},m(e,n){a[t].m(e,n),Pn(e,o,n),i=!0},p(e,[t]){n.p(e,t)},i(e){i||(Ho(n),i=!0)},o(e){Bo(n),i=!1},d(e){a[t].d(e),e&&zn(o)}}}function qr(e,t,n){let o,a=un,r=()=>(a(),a=wn(p,(e=>n(13,o=e))),p);e.$$.on_destroy.push((()=>a()));const l=fo();let{value:c}=t,{showChooseLanguageOption:d=!1}=t,{customClass:u=""}=t,{websiteSettings:p}=t;r();let{disabled:g=!1}=t,{variant:m="original"}=t,{fontSize:h="default"}=t,{alignRight:f=!1}=t,_=d?chrome.i18n.getMessage("supported_languages_undefined"):void 0;const w=Je();let v=c?w.find((e=>e.value===c)):void 0;return e.$$set=e=>{"value"in e&&n(1,c=e.value),"showChooseLanguageOption"in e&&n(2,d=e.showChooseLanguageOption),"customClass"in e&&n(3,u=e.customClass),"websiteSettings"in e&&r(n(4,p=e.websiteSettings)),"disabled"in e&&n(0,g=e.disabled),"variant"in e&&n(5,m=e.variant),"fontSize"in e&&n(6,h=e.fontSize),"alignRight"in e&&n(7,f=e.alignRight)},e.$$.update=()=>{8192&e.$$.dirty&&(o&&o.translationState===s?n(0,g=!0):o&&o.translationState===i&&n(0,g=!1))},[g,c,d,u,p,m,h,f,l,_,function(e){g||l("selection",e.detail)},w,v,o,function(t){vo.call(this,e,t)},e=>{if(g)return;const t=e.target.options[e.target.selectedIndex].getAttribute("data-option-regionalVariant")||void 0;l("selection",{selectedOption:{value:e.target.value,regionalVariant:t}})}]}class jr extends Zo{constructor(e){super(),Vo(this,e,qr,Ur,_n,{value:1,showChooseLanguageOption:2,customClass:3,websiteSettings:4,disabled:0,variant:5,fontSize:6,alignRight:7})}}function Wr(e){let t;return{c(){t=Bn("div"),Zn(t,"class","loader svelte-c65fyl"),no(t,"small",e[0])},m(e,n){Pn(e,t,n)},p(e,[n]){1&n&&no(t,"small",e[0])},i:un,o:un,d(e){e&&zn(t)}}}function Gr(e,t,n){let{small:o=!1}=t;return e.$$set=e=>{"small"in e&&n(0,o=e.small)},[o]}class Vr extends Zo{constructor(e){super(),Vo(this,e,Gr,Wr,_n,{small:0})}}function Zr(e){let t,n;return{c(){t=Bn("div"),n=Un(e[0]),Zn(t,"class","info-msg svelte-17qaccl")},m(e,o){Pn(e,t,o),Dn(t,n)},p(e,[t]){1&t&&Kn(n,e[0])},i:un,o:un,d(e){e&&zn(t)}}}function Kr(e,t,n){let{message:o}=t;return e.$$set=e=>{"message"in e&&n(0,o=e.message)},[o]}class Xr extends Zo{constructor(e){super(),Vo(this,e,Kr,Zr,_n,{message:0})}}function Qr(e){switch(e){case R:return 1;case I:return 2;case A:return 3;case z:return 4;case H:return 5;case B:return 6;case F:return 7;case U:return 8;case P:return 9;case D:return 10;case q:return 11;case j:return 12;case W:return 13;case G:return 14;case V:return 15;case Z:return 16;case K:return 17;case X:return 18;case Q:return 19;case Y:return 20;case J:return 21;default:return 0}}function Yr(e){let t,n,o,i,s;const a=e[7].default,r=$n(a,e,e[6],null);return{c(){t=Bn("button"),r&&r.c(),Zn(t,"type","button"),Zn(t,"class",n=Tn(e[0])+" svelte-1b6vay0"),t.disabled=e[1],Zn(t,"id",e[5]),Zn(t,"data-qa",e[4]),no(t,"disabled",e[1]),no(t,"font-size-sm","sm"===e[2]),no(t,"padding-x-md","md"===e[3]),no(t,"padding-x-none","none"===e[3])},m(n,a){Pn(n,t,a),r&&r.m(t,null),o=!0,i||(s=[Wn(t,"click",e[8]),Wn(t,"mousedown",Vn(Gn(e[9])))],i=!0)},p(e,[i]){r&&r.p&&(!o||64&i)&&xn(r,a,e,e[6],o?yn(a,e[6],i,null):Cn(e[6]),null),(!o||1&i&&n!==(n=Tn(e[0])+" svelte-1b6vay0"))&&Zn(t,"class",n),(!o||2&i)&&(t.disabled=e[1]),(!o||32&i)&&Zn(t,"id",e[5]),(!o||16&i)&&Zn(t,"data-qa",e[4]),(!o||3&i)&&no(t,"disabled",e[1]),(!o||5&i)&&no(t,"font-size-sm","sm"===e[2]),(!o||9&i)&&no(t,"padding-x-md","md"===e[3]),(!o||9&i)&&no(t,"padding-x-none","none"===e[3])},i(e){o||(Ho(r,e),o=!0)},o(e){Bo(r,e),o=!1},d(e){e&&zn(t),r&&r.d(e),i=!1,hn(s)}}}function Jr(e,t,n){let{$$slots:o={},$$scope:i}=t,{className:s="button-primary"}=t,{disabled:a=!1}=t,{fontSize:r="default"}=t,{paddingX:l}=t,{dataQa:c="dl-button"}=t,{id:d=""}=t;return e.$$set=e=>{"className"in e&&n(0,s=e.className),"disabled"in e&&n(1,a=e.disabled),"fontSize"in e&&n(2,r=e.fontSize),"paddingX"in e&&n(3,l=e.paddingX),"dataQa"in e&&n(4,c=e.dataQa),"id"in e&&n(5,d=e.id),"$$scope"in e&&n(6,i=e.$$scope)},[s,a,r,l,c,d,i,o,function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)}]}class el extends Zo{constructor(e){super(),Vo(this,e,Jr,Yr,_n,{className:0,disabled:1,fontSize:2,paddingX:3,dataQa:4,id:5})}}function tl(e){let t,n=chrome.i18n.getMessage("ui_fpt_hide_cancel")+"";return{c(){t=Un(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function nl(e){let t,n=chrome.i18n.getMessage("ui_fpt_hide_confirm")+"";return{c(){t=Un(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function ol(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m,h,f,_,w,v,$,b,y,x,C,T,E,L,S,k,M,O,N;return L=new el({props:{className:"button-link",paddingX:"none",$$slots:{default:[tl]},$$scope:{ctx:e}}}),L.$on("click",(function(){fn(e[0])&&e[0].apply(this,arguments)})),k=new el({props:{className:"button-primary",$$slots:{default:[nl]},$$scope:{ctx:e}}}),k.$on("click",e[4]),{c(){t=Bn("div"),n=Bn("p"),n.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_heading")}`,o=qn(),i=Bn("div"),s=Bn("div"),a=Bn("label"),r=Bn("span"),l=Bn("input"),c=qn(),d=Bn("span"),d.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_domain")}`,u=qn(),p=Bn("div"),g=Bn("label"),m=Bn("span"),h=Bn("input"),f=qn(),_=Bn("span"),_.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_lang")}`,w=qn(),v=Bn("div"),$=Bn("label"),b=Bn("span"),y=Bn("input"),x=qn(),C=Bn("span"),C.textContent=`${chrome.i18n.getMessage("ui_fpt_hide_option_fpt")}`,T=qn(),E=Bn("div"),jo(L.$$.fragment),S=qn(),jo(k.$$.fragment),Zn(n,"class","font-bold svelte-8fn8ut"),Zn(l,"id","option-website"),Zn(l,"name","option"),Zn(l,"type","radio"),l.__value="website",l.value=l.__value,Zn(l,"class","svelte-8fn8ut"),e[7][0].push(l),Zn(d,"class","label svelte-8fn8ut"),Zn(a,"for","option-website"),Zn(a,"class","svelte-8fn8ut"),Zn(s,"class","option svelte-8fn8ut"),Zn(h,"id","option-lang"),Zn(h,"type","radio"),Zn(h,"name","option"),h.__value="lang",h.value=h.__value,Zn(h,"class","svelte-8fn8ut"),e[7][0].push(h),Zn(_,"class","label svelte-8fn8ut"),Zn(g,"for","option-lang"),Zn(g,"class","svelte-8fn8ut"),Zn(p,"class","option svelte-8fn8ut"),Zn(y,"id","option-fpt"),Zn(y,"type","radio"),Zn(y,"name","option"),y.__value="fpt",y.value=y.__value,Zn(y,"class","svelte-8fn8ut"),e[7][0].push(y),Zn(C,"class","label svelte-8fn8ut"),Zn($,"for","option-fpt"),Zn($,"class","svelte-8fn8ut"),Zn(v,"class","option svelte-8fn8ut"),Zn(i,"class","cancel-container svelte-8fn8ut"),Zn(t,"class","cancel-translation-body svelte-8fn8ut"),Zn(E,"class","cancel-translation-footer svelte-8fn8ut")},m(I,D){Pn(I,t,D),Dn(t,n),Dn(t,o),Dn(t,i),Dn(i,s),Dn(s,a),Dn(a,r),Dn(r,l),l.checked=l.__value===e[1],Dn(a,c),Dn(a,d),Dn(i,u),Dn(i,p),Dn(p,g),Dn(g,m),Dn(m,h),h.checked=h.__value===e[1],Dn(g,f),Dn(g,_),Dn(i,w),Dn(i,v),Dn(v,$),Dn($,b),Dn(b,y),y.checked=y.__value===e[1],Dn($,x),Dn($,C),Pn(I,T,D),Pn(I,E,D),Wo(L,E,null),Dn(E,S),Wo(k,E,null),M=!0,O||(N=[Wn(l,"change",e[6]),Wn(h,"change",e[8]),Wn(y,"change",e[9])],O=!0)},p(t,[n]){e=t,2&n&&(l.checked=l.__value===e[1]),2&n&&(h.checked=h.__value===e[1]),2&n&&(y.checked=y.__value===e[1]);const o={};65536&n&&(o.$$scope={dirty:n,ctx:e}),L.$set(o);const i={};65536&n&&(i.$$scope={dirty:n,ctx:e}),k.$set(i)},i(e){M||(Ho(L.$$.fragment,e),Ho(k.$$.fragment,e),M=!0)},o(e){Bo(L.$$.fragment,e),Bo(k.$$.fragment,e),M=!1},d(n){n&&zn(t),e[7][0].splice(e[7][0].indexOf(l),1),e[7][0].splice(e[7][0].indexOf(h),1),e[7][0].splice(e[7][0].indexOf(y),1),n&&zn(T),n&&zn(E),Go(L),Go(k),O=!1,hn(N)}}}function il(e,t,n){let i,s;const a=wo("deepl_settings");vn(e,a,(e=>n(11,s=e)));const r=wo("deepl_website_settings");vn(e,r,(e=>n(10,i=e)));let{onClose:l}=t,{onCancel:c}=t,d="fpt";return e.$$set=e=>{"onClose"in e&&n(5,l=e.onClose),"onCancel"in e&&n(0,c=e.onCancel)},[c,d,a,r,()=>{const e={hideOption:void 0,sourceLang:i.websiteLanguage,domainName:i.hostname,uiLocation:Qr(U)};switch(d){case"website":En(a,s.blacklistDomains=[...s.blacklistDomains,i.hostname],s),e.hideOption=_;break;case"lang":t=i.websiteLanguage,n=o,"EN"===t?(En(a,s.languagesForTranslation={...s.languagesForTranslation,"EN-GB":n},s),En(a,s.languagesForTranslation={...s.languagesForTranslation,"EN-US":n},s)):"PT"===t?(En(a,s.languagesForTranslation={...s.languagesForTranslation,"PT-PT":n},s),En(a,s.languagesForTranslation={...s.languagesForTranslation,"PT-BR":n},s)):En(a,s.languagesForTranslation={...s.languagesForTranslation,[t]:n},s),e.hideOption=w;break;default:e.hideOption=v,a.set({enableFullPageTranslation:!1})}var t,n;(()=>{const e=s.notificationsViewed;e&&e.fullPageTranslation||(Ai(O),a.set({notificationsViewed:{...e,fullPageTranslation:!0}}))})(),Xt({action:"dlTrackFptHide",payload:e}),l()},l,function(){d=this.__value,n(1,d)},[[]],function(){d=this.__value,n(1,d)},function(){d=this.__value,n(1,d)}]}class sl extends Zo{constructor(e){super(),Vo(this,e,il,ol,_n,{onClose:5,onCancel:0})}}function al(e,t,n){const o=e.slice();return o[18]=t[n],o}function rl(e,t,n){const o=e.slice();return o[18]=t[n],o}function ll(e,t,n){const o=e.slice();return o[18]=t[n],o}function cl(e,t,n){const o=e.slice();return o[18]=t[n],o}function dl(e,t,n){const o=e.slice();return o[18]=t[n],o}function ul(e){let t,n,o,i,s,a,r,l,c,d,u,p=chrome.i18n.getMessage("ui_fpt_hide_checkbox")+"";t=new kr({props:{onClose:e[0],$$slots:{default:[bl]},$$scope:{ctx:e}}});let g=e[5]&&yl(e);return{c(){jo(t.$$.fragment),n=qn(),g&&g.c(),o=qn(),i=Bn("div"),s=Bn("label"),a=Bn("input"),r=qn(),l=Un(p),Zn(a,"type","checkbox"),a.disabled=e[5],Zn(a,"class","svelte-yijazm"),Zn(s,"class","svelte-yijazm"),Zn(i,"class","footer svelte-yijazm"),no(i,"hasError",e[5])},m(p,m){Wo(t,p,m),Pn(p,n,m),g&&g.m(p,m),Pn(p,o,m),Pn(p,i,m),Dn(i,s),Dn(s,a),Dn(s,r),Dn(s,l),c=!0,d||(u=Wn(s,"click",e[15]),d=!0)},p(e,n){const s={};1&n&&(s.onClose=e[0]),536870932&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s),e[5]?g?(g.p(e,n),32&n&&Ho(g,1)):(g=yl(e),g.c(),Ho(g,1),g.m(o.parentNode,o)):g&&(Po(),Bo(g,1,1,(()=>{g=null})),zo()),(!c||32&n)&&(a.disabled=e[5]),(!c||32&n)&&no(i,"hasError",e[5])},i(e){c||(Ho(t.$$.fragment,e),Ho(g),c=!0)},o(e){Bo(t.$$.fragment,e),Bo(g),c=!1},d(e){Go(t,e),e&&zn(n),g&&g.d(e),e&&zn(o),e&&zn(i),d=!1,u()}}}function pl(e){let t,n,o,i;return t=new kr({props:{onClose:e[0]}}),o=new sl({props:{onClose:e[0],onCancel:e[13]}}),{c(){jo(t.$$.fragment),n=qn(),jo(o.$$.fragment)},m(e,s){Wo(t,e,s),Pn(e,n,s),Wo(o,e,s),i=!0},p(e,n){const i={};1&n&&(i.onClose=e[0]),t.$set(i);const s={};1&n&&(s.onClose=e[0]),8&n&&(s.onCancel=e[13]),o.$set(s)},i(e){i||(Ho(t.$$.fragment,e),Ho(o.$$.fragment,e),i=!0)},o(e){Bo(t.$$.fragment,e),Bo(o.$$.fragment,e),i=!1},d(e){Go(t,e),e&&zn(n),Go(o,e)}}}function gl(e){let t,n;return t=new kr({props:{$$slots:{default:[Hl]},$$scope:{ctx:e}}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};536870934&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function ml(e){let t,n;return t=new kr({props:{$$slots:{default:[jl]},$$scope:{ctx:e}}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};536870928&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function hl(e){let t,n;return t=new kr({props:{$$slots:{default:[Wl]},$$scope:{ctx:e}}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};536870912&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function fl(e){let t,n;return t=new kr({props:{$$slots:{default:[Gl]},$$scope:{ctx:e}}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};536870912&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function _l(e){let t,n;return t=new kr({props:{$$slots:{default:[Vl]},$$scope:{ctx:e}}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};536870912&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function wl(e){let t,n;return t=new kr({props:{$$slots:{default:[Zl]},$$scope:{ctx:e}}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};536870912&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function vl(e){let t,n;return t=new kr({props:{$$slots:{default:[Kl]},$$scope:{ctx:e}}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};536870912&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function $l(e){let t;return{c(){t=Bn("span"),t.textContent=`${chrome.i18n.getMessage("ui_fpt_translate_button")}`,Zn(t,"class","svelte-yijazm")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function bl(e){let t,n,o,i,s,a,r,l,c,d,u,p;return l=new jr({props:{value:e[2].selectedTargetLanguage,variant:"alternate",alignRight:!1}}),l.$on("selection",e[14]),u=new el({props:{className:"btn-primary",paddingX:"md",dataQa:"dl-button-translate-page",$$slots:{default:[$l]},$$scope:{ctx:e}}}),u.$on("click",e[9]),{c(){t=Bn("div"),n=Bn("div"),o=Un(e[4]),i=qn(),s=Bn("div"),a=qn(),r=Bn("div"),jo(l.$$.fragment),c=qn(),d=Bn("div"),jo(u.$$.fragment),Zn(n,"class","website-lang svelte-yijazm"),Zn(s,"class","translate-to-arrow svelte-yijazm"),Zn(r,"class","language-switch svelte-yijazm"),Zn(t,"class","language-selection svelte-yijazm"),Zn(d,"class","translate-button svelte-yijazm")},m(e,g){Pn(e,t,g),Dn(t,n),Dn(n,o),Dn(t,i),Dn(t,s),Dn(t,a),Dn(t,r),Wo(l,r,null),Pn(e,c,g),Pn(e,d,g),Wo(u,d,null),p=!0},p(e,t){(!p||16&t)&&Kn(o,e[4]);const n={};4&t&&(n.value=e[2].selectedTargetLanguage),l.$set(n);const i={};536870912&t&&(i.$$scope={dirty:t,ctx:e}),u.$set(i)},i(e){p||(Ho(l.$$.fragment,e),Ho(u.$$.fragment,e),p=!0)},o(e){Bo(l.$$.fragment,e),Bo(u.$$.fragment,e),p=!1},d(e){e&&zn(t),Go(l),e&&zn(c),e&&zn(d),Go(u)}}}function yl(e){let t,n,o;return n=new nr({props:{error:e[1].error}}),{c(){t=Bn("div"),jo(n.$$.fragment),Zn(t,"class","error-container svelte-yijazm")},m(e,i){Pn(e,t,i),Wo(n,t,null),o=!0},p(e,t){const o={};2&t&&(o.error=e[1].error),n.$set(o)},i(e){o||(Ho(n.$$.fragment,e),o=!0)},o(e){Bo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Go(n)}}}function xl(e){let t,n=_s(chrome.i18n.getMessage("ui_notice_no_translate_language",e[4]),["strong"]),o=[];for(let t=0;t<n.length;t+=1)o[t]=Ll(rl(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=jn()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);Pn(e,t,n)},p(e,i){if(16&i){let s;for(n=_s(chrome.i18n.getMessage("ui_notice_no_translate_language",e[4]),["strong"]),s=0;s<n.length;s+=1){const a=rl(e,n,s);o[s]?o[s].p(a,i):(o[s]=Ll(a),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){Hn(o,e),e&&zn(t)}}}function Cl(e){let t;let n=function(e,t){return e[11]()?kl:Sl}(e),o=n(e);return{c(){o.c(),t=jn()},m(e,n){o.m(e,n),Pn(e,t,n)},p(e,t){o.p(e,t)},d(e){o.d(e),e&&zn(t)}}}function Tl(e){let t,n=e[18].text+"";return{c(){t=Un(n)},m(e,n){Pn(e,t,n)},p(e,o){16&o&&n!==(n=e[18].text+"")&&Kn(t,n)},d(e){e&&zn(t)}}}function El(e){let t,n,o=e[18].text+"";return{c(){t=Bn("strong"),n=Un(o),Zn(t,"class","svelte-yijazm")},m(e,o){Pn(e,t,o),Dn(t,n)},p(e,t){16&t&&o!==(o=e[18].text+"")&&Kn(n,o)},d(e){e&&zn(t)}}}function Ll(e){let t;function n(e,t){return"strong"===e[18].block?El:Tl}let o=n(e),i=o(e);return{c(){i.c(),t=jn()},m(e,n){i.m(e,n),Pn(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&zn(t)}}}function Sl(e){let t,n=_s(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"]),o=[];for(let t=0;t<n.length;t+=1)o[t]=Nl(ll(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=jn()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);Pn(e,t,n)},p(e,i){if(2&i){let s;for(n=_s(chrome.i18n.getMessage("ui_notice_no_translate_website",e[1].hostname),["strong"]),s=0;s<n.length;s+=1){const a=ll(e,n,s);o[s]?o[s].p(a,i):(o[s]=Nl(a),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){Hn(o,e),e&&zn(t)}}}function kl(e){let t,n=_s(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[4]]),["strong"]),o=[];for(let t=0;t<n.length;t+=1)o[t]=Al(cl(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=jn()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);Pn(e,t,n)},p(e,i){if(18&i){let s;for(n=_s(chrome.i18n.getMessage("ui_notice_no_translate_website_and_language",[e[1].hostname,e[4]]),["strong"]),s=0;s<n.length;s+=1){const a=cl(e,n,s);o[s]?o[s].p(a,i):(o[s]=Al(a),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){Hn(o,e),e&&zn(t)}}}function Ml(e){let t,n=e[18].text+"";return{c(){t=Un(n)},m(e,n){Pn(e,t,n)},p(e,o){2&o&&n!==(n=e[18].text+"")&&Kn(t,n)},d(e){e&&zn(t)}}}function Ol(e){let t,n,o=e[18].text+"";return{c(){t=Bn("strong"),n=Un(o),Zn(t,"class","svelte-yijazm")},m(e,o){Pn(e,t,o),Dn(t,n)},p(e,t){2&t&&o!==(o=e[18].text+"")&&Kn(n,o)},d(e){e&&zn(t)}}}function Nl(e){let t;function n(e,t){return"strong"===e[18].block?Ol:Ml}let o=n(e),i=o(e);return{c(){i.c(),t=jn()},m(e,n){i.m(e,n),Pn(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&zn(t)}}}function Il(e){let t,n=e[18].text+"";return{c(){t=Un(n)},m(e,n){Pn(e,t,n)},p(e,o){18&o&&n!==(n=e[18].text+"")&&Kn(t,n)},d(e){e&&zn(t)}}}function Dl(e){let t,n,o=e[18].text+"";return{c(){t=Bn("strong"),n=Un(o),Zn(t,"class","svelte-yijazm")},m(e,o){Pn(e,t,o),Dn(t,n)},p(e,t){18&t&&o!==(o=e[18].text+"")&&Kn(n,o)},d(e){e&&zn(t)}}}function Al(e){let t;function n(e,t){return"strong"===e[18].block?Dl:Il}let o=n(e),i=o(e);return{c(){i.c(),t=jn()},m(e,n){i.m(e,n),Pn(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&zn(t)}}}function Rl(e){let t,n=e[18].text+"";return{c(){t=Un(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Pl(e){let t,n,o,i,s=e[18].text+"";return{c(){t=Bn("span"),n=Un(s),Zn(t,"class","link svelte-yijazm")},m(s,a){Pn(s,t,a),Dn(t,n),o||(i=Wn(t,"click",e[8]),o=!0)},p:un,d(e){e&&zn(t),o=!1,i()}}}function zl(e){let t;let n=function(e,t){return"settingsLink"===e[18].block?Pl:Rl}(e),o=n(e);return{c(){o.c(),t=jn()},m(e,n){o.m(e,n),Pn(e,t,n)},p(e,t){o.p(e,t)},d(e){o.d(e),e&&zn(t)}}}function Hl(e){let t,n,o,i,s,a;function r(e,t){return 6&t&&(o=null),null==o&&(o=!!e[2].blacklistDomains.includes(e[1].hostname)),o?Cl:(null==i&&(i=!!e[11]()),i?xl:void 0)}let l=r(e,-1),c=l&&l(e),d=_s(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"]),u=[];for(let t=0;t<d.length;t+=1)u[t]=zl(al(e,d,t));return{c(){t=Bn("div"),n=Bn("p"),c&&c.c(),s=qn(),a=Bn("p");for(let e=0;e<u.length;e+=1)u[e].c();Zn(n,"class","svelte-yijazm"),Zn(a,"class","svelte-yijazm")},m(e,o){Pn(e,t,o),Dn(t,n),c&&c.m(n,null),Dn(t,s),Dn(t,a);for(let e=0;e<u.length;e+=1)u[e].m(a,null)},p(e,t){if(l===(l=r(e,t))&&c?c.p(e,t):(c&&c.d(1),c=l&&l(e),c&&(c.c(),c.m(n,null))),256&t){let n;for(d=_s(chrome.i18n.getMessage("ui_notice_no_translate_change_option"),["settingsLink"]),n=0;n<d.length;n+=1){const o=al(e,d,n);u[n]?u[n].p(o,t):(u[n]=zl(o),u[n].c(),u[n].m(a,null))}for(;n<u.length;n+=1)u[n].d(1);u.length=d.length}},d(e){e&&zn(t),c&&c.d(),Hn(u,e)}}}function Bl(e){let t,n=e[18].text+"";return{c(){t=Un(n)},m(e,n){Pn(e,t,n)},p(e,o){16&o&&n!==(n=e[18].text+"")&&Kn(t,n)},d(e){e&&zn(t)}}}function Fl(e){let t,n,o=e[18].text+"";return{c(){t=Bn("strong"),n=Un(o),Zn(t,"class","svelte-yijazm")},m(e,o){Pn(e,t,o),Dn(t,n)},p(e,t){16&t&&o!==(o=e[18].text+"")&&Kn(n,o)},d(e){e&&zn(t)}}}function Ul(e){let t;function n(e,t){return"strong"===e[18].block?Fl:Bl}let o=n(e),i=o(e);return{c(){i.c(),t=jn()},m(e,n){i.m(e,n),Pn(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&zn(t)}}}function ql(e){let t,n=chrome.i18n.getMessage("full_page_translation_show_original")+"";return{c(){t=Un(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function jl(e){let t,n,o,i,s,a,r=_s(chrome.i18n.getMessage("ui_translated_automatically",e[4]),["strong"]),l=[];for(let t=0;t<r.length;t+=1)l[t]=Ul(dl(e,r,t));return s=new el({props:{className:"button-reload",$$slots:{default:[ql]},$$scope:{ctx:e}}}),s.$on("click",e[10]),{c(){t=Bn("div"),n=Bn("p");for(let e=0;e<l.length;e+=1)l[e].c();o=qn(),i=Bn("p"),jo(s.$$.fragment),Zn(n,"class","mb-none svelte-yijazm"),Zn(i,"class","svelte-yijazm")},m(e,r){Pn(e,t,r),Dn(t,n);for(let e=0;e<l.length;e+=1)l[e].m(n,null);Dn(t,o),Dn(t,i),Wo(s,i,null),a=!0},p(e,t){if(16&t){let o;for(r=_s(chrome.i18n.getMessage("ui_translated_automatically",e[4]),["strong"]),o=0;o<r.length;o+=1){const i=dl(e,r,o);l[o]?l[o].p(i,t):(l[o]=Ul(i),l[o].c(),l[o].m(n,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=r.length}const o={};536870912&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o)},i(e){a||(Ho(s.$$.fragment,e),a=!0)},o(e){Bo(s.$$.fragment,e),a=!1},d(e){e&&zn(t),Hn(l,e),Go(s)}}}function Wl(e){let t;return{c(){t=Bn("p"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_ongoing_translation")}`,Zn(t,"class","translation-in-progress svelte-yijazm")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Gl(e){let t;return{c(){t=Bn("p"),t.textContent=`${chrome.i18n.getMessage("full_page_translation_auto_detect_lang")}`,Zn(t,"class","translation-in-progress svelte-yijazm")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Vl(e){let t,n;return t=new Xr({props:{message:chrome.i18n.getMessage("full_page_translation_info_google_translate")}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p:un,i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Zl(e){let t,n;return t=new Xr({props:{message:chrome.i18n.getMessage("full_page_translation_no_website_data")}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p:un,i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Kl(e){let t,n,o;return n=new Vr({}),{c(){t=Bn("div"),jo(n.$$.fragment),Zn(t,"class","translation-in-progress svelte-yijazm")},m(e,i){Pn(e,t,i),Wo(n,t,null),o=!0},p:un,i(e){o||(Ho(n.$$.fragment,e),o=!0)},o(e){Bo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Go(n)}}}function Xl(e){let t,n,o,i,r,c;const d=[vl,wl,_l,fl,hl,ml,gl,pl,ul],u=[];function p(e,t){return 2&t&&(n=null),6&t&&(o=null),null==e[1]?0:(null==n&&(n=!(0!==Object.keys(e[1]).length)),n?1:e[1].isGoogleTranslatedActive?2:e[1].translationState===l?3:e[1].translationState===s?4:e[1].translationState===a?5:(null==o&&(o=!(!e[2].blacklistDomains.includes(e[1].hostname)&&!e[11]())),o?6:e[3]?7:e[1].websiteLanguage?8:-1))}return~(i=p(e,-1))&&(r=u[i]=d[i](e)),{c(){t=Bn("div"),r&&r.c(),Zn(t,"class","full-page-translation svelte-yijazm")},m(e,n){Pn(e,t,n),~i&&u[i].m(t,null),c=!0},p(e,[n]){let o=i;i=p(e,n),i===o?~i&&u[i].p(e,n):(r&&(Po(),Bo(u[o],1,1,(()=>{u[o]=null})),zo()),~i?(r=u[i],r?r.p(e,n):(r=u[i]=d[i](e),r.c()),Ho(r,1),r.m(t,null)):r=null)},i(e){c||(Ho(r),c=!0)},o(e){Bo(r),c=!1},d(e){e&&zn(t),~i&&u[i].d()}}}function Ql(e,t,n){let i,s,a;const l=wo("deepl_settings");vn(e,l,(e=>n(2,a=e)));const c=wo("deepl_website_settings");vn(e,c,(e=>n(1,s=e)));let d=h,{onClose:u}=t;let p,g,f=!1;return e.$$set=e=>{"onClose"in e&&n(0,u=e.onClose)},e.$$.update=()=>{2&e.$$.dirty&&n(5,i=s&&s.error),6&e.$$.dirty&&s&&a&&(s.websiteLanguage,a.selectedTargetLanguage),2&e.$$.dirty&&s&&(s.isSupportedLanguage?n(4,p=chrome.i18n.getMessage(`supported_languages_${s.websiteLanguage}`)):n(4,p=chrome.i18n.getMessage("supported_languages_EN"))),4098&e.$$.dirty&&s&&s.hostname&&s.hostname!==g&&(n(12,g=s.hostname),Xt({action:"dlTrackExtensionOpenedEvent",payload:{domainName:g,extensionContext:d}}))},[u,s,a,f,p,i,l,c,function(){Xt({action:"dlOpenInternalPage",payload:{destination:ur.settings_page}})},function(){0==a.isTargetLanguageConfirmed&&l.set({isTargetLanguageConfirmed:!0}),zs(s.websiteLanguage,m)},()=>{c.update({translationState:r})},function(){return"EN"===s.websiteLanguage?a.languagesForTranslation["EN-GB"]===o||a.languagesForTranslation["EN-US"]===o:"PT"===s.websiteLanguage?a.languagesForTranslation["PT-PT"]===o||a.languagesForTranslation["PT-BR"]===o:a.languagesForTranslation[s.websiteLanguage]===o},g,()=>{n(3,f=!1)},e=>l.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0,regionalVariant:e.detail.selectedOption.regionalVariant}),()=>{i||n(3,f=!f)}]}class Yl extends Zo{constructor(e){super(),Vo(this,e,Ql,Xl,_n,{onClose:0})}}function Jl(e){let t,n,o;return n=new Yl({props:{onClose:e[0]}}),{c(){t=Bn("div"),jo(n.$$.fragment),Zn(t,"class","app-popup svelte-vxaayf")},m(e,i){Pn(e,t,i),Wo(n,t,null),o=!0},p(e,t){const o={};1&t&&(o.onClose=e[0]),n.$set(o)},i(e){o||(Ho(n.$$.fragment,e),o=!0)},o(e){Bo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Go(n)}}}function ec(e){let t,n,o=!0===e[1].isLoggedIn&&!0===e[1].isProUser&&e[2]&&e[2].isValidUrlForPopup&&Jl(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,[n]){!0===e[1].isLoggedIn&&!0===e[1].isProUser&&e[2]&&e[2].isValidUrlForPopup?o?(o.p(e,n),6&n&&Ho(o,1)):(o=Jl(e),o.c(),Ho(o,1),o.m(t.parentNode,t)):o&&(Po(),Bo(o,1,1,(()=>{o=null})),zo())},i(e){n||(Ho(o),n=!0)},o(e){Bo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function tc(e,t,n){let o,i;vn(e,di,(e=>n(1,o=e))),vn(e,Jo,(e=>n(2,i=e))),_o("deepl_settings",di),_o("deepl_website_settings",Jo);let{onClose:s}=t;return e.$$set=e=>{"onClose"in e&&n(0,s=e.onClose)},[s,o,i]}class nc extends Zo{constructor(e){super(),Vo(this,e,tc,ec,_n,{onClose:0})}}class oc extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM(){this.mainComponent=new nc({target:this.shadowContainer,props:{onClose:this.cleanupDOM}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function ic(e){let t,n;const o=e[8].default,i=$n(o,e,e[7],null);return{c(){t=Bn("div"),i&&i.c()},m(e,o){Pn(e,t,o),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||128&t)&&xn(i,o,e,e[7],n?yn(o,e[7],t,null):Cn(e[7]),null)},i(e){n||(Ho(i,e),n=!0)},o(e){Bo(i,e),n=!1},d(e){e&&zn(t),i&&i.d(e)}}}function sc(e){let t,n,o;const i=e[8].default,s=$n(i,e,e[7],null);return{c(){t=Bn("div"),s&&s.c(),Zn(t,"data-tooltip",e[0]),Zn(t,"style",n=`z-index: ${e[2]}; ${e[5]}`),Zn(t,"class","svelte-dzoyw0"),no(t,"multiline",e[1]),no(t,"isFlexItem",e[4])},m(e,n){Pn(e,t,n),s&&s.m(t,null),o=!0},p(e,a){s&&s.p&&(!o||128&a)&&xn(s,i,e,e[7],o?yn(i,e[7],a,null):Cn(e[7]),null),(!o||1&a)&&Zn(t,"data-tooltip",e[0]),(!o||36&a&&n!==(n=`z-index: ${e[2]}; ${e[5]}`))&&Zn(t,"style",n),(!o||2&a)&&no(t,"multiline",e[1]),(!o||16&a)&&no(t,"isFlexItem",e[4])},i(e){o||(Ho(s,e),o=!0)},o(e){Bo(s,e),o=!1},d(e){e&&zn(t),s&&s.d(e)}}}function ac(e){let t,n,o,i;const s=[sc,ic],a=[];function r(e,t){return e[3]?0:1}return t=r(e),n=a[t]=s[t](e),{c(){n.c(),o=jn()},m(e,n){a[t].m(e,n),Pn(e,o,n),i=!0},p(e,[i]){let l=t;t=r(e),t===l?a[t].p(e,i):(Po(),Bo(a[l],1,1,(()=>{a[l]=null})),zo(),n=a[t],n?n.p(e,i):(n=a[t]=s[t](e),n.c()),Ho(n,1),n.m(o.parentNode,o))},i(e){i||(Ho(n),i=!0)},o(e){Bo(n),i=!1},d(e){a[t].d(e),e&&zn(o)}}}function rc(e,t,n){let o,{$$slots:i={},$$scope:s}=t;const{deepl_inline_ui:a}=L;let{tooltip:r=!1}=t,{multiline:l=!1}=t,{zIndex:c=a.z_index}=t,{isEnabled:d=!0}=t,{isFlexItem:u=!1}=t,{width:p}=t;return e.$$set=e=>{"tooltip"in e&&n(0,r=e.tooltip),"multiline"in e&&n(1,l=e.multiline),"zIndex"in e&&n(2,c=e.zIndex),"isEnabled"in e&&n(3,d=e.isEnabled),"isFlexItem"in e&&n(4,u=e.isFlexItem),"width"in e&&n(6,p=e.width),"$$scope"in e&&n(7,s=e.$$scope)},e.$$.update=()=>{64&e.$$.dirty&&n(5,o=p?`width: ${p}px`:"")},[r,l,c,d,u,o,p,s,i]}window.customElements.define("deepl-page-load-popup",oc);class lc extends Zo{constructor(e){super(),Vo(this,e,rc,ac,_n,{tooltip:0,multiline:1,zIndex:2,isEnabled:3,isFlexItem:4,width:6})}}function cc(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m,h,f,_,w;return{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),i=Bn("div"),s=qn(),a=Bn("div"),r=Bn("div"),r.textContent=`${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_headline")}`,l=qn(),c=Bn("div"),c.textContent=`${chrome.i18n.getMessage("inline_translation_highlighter_tooltip_text")}`,d=qn(),u=Bn("button"),Zn(i,"class","logo svelte-143q1m8"),Zn(r,"class","headline svelte-143q1m8"),Zn(c,"class","text svelte-143q1m8"),Zn(a,"class","text-wrapper svelte-143q1m8"),Zn(o,"class","content svelte-143q1m8"),Zn(u,"class","close-icon svelte-143q1m8"),Zn(n,"class",p=Tn(`body body__${e[1]}`)+" svelte-143q1m8"),Zn(t,"class",g=Tn(`container container__${e[1]}`)+" svelte-143q1m8")},m(p,g){Pn(p,t,g),Dn(t,n),Dn(n,o),Dn(o,i),Dn(o,s),Dn(o,a),Dn(a,r),Dn(a,l),Dn(a,c),Dn(n,d),Dn(n,u),f=!0,_||(w=Wn(u,"click",e[3]),_=!0)},p(e,[o]){(!f||2&o&&p!==(p=Tn(`body body__${e[1]}`)+" svelte-143q1m8"))&&Zn(n,"class",p),(!f||2&o&&g!==(g=Tn(`container container__${e[1]}`)+" svelte-143q1m8"))&&Zn(t,"class",g)},i(e){f||(Lo((()=>{h&&h.end(1),m=Uo(t,ea,{x:100,duration:1e3}),m.start()})),f=!0)},o(e){m&&m.invalidate(),h=qo(t,ea,{x:100,duration:1e3}),f=!1},d(e){e&&zn(t),e&&h&&h.end(),_=!1,w()}}}function dc(t,n,o){let{closeInlineHighlighter:i=(()=>{})}=n,{el:s}=n,a="topLeft";mo((async()=>{try{Xt({action:"dltrackOpenInlineHighlighter",payload:{domainName:e.websiteData.hostname}})}catch(e){console.error(e)}}));return t.$$set=e=>{"closeInlineHighlighter"in e&&o(0,i=e.closeInlineHighlighter),"el"in e&&o(2,s=e.el)},t.$$.update=()=>{if(4&t.$$.dirty&&s){const e=s.getBoundingClientRect();let t=e.x>387,n=window.innerWidth-e.right>387,i=window.innerHeight-e.bottom>150,r=e.y>150;r&&t?o(1,a="topLeft"):r&&n?o(1,a="topRight"):i&&t?o(1,a="bottomLeft"):i&&n&&o(1,a="bottomRight")}},[i,a,s,()=>i(fe)]}class uc extends Zo{constructor(e){super(),Vo(this,e,dc,cc,_n,{closeInlineHighlighter:0,el:2})}}function pc(e){let t,n,o,i,s,a,r,l,c,d=e[3]&&!e[1].isInlineHighlighterShown&&gc(e);return o=new lc({props:{tooltip:e[2],$$slots:{default:[mc]},$$scope:{ctx:e}}}),s=new lc({props:{tooltip:chrome.i18n.getMessage("inline_translation_tooltip_turnoff"),$$slots:{default:[hc]},$$scope:{ctx:e}}}),{c(){d&&d.c(),t=qn(),n=Bn("div"),jo(o.$$.fragment),i=qn(),jo(s.$$.fragment),Zn(n,"class","icon-container svelte-l3ooav"),Zn(n,"data-qa","deepl-inline-translate-icon-container")},m(a,u){d&&d.m(a,u),Pn(a,t,u),Pn(a,n,u),Wo(o,n,null),Dn(n,i),Wo(s,n,null),e[25](n),r=!0,l||(c=[Wn(n,"blur",e[16]),Wn(n,"mouseenter",e[7]),Wn(n,"mouseleave",e[8])],l=!0)},p(e,n){e[3]&&!e[1].isInlineHighlighterShown?d?(d.p(e,n),10&n&&Ho(d,1)):(d=gc(e),d.c(),Ho(d,1),d.m(t.parentNode,t)):d&&(Po(),Bo(d,1,1,(()=>{d=null})),zo());const i={};4&n&&(i.tooltip=e[2]),134217728&n&&(i.$$scope={dirty:n,ctx:e}),o.$set(i);const a={};134217744&n&&(a.$$scope={dirty:n,ctx:e}),s.$set(a)},i(e){r||(Ho(d),Ho(o.$$.fragment,e),Ho(s.$$.fragment,e),a||Lo((()=>{a=Uo(n,ea,{x:-5,duration:300}),a.start()})),r=!0)},o(e){Bo(d),Bo(o.$$.fragment,e),Bo(s.$$.fragment,e),r=!1},d(i){d&&d.d(i),i&&zn(t),i&&zn(n),Go(o),Go(s),e[25](null),l=!1,hn(c)}}}function gc(e){let t,n;return t=new uc({props:{closeInlineHighlighter:e[11],el:e[3]}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};8&n&&(o.el=e[3]),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function mc(e){let t,n,o;return{c(){t=Bn("div"),Zn(t,"class","dl-logo svelte-l3ooav"),Zn(t,"data-qa","deepl-inline-translate-menu-icon")},m(i,s){Pn(i,t,s),n||(o=[Wn(t,"click",Vn(Gn(e[6]))),Wn(t,"focus",e[20]),Wn(t,"mouseup",Vn(Gn(e[21]))),Wn(t,"mousedown",Vn(Gn(e[22]))),Wn(t,"mouseenter",e[23])],n=!0)},p:un,d(e){e&&zn(t),n=!1,hn(o)}}}function hc(e){let t,n,o,i,s;return{c(){t=Bn("div"),Zn(t,"data-qa","deepl-inline-translate-turnoff-icon"),Zn(t,"class",n=Tn(`dl-turnoff-inline-icon ${e[4]?"":"hidden"} `)+" svelte-l3ooav")},m(n,o){Pn(n,t,o),i||(s=[Wn(t,"click",Vn(Gn(e[9]))),Wn(t,"focus",e[17]),Wn(t,"mousedown",Vn(Gn(e[18]))),Wn(t,"mouseup",Vn(Gn(e[19]))),Wn(t,"mouseenter",e[24])],i=!0)},p(e,o){16&o&&n!==(n=Tn(`dl-turnoff-inline-icon ${e[4]?"":"hidden"} `)+" svelte-l3ooav")&&Zn(t,"class",n)},i(e){o||Lo((()=>{o=Uo(t,ea,{x:-5,duration:300}),o.start()}))},o:un,d(e){e&&zn(t),i=!1,hn(s)}}}function fc(e){let t,n,o=!e[5]&&pc(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,[n]){e[5]?o&&(Po(),Bo(o,1,1,(()=>{o=null})),zo()):o?(o.p(e,n),32&n&&Ho(o,1)):(o=pc(e),o.c(),Ho(o,1),o.m(t.parentNode,t))},i(e){n||(Ho(o),n=!0)},o(e){Bo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function _c(e,t,n){let o,i,s,a=un,r=()=>(a(),a=wn(l,(e=>n(15,s=e))),l);vn(e,di,(e=>n(1,i=e))),e.$$.on_destroy.push((()=>a())),_o("deepl_settings",di);let{websiteSettings:l}=t;r();let c,d,{platformBehaviour:u=ve.default}=t,{translateGDocsSelection:p}=t,g="",m=!1;function h(){switch(Ti(),_(),u){case ve.gdocs:p({targetLang:i.selectedTargetLanguage});break;case ve.default:default:Xt({action:"dlTriggerTranslateInline"}),g||Qt(S)}v(_e)}async function f(e,t,n){if("dlTriggerTranslationShortcut"===e.action)h(),Xt({action:"dlTrackUseOfShortcut",payload:{shortcutType:ee,location:I,nicheIntegration:u}}),n()}function _(){s&&s.isInlineTranslateSettingsTooltipInjected||n(4,m=!1)}function w(e){Xt({action:"dlTrackIconHover",payload:{uiLocation:e,domainName:window.location.host,nicheIntegration:u}})}function v(e){if(!i.isInlineHighlighterShown){di.set({isInlineHighlighterShown:!0});try{Xt({action:"dltrackCloseInlineHighlighter",payload:{trigger:e}})}catch(e){console.error(e)}}}Xt({action:"dlCheckCommandShortcuts"}).then((e=>n(14,g=e?e.filter((e=>e.name==ee))[0].shortcut:""))),chrome.runtime.onMessage.addListener(f),ho((()=>{chrome.runtime.onMessage.removeListener(f)}));return e.$$set=e=>{"websiteSettings"in e&&r(n(0,l=e.websiteSettings)),"platformBehaviour"in e&&n(12,u=e.platformBehaviour),"translateGDocsSelection"in e&&n(13,p=e.translateGDocsSelection)},e.$$.update=()=>{if(2&e.$$.dirty&&n(5,o=i.blacklistDomainsForReading&&i.blacklistDomainsForReading.includes(window.location.hostname)||!i.enableInlineTranslation),53248&e.$$.dirty){let e;switch(u){case ve.gdocs:e=chrome.i18n.getMessage("ui_gdocs_translate_tooltip");break;case ve.default:default:e=chrome.i18n.getMessage("context_menus_translate_section")}n(2,c=g?`${e} (${g})`:e),!1===s.isInlineTranslateSettingsTooltipInjected&&n(4,m=!1)}},[l,i,c,d,m,o,h,function(){n(4,m=!0)},_,function(){s&&!s.isInlineTranslateSettingsTooltipInjected&&(n(4,m=!0),Ci(u),Xt({action:"dlTrackInlineSettingOpened",payload:{uiFunction:le,uiLocation:I,nicheIntegration:u}})),v(_e)},w,v,u,p,g,s,function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},()=>w(I),()=>w(D),function(e){bo[e?"unshift":"push"]((()=>{d=e,n(3,d)}))}]}class wc extends Zo{constructor(e){super(),Vo(this,e,_c,fc,_n,{websiteSettings:0,platformBehaviour:12,translateGDocsSelection:13})}}class vc extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.mainComponent,this.cachedMouseEvent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.addChangeEvents=this.addChangeEvents.bind(this),this.removeChangeEvents=this.removeChangeEvents.bind(this),this.repositionContainer=this.repositionContainer.bind(this),this.cachedReposition=this.cachedReposition.bind(this),this.shadowRoot.addEventListener("mouseup",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM(e,t){this.shadowContainer&&this.shadowContainer.childElementCount>0&&this.cleanupDOM(),this.shadowContainer.appendChild(this.container),this.repositionContainer(t),this.mainComponent=new wc({target:this.container,props:{websiteSettings:e}}),this.addChangeEvents(),this.cachedMouseEvent=t}repositionContainer(e){if(window.getSelection()&&!window.getSelection().toString())return void this.cleanupDOM();const{deepl_inline_ui:t}=L,n=tn();let o=`position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${t.z_index}`,i=`position: absolute; z-index: ${t.z_index};`;this.shadowContainer.style.cssText=o,this.container.style.cssText=i;const s=function(e,t){let n={containerStyleTop:t.y>0?t.y:0,containerStyleLeft:t.x>0?t.x:0};if(!e||!t)return n;const{TRIGGER_EXPENDED_WIDTH:o,TRIGGER_WIDTH:i,TRIGGER_HEIGHT:s}=gi,a=e?.detail;if(1===a){if(e.isOutsideOfView)return n;let a=parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement,null).getPropertyValue("font-size"));const r=document.body.parentNode.getBoundingClientRect();let l=e.pageY+.5*a,c=t.selectedTop+t.height-a-r.y;if(t.height<1.5*a){n.containerStyleLeft=e.clientX;const s=t.x+t.selectedWidth;e.clientX>s?n.containerStyleLeft=t.selectedRight>o?s:s-o:e.clientX-t.x<i&&e.clientX<t.x&&(n.containerStyleLeft=t.selectedLeft>o?t.x:t.x+o)}else l>c?n.containerStyleLeft=e.clientX:l<c&&(n.containerStyleTop=t.y-t.height-s-5,n.containerStyleLeft=e.clientX)}else if(2===a){n.containerStyleLeft=t.x+t.selectedWidth-i;let e=parseInt(window.getComputedStyle(window.getSelection().anchorNode.parentElement,null).getPropertyValue("font-size"));parseInt(t.height/2)>e&&(n.containerStyleTop=t.y-t.height+e+2)}const r=window.innerWidth||document.documentElement.innerWidth,l=window.scrollHeight||document.documentElement.scrollHeight;return n.containerStyleLeft+o>r&&(n.containerStyleLeft=n.containerStyleLeft-o),(n.containerStyleTop+s>l||n.containerStyleTop<0)&&(n.containerStyleTop=t.y-s),n}(e,n);this.container.style.top=`${parseInt(s.containerStyleTop)}px`,this.container.style.left=`${parseInt(s.containerStyleLeft)}px`}cachedReposition(){return this.repositionContainer(this.cachedMouseEvent)}addChangeEvents(){window.addEventListener("scroll",this.cachedReposition),window.addEventListener("resize",this.cachedReposition)}removeChangeEvents(){window.removeEventListener("scroll",this.cachedReposition),window.removeEventListener("resize",this.cachedReposition)}cleanupDOM(){this.container.remove(),this.shadowContainer.remove(),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.shadow.appendChild(this.shadowContainer),this.mainComponent&&this.mainComponent.$destroy(),this.removeChangeEvents()}}function $c(e){let t,n,o;return{c(){t=Bn("button"),Zn(t,"type","button"),Zn(t,"class","dl-menu-icon dl-menu-icon--user svelte-feu83h")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"mousedown",Gn(e[13])),n=!0)},d(e){e&&zn(t),n=!1,o()}}}function bc(e){let t,n,o,i,s,a,r,l,c,d=ot();function u(e,t){return!0===e[1].isLoggedIn?xc:yc}let p=u(e),g=p&&p(e),m=d&&function(e){let t,n,o;return{c(){t=Bn("div"),t.textContent="DEV_TOOLS",Zn(t,"class","dl-menu-item svelte-feu83h")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",e[8]),n=!0)},p:un,d(e){e&&zn(t),n=!1,o()}}}(e);return{c(){t=Bn("div"),n=Bn("div"),n.innerHTML='<span class="dl-menu-link dl-feedback-link svelte-feu83h"><div>Share feedback</div> \n          <div class="dl-feedback-icon svelte-feu83h"></div></span>',o=qn(),i=Bn("div"),i.textContent=`${chrome.i18n.getMessage("menu_settings_label")}`,s=qn(),g&&g.c(),a=qn(),m&&m.c(),Zn(n,"class","dl-menu-item svelte-feu83h"),Zn(i,"class","dl-menu-item svelte-feu83h"),Zn(t,"class","dl-menu-list svelte-feu83h")},m(r,d){Pn(r,t,d),Dn(t,n),Dn(t,o),Dn(t,i),Dn(t,s),g&&g.m(t,null),Dn(t,a),m&&m.m(t,null),l||(c=[Wn(n,"click",e[6]),Wn(i,"click",e[9])],l=!0)},p(e,n){p===(p=u(e))&&g?g.p(e,n):(g&&g.d(1),g=p&&p(e),g&&(g.c(),g.m(t,a))),d&&m.p(e,n)},i(e){r||Lo((()=>{r=Uo(t,ea,{y:-5,duration:500}),r.start()}))},o:un,d(e){e&&zn(t),g&&g.d(),m&&m.d(),l=!1,hn(c)}}}function yc(e){let t,n,o,i,s,a,r,l,c;return{c(){t=Bn("div"),t.innerHTML='<div class="divider svelte-feu83h"></div>',n=qn(),o=Bn("div"),i=Bn("span"),i.textContent=`${chrome.i18n.getMessage("menu_login_label")}`,s=qn(),a=Bn("div"),r=Bn("span"),r.textContent=`${chrome.i18n.getMessage("menu_trial_label")}`,Zn(t,"class","dl-menu-item dl-menu-item--divider svelte-feu83h"),Zn(o,"class","dl-menu-item svelte-feu83h"),Zn(r,"class","dl-menu-link link svelte-feu83h"),Zn(a,"class","dl-menu-item svelte-feu83h")},m(d,u){Pn(d,t,u),Pn(d,n,u),Pn(d,o,u),Dn(o,i),Pn(d,s,u),Pn(d,a,u),Dn(a,r),l||(c=[Wn(o,"click",e[4]),Wn(a,"click",e[5])],l=!0)},p:un,d(e){e&&zn(t),e&&zn(n),e&&zn(o),e&&zn(s),e&&zn(a),l=!1,hn(c)}}}function xc(e){let t,n,o,i,s,a;return{c(){t=Bn("div"),t.innerHTML='<div class="divider svelte-feu83h"></div>',n=qn(),o=Bn("div"),i=Bn("span"),i.textContent=`${chrome.i18n.getMessage("menu_logout_label")}`,Zn(t,"class","dl-menu-item dl-menu-item--divider svelte-feu83h"),Zn(o,"class","dl-menu-item svelte-feu83h")},m(r,l){Pn(r,t,l),Pn(r,n,l),Pn(r,o,l),Dn(o,i),s||(a=Wn(o,"click",e[3]),s=!0)},p:un,d(e){e&&zn(t),e&&zn(n),e&&zn(o),s=!1,a()}}}function Cc(e){let t,n,o,i,s,a,r,l=!0===e[1].isLoggedIn&&$c(e),c=e[0]&&bc(e);return{c(){t=Bn("div"),n=Bn("div"),l&&l.c(),o=qn(),i=Bn("button"),s=qn(),c&&c.c(),Zn(i,"type","button"),Zn(i,"class","dl-menu-icon dl-menu-icon--hamburger svelte-feu83h"),no(i,"isOpen",e[0]),Zn(n,"class","dl-menu-icon-wrapper svelte-feu83h"),Zn(t,"class","dl-container-menu svelte-feu83h")},m(d,u){Pn(d,t,u),Dn(t,n),l&&l.m(n,null),Dn(n,o),Dn(n,i),Dn(t,s),c&&c.m(t,null),a||(r=[Wn(i,"mousedown",Gn(e[12])),Wn(n,"click",e[14]),Wn(n,"mousedown",Vn(Gn(e[11]))),Ln(Jt.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[7]),Wn(t,"mousedown",Vn(Gn(e[10])))],a=!0)},p(e,[s]){!0===e[1].isLoggedIn?l||(l=$c(e),l.c(),l.m(n,o)):l&&(l.d(1),l=null),1&s&&no(i,"isOpen",e[0]),e[0]?c?(c.p(e,s),1&s&&Ho(c,1)):(c=bc(e),c.c(),Ho(c,1),c.m(t,null)):c&&(c.d(1),c=null)},i(e){Ho(c)},o:un,d(e){e&&zn(t),l&&l.d(),c&&c.d(),a=!1,hn(r)}}}function Tc(e,t,n){let o;const i=wo("deepl_settings");vn(e,i,(e=>n(1,o=e)));let s=!1;function a(){n(0,s=!1)}return[s,o,i,function(){Xt({action:"dlRequestLogout"}),Xt({action:"dlTrackUiAction",payload:{uiAction:ie}}),a()},function(){Xt({action:"dlRequestLogin"}),a()},function(){Xt({action:"dlExternalURLRedirect",payload:{destination:ba,utmContent:"menu"}}),a()},function(){Xt({action:"dlExternalURLRedirect",payload:{destination:$a}}),a()},a,function(){Xt({action:"dlOpenInternalPage",payload:{destination:ur.developer_tools}}),a()},function(){Xt({action:"dlOpenInternalPage",payload:{destination:ur.settings_page}}),a()},function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},()=>{n(0,s=!s)}]}window.customElements.define("deepl-inline-trigger",vc);class Ec extends Zo{constructor(e){super(),Vo(this,e,Tc,Cc,_n,{})}}function Lc(e){let t;return{c(){t=Bn("div"),Zn(t,"class","dl-logo svelte-a2zgdq")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Sc(e){let t,n,o;return{c(){t=Bn("div"),Zn(t,"class","dl-logo dl-logo--clickable svelte-a2zgdq")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",e[10]),n=!0)},p:un,d(e){e&&zn(t),n=!1,o()}}}function kc(e){let t,n,o,i,s,a;return s=new jr({props:{value:e[7].selectedTargetLanguage,websiteSettings:e[4],customClass:"dropdown__wrapper--header",fontSize:"sm"}}),s.$on("selection",e[14]),{c(){t=Bn("div"),n=Bn("span"),n.textContent=`${chrome.i18n.getMessage("layout_header_label_language_switch_v2")}`,o=qn(),i=Bn("div"),jo(s.$$.fragment),Zn(n,"class","dl-actions-language-selector__label svelte-a2zgdq"),Zn(i,"class","dl-actions-language-selector__dropdown svelte-a2zgdq"),Zn(t,"class","dl-actions-language-selector svelte-a2zgdq")},m(e,r){Pn(e,t,r),Dn(t,n),Dn(t,o),Dn(t,i),Wo(s,i,null),a=!0},p(e,t){const n={};128&t&&(n.value=e[7].selectedTargetLanguage),16&t&&(n.websiteSettings=e[4]),s.$set(n)},i(e){a||(Ho(s.$$.fragment,e),a=!0)},o(e){Bo(s.$$.fragment,e),a=!1},d(e){e&&zn(t),Go(s)}}}function Mc(e){let t,n,o;return{c(){t=Bn("button"),Zn(t,"class","dl-settings-icon svelte-a2zgdq"),Zn(t,"data-qa","deepl-layour-header-settings-link")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",e[11]),n=!0)},p:un,d(e){e&&zn(t),n=!1,o()}}}function Oc(e){let t,n;return t=new Ec({}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Nc(e){let t,n,o;return{c(){t=Bn("button"),Zn(t,"type","button"),Zn(t,"class","dl-close-icon svelte-a2zgdq")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",(function(){fn(e[0])&&e[0].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&zn(t),n=!1,o()}}}function Ic(e){let t,n,o,i,s,a,r,l,c,d;let u=function(e,t){return e[10]?Sc:Lc}(e),p=u(e),g=e[2]&&e[7]&&e[4]&&kc(e),m=e[6]&&Mc(e),h=e[1]&&Oc(),f=e[0]&&Nc(e);return{c(){t=Bn("div"),p.c(),n=qn(),o=Bn("div"),g&&g.c(),i=qn(),m&&m.c(),s=qn(),h&&h.c(),a=qn(),f&&f.c(),Zn(o,"class","dl-actions svelte-a2zgdq"),Zn(t,"class",r=Tn("dl-header "+(e[2]?"dl-header--with-lang-selector":""))+" svelte-a2zgdq")},m(r,u){Pn(r,t,u),p.m(t,null),Dn(t,n),Dn(t,o),g&&g.m(o,null),Dn(o,i),m&&m.m(o,null),Dn(o,s),h&&h.m(o,null),Dn(o,a),f&&f.m(o,null),l=!0,c||(d=Wn(t,"mousedown",Vn(Gn(e[13]))),c=!0)},p(e,[n]){p.p(e,n),e[2]&&e[7]&&e[4]?g?(g.p(e,n),148&n&&Ho(g,1)):(g=kc(e),g.c(),Ho(g,1),g.m(o,i)):g&&(Po(),Bo(g,1,1,(()=>{g=null})),zo()),e[6]?m?m.p(e,n):(m=Mc(e),m.c(),m.m(o,s)):m&&(m.d(1),m=null),e[1]?h?2&n&&Ho(h,1):(h=Oc(),h.c(),Ho(h,1),h.m(o,a)):h&&(Po(),Bo(h,1,1,(()=>{h=null})),zo()),e[0]?f?f.p(e,n):(f=Nc(e),f.c(),f.m(o,null)):f&&(f.d(1),f=null),(!l||4&n&&r!==(r=Tn("dl-header "+(e[2]?"dl-header--with-lang-selector":""))+" svelte-a2zgdq"))&&Zn(t,"class",r)},i(e){l||(Ho(g),Ho(h),l=!0)},o(e){Bo(g),Bo(h),l=!1},d(e){e&&zn(t),p.d(),g&&g.d(),m&&m.d(),h&&h.d(),f&&f.d(),c=!1,d()}}}function Dc(e,t,n){let o,a,r=un,l=()=>(r(),r=wn(f,(e=>n(15,o=e))),f),c=un,d=()=>(c(),c=wn(h,(e=>n(7,a=e))),h);e.$$.on_destroy.push((()=>r())),e.$$.on_destroy.push((()=>c()));let{closeWindow:u}=t,{showMenu:g=!1}=t,{showLangSelect:m=!1}=t,{settings:h}=t;d();let{websiteSettings:f}=t;l();let{extensionContext:_=0}=t,{platformBehaviour:w=ve.default}=t,{showSettingsIcon:v=!0}=t;async function $(e){await h.set({selectedTargetLanguage:e.value,isTargetLanguageConfirmed:!0,regionalVariant:e.regionalVariant||""}),f.update({translationState:s}),Xt({action:"dlRequestInlineTranslation",payload:{requests:[{text:o.originalSnippet}],domainName:window.location.hostname,trigger:p,sourceLang:o.websiteLanguage}}).then((e=>{f.update({translationState:i,translatedSnippet:e[0].text,snippetDetectedSourceLang:e[0].detected_source_language,websiteLanguage:e[0].detected_source_language})})).catch((e=>{f.update({translationState:i,translatedSnippet:"",snippetDetectedSourceLang:"",error:e.message?e.message:e})}))}async function b(e){await h.set({selectedTargetLanguage:e.value,isTargetLanguageConfirmed:!0,regionalVariant:e.regionalVariant||""});const t=document.getElementsByTagName("deepl-gdocs-icon")[0];t&&t.requestNewTranslation(e)}return e.$$set=e=>{"closeWindow"in e&&n(0,u=e.closeWindow),"showMenu"in e&&n(1,g=e.showMenu),"showLangSelect"in e&&n(2,m=e.showLangSelect),"settings"in e&&d(n(3,h=e.settings)),"websiteSettings"in e&&l(n(4,f=e.websiteSettings)),"extensionContext"in e&&n(12,_=e.extensionContext),"platformBehaviour"in e&&n(5,w=e.platformBehaviour),"showSettingsIcon"in e&&n(6,v=e.showSettingsIcon)},[u,g,m,h,f,w,v,a,$,b,function(){Xt({action:"dlTrackLogoClickedEvent",payload:{extensionContext:_}}),Xt({action:"dlExternalURLRedirect",payload:{destination:xa,utmContent:"home"}})},function(){Xt({action:"dlOpenInternalPage",payload:{destination:ur.settings_page}})},_,function(t){vo.call(this,e,t)},e=>{switch(w){case ve.gdocs:b(e.detail.selectedOption);break;case ve.default:default:$(e.detail.selectedOption)}}]}class Ac extends Zo{constructor(e){super(),Vo(this,e,Dc,Ic,_n,{closeWindow:0,showMenu:1,showLangSelect:2,settings:3,websiteSettings:4,extensionContext:12,platformBehaviour:5,showSettingsIcon:6})}}function Rc(e){let t,n;return t=new Ac({props:{websiteSettings:e[5],settings:e[4],showLangSelect:e[2],showMenu:e[1],closeWindow:e[0],extensionContext:e[6],platformBehaviour:e[7],showSettingsIcon:e[8]}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};32&n&&(o.websiteSettings=e[5]),16&n&&(o.settings=e[4]),4&n&&(o.showLangSelect=e[2]),2&n&&(o.showMenu=e[1]),1&n&&(o.closeWindow=e[0]),64&n&&(o.extensionContext=e[6]),128&n&&(o.platformBehaviour=e[7]),256&n&&(o.showSettingsIcon=e[8]),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Pc(e){let t,n,o,i,s,a=e[3]&&Rc(e);const r=e[10].default,l=$n(r,e,e[9],null);return{c(){t=Bn("div"),a&&a.c(),n=qn(),o=Bn("div"),l&&l.c(),Zn(o,"class","dl-content svelte-1dtlgso"),Zn(t,"class",i=Tn(`dl-layout ${e[2]&&"dl-layout--with-lang-selector"}`)+" svelte-1dtlgso"),Zn(t,"translate","no")},m(e,i){Pn(e,t,i),a&&a.m(t,null),Dn(t,n),Dn(t,o),l&&l.m(o,null),s=!0},p(e,[o]){e[3]?a?(a.p(e,o),8&o&&Ho(a,1)):(a=Rc(e),a.c(),Ho(a,1),a.m(t,n)):a&&(Po(),Bo(a,1,1,(()=>{a=null})),zo()),l&&l.p&&(!s||512&o)&&xn(l,r,e,e[9],s?yn(r,e[9],o,null):Cn(e[9]),null),(!s||4&o&&i!==(i=Tn(`dl-layout ${e[2]&&"dl-layout--with-lang-selector"}`)+" svelte-1dtlgso"))&&Zn(t,"class",i)},i(e){s||(Ho(a),Ho(l,e),s=!0)},o(e){Bo(a),Bo(l,e),s=!1},d(e){e&&zn(t),a&&a.d(),l&&l.d(e)}}}function zc(e,t,n){let{$$slots:o={},$$scope:i}=t,{closeWindow:s}=t,{showMenu:a=!1}=t,{showLangSelect:r=!1}=t,{withHeader:l=!0}=t,{settings:c}=t,{websiteSettings:d}=t,{extensionContext:u}=t,{platformBehaviour:p=ve.default}=t,{showSettingsIcon:g=!0}=t;return e.$$set=e=>{"closeWindow"in e&&n(0,s=e.closeWindow),"showMenu"in e&&n(1,a=e.showMenu),"showLangSelect"in e&&n(2,r=e.showLangSelect),"withHeader"in e&&n(3,l=e.withHeader),"settings"in e&&n(4,c=e.settings),"websiteSettings"in e&&n(5,d=e.websiteSettings),"extensionContext"in e&&n(6,u=e.extensionContext),"platformBehaviour"in e&&n(7,p=e.platformBehaviour),"showSettingsIcon"in e&&n(8,g=e.showSettingsIcon),"$$scope"in e&&n(9,i=e.$$scope)},[s,a,r,l,c,d,u,p,g,i,o]}class Hc extends Zo{constructor(e){super(),Vo(this,e,zc,Pc,_n,{closeWindow:0,showMenu:1,showLangSelect:2,withHeader:3,settings:4,websiteSettings:5,extensionContext:6,platformBehaviour:7,showSettingsIcon:8})}}function Bc(e){let t,n,o,i,s,a,r,l,c,d;return{c(){t=Bn("div"),n=Bn("input"),o=qn(),i=Bn("div"),s=qn(),a=Bn("label"),r=Un(e[3]),Zn(n,"id",e[1]),Zn(n,"name",e[4]),Zn(n,"type","radio"),n.checked=e[2],Zn(n,"data-qa",e[6]),Zn(n,"class","svelte-12100kl"),Zn(i,"class","radio-icon svelte-12100kl"),Zn(a,"for",e[1]),Zn(a,"class","svelte-12100kl"),Zn(t,"class",l=Tn(`radio ${e[5]} ${e[2]?"radio--checked":""}`)+" svelte-12100kl")},m(l,u){Pn(l,t,u),Dn(t,n),Xn(n,e[0]),Dn(t,o),Dn(t,i),Dn(t,s),Dn(t,a),Dn(a,r),c||(d=[Wn(n,"change",e[10]),Wn(n,"change",e[8]),Wn(n,"mousedown",Vn(Gn(e[9]))),Wn(t,"click",e[7])],c=!0)},p(e,[o]){2&o&&Zn(n,"id",e[1]),16&o&&Zn(n,"name",e[4]),4&o&&(n.checked=e[2]),64&o&&Zn(n,"data-qa",e[6]),1&o&&Xn(n,e[0]),8&o&&Kn(r,e[3]),2&o&&Zn(a,"for",e[1]),36&o&&l!==(l=Tn(`radio ${e[5]} ${e[2]?"radio--checked":""}`)+" svelte-12100kl")&&Zn(t,"class",l)},i:un,o:un,d(e){e&&zn(t),c=!1,hn(d)}}}function Fc(e,t,n){let{id:o}=t,{checked:i=!1}=t,{label:s=""}=t,{value:a=""}=t,{name:r=""}=t,{cssClassName:l=""}=t,{dataQa:c="deepl-radio-button"}=t;return e.$$set=e=>{"id"in e&&n(1,o=e.id),"checked"in e&&n(2,i=e.checked),"label"in e&&n(3,s=e.label),"value"in e&&n(0,a=e.value),"name"in e&&n(4,r=e.name),"cssClassName"in e&&n(5,l=e.cssClassName),"dataQa"in e&&n(6,c=e.dataQa)},[a,o,i,s,r,l,c,function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},function(){a=this.value,n(0,a)}]}class Uc extends Zo{constructor(e){super(),Vo(this,e,Fc,Bc,_n,{id:1,checked:2,label:3,value:0,name:4,cssClassName:5,dataQa:6})}}function qc(e){let t,n,o;return n=new Hc({props:{withHeader:!1,$$slots:{default:[jc]},$$scope:{ctx:e}}}),{c(){t=Bn("div"),jo(n.$$.fragment)},m(e,i){Pn(e,t,i),Wo(n,t,null),o=!0},p(e,t){const o={};131081&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Ho(n.$$.fragment,e),o=!0)},o(e){Bo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Go(n)}}}function jc(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m,h,f,_,w,v,$,b=chrome.i18n.getMessage("inline_translation_setting_button_ok")+"";return l=new Uc({props:{name:"disable_inline_translation",id:se,value:se,cssClassName:"radio--with-border",checked:e[3]===se,label:chrome.i18n.getMessage("inline_translation_setting_radio_disable_per_site"),dataQa:"disable-per-site-radio-button"}}),l.$on("change",e[7]),l.$on("click",e[11]),d=new Uc({props:{name:"disable_inline_translation",id:ae,value:ae,cssClassName:"radio--with-border",checked:e[3]===ae,label:chrome.i18n.getMessage("inline_translation_setting_radio_disable_everywhere"),dataQa:"disable-everywhere-radio-button"}}),d.$on("change",e[7]),d.$on("click",e[12]),{c(){t=Bn("div"),n=Bn("button"),o=qn(),i=Bn("div"),s=Bn("p"),s.textContent=`${chrome.i18n.getMessage("inline_translation_setting_label_title_v2")}`,a=qn(),r=Bn("div"),jo(l.$$.fragment),c=qn(),jo(d.$$.fragment),u=qn(),p=Bn("div"),g=Bn("span"),g.textContent=`${chrome.i18n.getMessage("inline_translation_setting_link_cancel")}`,m=qn(),h=Bn("button"),f=Un(b),Zn(n,"type","button"),Zn(n,"class","close-icon svelte-1frab6c"),Zn(t,"class","header svelte-1frab6c"),Zn(s,"class","font-bold svelte-1frab6c"),Zn(r,"class","option-container svelte-1frab6c"),Zn(g,"class","link svelte-1frab6c"),Zn(g,"data-qa","close-settings-popup-link"),Zn(h,"class",_=Tn("btn btn-primary "+(e[3]?"":"disabled"))+" svelte-1frab6c"),Zn(h,"data-qa","save-settings-change-button"),Zn(p,"class","action-container svelte-1frab6c"),Zn(i,"class","dl-widget svelte-1frab6c")},m(_,b){Pn(_,t,b),Dn(t,n),Pn(_,o,b),Pn(_,i,b),Dn(i,s),Dn(i,a),Dn(i,r),Wo(l,r,null),Dn(r,c),Wo(d,r,null),Dn(i,u),Dn(i,p),Dn(p,g),Dn(p,m),Dn(p,h),Dn(h,f),w=!0,v||($=[Wn(n,"click",Vn(Gn((function(){fn(e[0])&&e[0].apply(this,arguments)})))),Wn(t,"mousedown",Vn(Gn(e[10]))),Wn(g,"click",(function(){fn(e[0])&&e[0].apply(this,arguments)})),Wn(h,"click",Vn(Gn(e[6]))),Wn(i,"mousedown",Vn(Gn(e[9])))],v=!0)},p(t,n){e=t;const o={};8&n&&(o.checked=e[3]===se),l.$set(o);const i={};8&n&&(i.checked=e[3]===ae),d.$set(i),(!w||8&n&&_!==(_=Tn("btn btn-primary "+(e[3]?"":"disabled"))+" svelte-1frab6c"))&&Zn(h,"class",_)},i(e){w||(Ho(l.$$.fragment,e),Ho(d.$$.fragment,e),w=!0)},o(e){Bo(l.$$.fragment,e),Bo(d.$$.fragment,e),w=!1},d(e){e&&zn(t),e&&zn(o),e&&zn(i),Go(l),Go(d),v=!1,hn($)}}}function Wc(e){let t,n,o,i,s,a=e[4].enableInlineTranslation&&qc(e);return{c(){t=Bn("div"),a&&a.c(),Zn(t,"class","tooltip-wrapper tooltip-wrapper--settings svelte-1frab6c"),Zn(t,"data-qa","deepl-inline-settings-tooltip"),Zn(t,"style",e[2]),Lo((()=>e[13].call(t)))},m(r,l){Pn(r,t,l),a&&a.m(t,null),n=to(t,e[13].bind(t)),o=!0,i||(s=[Ln(Jt.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[14])],i=!0)},p(e,[n]){e[4].enableInlineTranslation?a?(a.p(e,n),16&n&&Ho(a,1)):(a=qc(e),a.c(),Ho(a,1),a.m(t,null)):a&&(Po(),Bo(a,1,1,(()=>{a=null})),zo()),(!o||4&n)&&Zn(t,"style",e[2])},i(e){o||(Ho(a),o=!0)},o(e){Bo(a),o=!1},d(e){e&&zn(t),a&&a.d(),n(),i=!1,hn(s)}}}function Gc(e,t,n){let o;vn(e,di,(e=>n(4,o=e)));let i,{closeTooltip:s}=t,{replaceElement:a}=t,r="visibility: hidden; opacity:0; height:0;",l="";function c(e){n(3,l=e)}mo((()=>{setTimeout((()=>{n(2,r="")}),100)}));return e.$$set=e=>{"closeTooltip"in e&&n(0,s=e.closeTooltip),"replaceElement"in e&&n(8,a=e.replaceElement)},e.$$.update=()=>{258&e.$$.dirty&&a(i)},[s,i,r,l,o,c,function(){if(!l)return;switch(l){case ae:di.set({enableInlineTranslation:!1}),Xt({action:"dlTrackSettingChanged",payload:{settingType:ae,domainName:window.location.hostname,uiFunction:le,uiLocation:A}});break;case se:!function(){let e=o.blacklistDomainsForReading;e&&!e.includes(window.location.hostname)&&(e.push(window.location.hostname),di.set({blacklistDomainsForReading:e}),Xt({action:"dlTrackSettingChanged",payload:{settingType:se,domainName:window.location.hostname,uiFunction:le,uiLocation:A}}))}()}let e=ii(window.location.hostname,["www."]);s(),Xt({action:"dlSendNotification",payload:{type:M,options:{theme:N.green_theme,currentDomain:e,saveAction:l,settingsPageURL:ur.settings_reading}}})},function(e){n(3,l=e.currentTarget.value)},a,function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},()=>c(se),()=>c(ae),function(){i=this.clientHeight,n(1,i)},()=>s()]}class Vc extends Zo{constructor(e){super(),Vo(this,e,Gc,Wc,_n,{closeTooltip:0,replaceElement:8})}}class Zc extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this)}createDOM(e,t){const{deepl_inline_ui:n}=L;this.shadowContainer&&this.shadowContainer.childElementCount>0&&this.cleanupDOM();const o=300;this.shadowContainer.appendChild(this.container);const i=e?.top,s=window.innerHeight-(e?.bottom||0);let a="position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(n.z_index-100),r=`position: absolute; top: 0px; left: 0px; z-index: ${n.z_index-100};`,l=e.y,c=e.x;this.shadowContainer.style.cssText=a,this.container.style.cssText=r,this.mainComponent=new Vc({target:this.container,props:{closeTooltip:t,replaceElement:t=>{const d=i>o;s>o?l=e.y+8:d&&(l=e.y-30-t-4),s<o&&i<o&&(a=`position: fixed; top:50%; left:50%; transform:translate(-50%,-50%); z-index: ${n.z_index-100}; max-height:90vh;`,r=`z-index: ${n.z_index-100};`,c=0,l=0),e.right<260?c=e.left-260+60:e.left<260&&(c=e.left),this.container.style.top=`${parseInt(l)}px`,this.container.style.left=`${parseInt(c)}px`}}})}cleanupDOM(){this.container.remove(),this.shadowContainer.remove(),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.shadow.appendChild(this.shadowContainer),this.mainComponent&&this.mainComponent.$destroy()}}window.customElements.define("deepl-inline-translate-settings-tooltip",Zc);const Kc=e=>({top:e?.selectedTop,bottom:window.innerHeight-e?.selectedBottom,right:e?.selectedRight,left:e?.selectedLeft}),Xc=e=>{const{coords:t,clientHeight:n}=e,o=Kc(t),i={top:{position:t.y-t.height,isPossible:o.top>=0},bottom:{position:t.y-n,isPossible:o.bottom>=0},middle:{position:window.pageYOffset+window.innerHeight/2-n/2,isPossible:!0}};for(const e of Object.values(i))if(e.isPossible)return e.position},Qc=({coords:e,TOOLTIP_WIDTH:t})=>{const n={right:{position:e.x,isPossible:e.x+t<=window.innerWidth},left:{position:e.x+e.selectedWidth-t,isPossible:e.x+e.selectedWidth-t>=0},middle:{position:window.innerWidth/2-t/2,isPossible:!0}};for(const e of Object.values(n))if(e.isPossible)return e.position},Yc=(e,t)=>{const{coords:n,clientHeight:o,style:i,TOOLTIP_WIDTH:s,TRIGGER_MENU_ICON_HEIGHT:a}=t;switch(e){case"top":i.top=n.y-n.height-o-2-a+"px",i.left=`${Qc(t)}px`;break;case"bottom":i.top=`${n.y+2+a}px`,i.left=`${Qc(t)}px`;break;case"left":i.top=`${Xc(t)}px`,i.left=n.x-s-2+"px";break;case"right":i.top=`${Xc(t)}px`,i.left=`${n.x+n.selectedWidth+2}px`;break;default:i.top=window.pageYOffset+window.innerHeight/2-o/2+"px",i.left=window.innerWidth/2-s/2+"px"}},Jc=(e,t)=>{const{coords:n,clientHeight:o,TOOLTIP_WIDTH:i,style:s}=t;switch(s.left=n.x-i-10+"px",e){case"top":s.top=n.y-o+"px";break;case"bottom":s.top=n.y-n.height+"px";break;default:s.top=window.pageYOffset+window.innerHeight/2-o/2+"px"}},ed=(e,t)=>{const n=td(t);switch(e){case"top":case"bottom":case"left":case"right":return n[e];default:return!0}},td=e=>{const{TOOLTIP_WIDTH:t,clientHeight:n,coords:o}=e,i=Kc(o);return{left:i.left>t,right:i.right>t,bottom:i.bottom>n,top:i.top>n}};function nd(e){let t,n,o,i,s,a,r,l,c;return{c(){t=Bn("div"),n=Bn("div"),n.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_translation")}`,o=qn(),i=Bn("button"),i.textContent=`${chrome.i18n.getMessage("ui_inline_translation_listen_to_original")}`,Zn(n,"class","list-entry svelte-12gdpba"),Zn(n,"data-qa","dl-toolbar-listener-button-target-lang"),no(n,"dl-entry-notAvaiable",!e[0]),Zn(i,"class","list-entry svelte-12gdpba"),Zn(i,"data-qa","dl-toolbar-listener-button-source-lang"),no(i,"dl-entry-notAvaiable",!e[1]),Zn(t,"class","listen-list svelte-12gdpba"),Zn(t,"data-qa","dl-toolbar-listener-element-langs")},m(s,a){Pn(s,t,a),Dn(t,n),Dn(t,o),Dn(t,i),r=!0,l||(c=[Wn(n,"click",(function(){fn(e[3](e[4].translatedSnippet,e[5].selectedTargetLanguage))&&e[3](e[4].translatedSnippet,e[5].selectedTargetLanguage).apply(this,arguments)})),Wn(i,"click",(function(){fn(e[3](e[4].originalSnippet,e[4].websiteLanguage))&&e[3](e[4].originalSnippet,e[4].websiteLanguage).apply(this,arguments)}))],l=!0)},p(t,[o]){e=t,(!r||1&o)&&no(n,"dl-entry-notAvaiable",!e[0]),(!r||2&o)&&no(i,"dl-entry-notAvaiable",!e[1])},i(e){r||(Lo((()=>{a&&a.end(1),s=Uo(t,ea,{y:-5,duration:500}),s.start()})),r=!0)},o(e){s&&s.invalidate(),a=qo(t,ea,{y:-5,duration:500}),r=!1},d(e){e&&zn(t),e&&a&&a.end(),l=!1,hn(c)}}}function od(e,t,n){let o,i,s=un,a=()=>(s(),s=wn(c,(e=>n(4,o=e))),c);vn(e,di,(e=>n(5,i=e))),e.$$.on_destroy.push((()=>s()));let{isAvailableSelectedTargetLang:r}=t,{isAvailableSourceLang:l}=t,{websiteSettings:c}=t;a();let{listen:d=(()=>{})}=t;return e.$$set=e=>{"isAvailableSelectedTargetLang"in e&&n(0,r=e.isAvailableSelectedTargetLang),"isAvailableSourceLang"in e&&n(1,l=e.isAvailableSourceLang),"websiteSettings"in e&&a(n(2,c=e.websiteSettings)),"listen"in e&&n(3,d=e.listen)},[r,l,c,d,o,i]}class id extends Zo{constructor(e){super(),Vo(this,e,od,nd,_n,{isAvailableSelectedTargetLang:0,isAvailableSourceLang:1,websiteSettings:2,listen:3})}}function sd(e){let t,n,o,i;return{c(){t=Bn("button"),Zn(t,"type","button"),Zn(t,"class","dl-replace-button svelte-37z2qn"),t.disabled=n=e[3]||!e[2]||e[4]},m(n,s){Pn(n,t,s),o||(i=Wn(t,"click",e[5]),o=!0)},p(e,o){12&o&&n!==(n=e[3]||!e[2]||e[4])&&(t.disabled=n)},d(e){e&&zn(t),o=!1,i()}}}function ad(e){let t,n;return t=new lc({props:{tooltip:chrome.i18n.getMessage("ui_gdocs_replace_cta"),multiline:!0,zIndex:"0",isEnabled:!e[3]&&e[2]&&!e[4],$$slots:{default:[sd]},$$scope:{ctx:e}}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,[n]){const o={};12&n&&(o.isEnabled=!e[3]&&e[2]&&!e[4]),268&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function rd(e,t,n){let o,i,s=un,a=()=>(s(),s=wn(d,(e=>n(6,o=e))),d),r=un,l=()=>(r(),r=wn(p,(e=>n(7,i=e))),p);e.$$.on_destroy.push((()=>s())),e.$$.on_destroy.push((()=>r()));let{websiteSettings:d}=t;a();let u,{settings:p}=t;l();let g=!1,m=o.translationState===c;return mo((()=>{n(2,u=ze())})),e.$$set=e=>{"websiteSettings"in e&&a(n(0,d=e.websiteSettings)),"settings"in e&&l(n(1,p=e.settings))},[d,p,u,g,m,function(){const e=Ae().text;n(3,g=!0);const t=document.getElementsByTagName("deepl-gdocs-icon")[0];t&&(t.applyReplacement(),Xt({action:"dlTrackGDocsReplaceText",payload:{sourceLang:o.websiteLanguage,targetLang:i.selectedTargetLanguage,sourceLength:e.length,targetLength:o.translatedSnippet.length}}))}]}class ld extends Zo{constructor(e){super(),Vo(this,e,rd,ad,_n,{websiteSettings:0,settings:1})}}function cd(e){let t,n;return{c(){t=Bn("div"),n=Bn("div"),Zn(t,"class","tooltip-linguee svelte-f3wkxu"),Zn(t,"style",`z-index: ${e[15].z_index}`)},m(o,i){Pn(o,t,i),Dn(t,n),n.innerHTML=e[13]},p(e,t){8192&t[0]&&(n.innerHTML=e[13])},d(e){e&&zn(t)}}}function dd(e){let t,n,o,i,s;return n=new lc({props:{tooltip:e[12],$$slots:{default:[pd]},$$scope:{ctx:e}}}),{c(){t=Bn("fragment"),jo(n.$$.fragment)},m(a,r){Pn(a,t,r),Wo(n,t,null),o=!0,i||(s=[Wn(t,"mouseover",e[21]),Wn(t,"mouseleave",e[25])],i=!0)},p(e,t){const o={};4096&t[0]&&(o.tooltip=e[12]),3841&t[0]|1&t[1]&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Ho(n.$$.fragment,e),o=!0)},o(e){Bo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Go(n),i=!1,hn(s)}}}function ud(e){let t,n;return t=new id({props:{websiteSettings:e[0],isAvailableSelectedTargetLang:e[10],isAvailableSourceLang:e[11],listen:e[17]}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.websiteSettings=e[0]),1024&n[0]&&(o.isAvailableSelectedTargetLang=e[10]),2048&n[0]&&(o.isAvailableSourceLang=e[11]),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function pd(e){let t,n,o,i,s,a,r=e[9]&&ud(e);return{c(){t=Bn("button"),t.innerHTML='<span class="dl-icon dl-icon-listen svelte-f3wkxu"></span>',n=qn(),r&&r.c(),o=jn(),Zn(t,"type","button"),Zn(t,"class","dl-btn svelte-f3wkxu"),Zn(t,"data-qa","dl-toolbar-listener-button"),no(t,"dl-btn-active",e[8]),no(t,"dl-btn-hovered",e[9])},m(l,c){Pn(l,t,c),Pn(l,n,c),r&&r.m(l,c),Pn(l,o,c),i=!0,s||(a=Wn(t,"click",e[18]),s=!0)},p(e,n){(!i||256&n[0])&&no(t,"dl-btn-active",e[8]),(!i||512&n[0])&&no(t,"dl-btn-hovered",e[9]),e[9]?r?(r.p(e,n),512&n[0]&&Ho(r,1)):(r=ud(e),r.c(),Ho(r,1),r.m(o.parentNode,o)):r&&(Po(),Bo(r,1,1,(()=>{r=null})),zo())},i(e){i||(Ho(r),i=!0)},o(e){Bo(r),i=!1},d(e){e&&zn(t),e&&zn(n),r&&r.d(e),e&&zn(o),s=!1,a()}}}function gd(e){let t,n,o;return{c(){t=Bn("button"),t.innerHTML='<span class="dl-icon dl-icon-copy svelte-f3wkxu"></span>',Zn(t,"type","button"),Zn(t,"class","dl-btn svelte-f3wkxu"),Zn(t,"data-qa","dl-toolbar-copy-button"),no(t,"dl-btn-active",e[14])},m(i,s){Pn(i,t,s),n||(o=[Wn(t,"click",e[19]),Wn(t,"mouseleave",e[20])],n=!0)},p(e,n){16384&n[0]&&no(t,"dl-btn-active",e[14])},d(e){e&&zn(t),n=!1,hn(o)}}}function md(e){let t,n;return t=new ld({props:{websiteSettings:e[0],settings:di}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};1&n[0]&&(o.websiteSettings=e[0]),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function hd(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m,h,f,_,w,v,$,b,y,x,C,T=!e[3]||!e[2]()||!e[5]||e[6],E=T&&cd(e),L=(e[10]||e[11])&&dd(e);$=new lc({props:{tooltip:chrome.i18n.getMessage(e[14]?"ui_inline_translation_copied":"ui_inline_translation_copy"),$$slots:{default:[gd]},$$scope:{ctx:e}}});let S=e[7]===ve.gdocs&&md(e);return{c(){t=Bn("div"),n=Bn("div"),o=Bn("button"),i=Bn("span"),i.textContent=`${chrome.i18n.getMessage("ui_inline_translation_see_alternatives_v2")}`,s=qn(),a=Bn("span"),r=qn(),l=Bn("fragment"),c=Bn("div"),d=Bn("div"),d.textContent=`${chrome.i18n.getMessage("ui_inline_translation_dictionary")}`,u=qn(),p=Bn("div"),g=qn(),m=Bn("div"),f=qn(),E&&E.c(),_=qn(),w=Bn("div"),L&&L.c(),v=qn(),jo($.$$.fragment),b=qn(),S&&S.c(),Zn(a,"class","icon icon-external-link svelte-f3wkxu"),Zn(o,"type","button"),Zn(o,"class","link svelte-f3wkxu"),Zn(n,"class","dl-link-container"),Zn(d,"class","dict-text svelte-f3wkxu"),Zn(p,"class","img_book svelte-f3wkxu"),no(p,"shown-dict",e[4]&&e[3]&&e[5]),Zn(m,"class","img_arrow svelte-f3wkxu"),no(m,"shown-dict",e[4]&&e[3]&&e[5]),Zn(c,"class",h="dl-dictionary "+(e[3]&&e[2]()&&e[5]&&!e[6]?"":"disable")+" "+(e[4]&&e[3]?"shown-dict":"")+" svelte-f3wkxu"),Zn(c,"data-qa","dl-toolbar-dictionary-button"),Qn(l,"position","relative"),Zn(w,"class","dl-btn-group svelte-f3wkxu"),Zn(t,"class","dl-toolbar svelte-f3wkxu")},m(h,T){Pn(h,t,T),Dn(t,n),Dn(n,o),Dn(o,i),Dn(o,s),Dn(o,a),Dn(t,r),Dn(t,l),Dn(l,c),Dn(c,d),Dn(c,u),Dn(c,p),Dn(c,g),Dn(c,m),Dn(l,f),E&&E.m(l,null),Dn(t,_),Dn(t,w),L&&L.m(w,null),Dn(w,v),Wo($,w,null),Dn(w,b),S&&S.m(w,null),y=!0,x||(C=[Wn(o,"click",e[16]),Wn(c,"click",(function(){fn(e[1])&&e[1].apply(this,arguments)})),Wn(c,"mouseenter",e[22])],x=!0)},p(t,n){e=t,(!y||56&n[0])&&no(p,"shown-dict",e[4]&&e[3]&&e[5]),(!y||56&n[0])&&no(m,"shown-dict",e[4]&&e[3]&&e[5]),(!y||124&n[0]&&h!==(h="dl-dictionary "+(e[3]&&e[2]()&&e[5]&&!e[6]?"":"disable")+" "+(e[4]&&e[3]?"shown-dict":"")+" svelte-f3wkxu"))&&Zn(c,"class",h),108&n[0]&&(T=!e[3]||!e[2]()||!e[5]||e[6]),T?E?E.p(e,n):(E=cd(e),E.c(),E.m(l,null)):E&&(E.d(1),E=null),e[10]||e[11]?L?(L.p(e,n),3072&n[0]&&Ho(L,1)):(L=dd(e),L.c(),Ho(L,1),L.m(w,v)):L&&(Po(),Bo(L,1,1,(()=>{L=null})),zo());const o={};16384&n[0]&&(o.tooltip=chrome.i18n.getMessage(e[14]?"ui_inline_translation_copied":"ui_inline_translation_copy")),16384&n[0]|1&n[1]&&(o.$$scope={dirty:n,ctx:e}),$.$set(o),e[7]===ve.gdocs?S?(S.p(e,n),128&n[0]&&Ho(S,1)):(S=md(e),S.c(),Ho(S,1),S.m(w,null)):S&&(Po(),Bo(S,1,1,(()=>{S=null})),zo())},i(e){y||(Ho(L),Ho($.$$.fragment,e),Ho(S),y=!0)},o(e){Bo(L),Bo($.$$.fragment,e),Bo(S),y=!1},d(e){e&&zn(t),E&&E.d(),L&&L.d(),Go($),S&&S.d(),x=!1,hn(C)}}}function fd(e,t,n){let o,i,s=un,a=()=>(s(),s=wn(r,(e=>n(23,o=e))),r);vn(e,di,(e=>n(24,i=e))),e.$$.on_destroy.push((()=>s()));let{websiteSettings:r}=t;a();let l,c,d,u,{switchVisibilityDictionary:p}=t,{isSingleWord:g}=t,{dictionaryHTML:m}=t,{showDictionary:h=!1}=t,{langPair:f}=t,{errorMessageDict:_}=t,{platformBehaviour:w=ve.default}=t,v=!1,y=!1;const{deepl_inline_ui:x}=L;let C=!1;function T(){Xt({action:"dlStopSpeech"}),n(8,d=!1)}function E(e){try{Xt({action:"dlTrackInlineListen",payload:e})}catch(e){console.error(e)}}async function S(e,t,o){if("dlVoiceOverStopped"===e.action)n(8,d=!1),o()}function k(e){try{Xt({action:"dlTrackVoiceOverStops",payload:e})}catch(e){console.error(e)}}chrome.runtime.onMessage.addListener(S),ho((()=>{d&&k({targetLang:i.selectedTargetLanguage,targetLength:o.translatedSnippet.length,triggerType:b,nicheIntegration:w}),T(),chrome.runtime.onMessage.removeListener(S)}));return e.$$set=e=>{"websiteSettings"in e&&a(n(0,r=e.websiteSettings)),"switchVisibilityDictionary"in e&&n(1,p=e.switchVisibilityDictionary),"isSingleWord"in e&&n(2,g=e.isSingleWord),"dictionaryHTML"in e&&n(3,m=e.dictionaryHTML),"showDictionary"in e&&n(4,h=e.showDictionary),"langPair"in e&&n(5,f=e.langPair),"errorMessageDict"in e&&n(6,_=e.errorMessageDict),"platformBehaviour"in e&&n(7,w=e.platformBehaviour)},e.$$.update=()=>{if(25166592&e.$$.dirty[0]&&(i.selectedTargetLanguage&&Xt({action:"dlGetSupportedVoices"}).then((e=>{n(10,l=e.includes(["EN-US","EN-GB"].includes(i.selectedTargetLanguage)?"EN":["PT-PT","PT-BR"].includes(i.selectedTargetLanguage)?"PT":i.selectedTargetLanguage)),n(11,c=e.includes(o.websiteLanguage))})),!v&&d?setTimeout((()=>{n(12,y=chrome.i18n.getMessage("ui_inline_translation_listen_stop"))}),1e3):n(12,y=!1)),100&e.$$.dirty[0]&&(_?n(13,u=_):g()?n(13,u=f?chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary"):chrome.i18n.getMessage("ui_inline_translation_unavailable_lang_pair")):n(13,u=chrome.i18n.getMessage("ui_inline_translation_translate_only_one_word"))),16&e.$$.dirty[0]&&h)try{Xt({action:"dlTrackOpenDictionarySection",payload:{}})}catch(e){console.log(e)}},[r,p,g,m,h,f,_,w,d,v,l,c,y,u,C,x,function(){const e={};o&&i&&(e.sourceLang=o.websiteLanguage,e.targetLang=i.selectedTargetLanguage,e.textToShare=o.originalSnippet),Xt({action:"dlExternalURLRedirect",payload:{destination:ya,...e}});try{Xt({action:"dlTrackUiAction",payload:{uiAction:ne,nicheIntegration:w}})}catch(e){console.error(e)}},async function(e,t){d||(Xt({action:"dlTextToSpeech",payload:{text:e,lang:t}}),n(8,d=!0),E({targetLang:i.selectedTargetLanguage,targetLength:o.translatedSnippet.length,actionType:ce,nicheIntegration:w}),n(9,v=!1))},function(){d?(T(),n(8,d=!1),k({targetLang:i.selectedTargetLanguage,targetLength:o.translatedSnippet.length,triggerType:$,nicheIntegration:w}),E({targetLang:i.selectedTargetLanguage,targetLength:o.translatedSnippet.length,actionType:de,nicheIntegration:w})):n(9,v=!0)},function(){navigator.clipboard.writeText(o.translatedSnippet).then((function(){n(14,C=!0)}),(function(e){console.error(e)})),function(e){try{Xt({action:"dlTrackInlineCopy",payload:e})}catch(e){console.error(e)}}({targetLang:i.selectedTargetLanguage,targetLength:o.translatedSnippet.length,nicheIntegration:w})},function(){setTimeout((()=>{n(14,C=!1)}),300)},function(){d||n(9,v=!0)},function(){if(!m||!g())try{Xt({action:"dlTrackDisabledDictionaryHover",payload:{}})}catch(e){console.log(e)}},o,i,()=>n(9,v=!1)]}class _d extends Zo{constructor(e){super(),Vo(this,e,fd,hd,_n,{websiteSettings:0,switchVisibilityDictionary:1,isSingleWord:2,dictionaryHTML:3,showDictionary:4,langPair:5,errorMessageDict:6,platformBehaviour:7},null,[-1,-1])}}function wd(e){let t,n,o,i,s,a=JSON.stringify(e[1](),void 0,2)+"";return{c(){t=Bn("p"),n=Un(e[0]),o=qn(),i=Bn("pre"),s=Un(a),Zn(i,"class","debug-settings svelte-mu7va1")},m(e,a){Pn(e,t,a),Dn(t,n),Pn(e,o,a),Pn(e,i,a),Dn(i,s)},p(e,[t]){1&t&&Kn(n,e[0]),2&t&&a!==(a=JSON.stringify(e[1](),void 0,2)+"")&&Kn(s,a)},i:un,o:un,d(e){e&&zn(t),e&&zn(o),e&&zn(i)}}}function vd(e,t,n){let{headline:o="JSON block"}=t,{jsonData:i=(()=>{})}=t;return e.$$set=e=>{"headline"in e&&n(0,o=e.headline),"jsonData"in e&&n(1,i=e.jsonData)},[o,i]}class $d extends Zo{constructor(e){super(),Vo(this,e,vd,wd,_n,{headline:0,jsonData:1})}}function bd(e){let t,n,o,i;return{c(){t=Bn("div"),n=Bn("style"),n.textContent='.lmt__dict {\n  background-color: white;\n  text-align: left;\n  box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  position: relative;\n  font-weight: 400;\n  font-family: "Open Sans", sans-serif;\n  padding: 0 24px;\n  border: 0;\n  width: 100%;\n  font-size: 14px;\n}\n.lmt__dict #dictionary .dict_headline_for_0 {\n  display: none;\n}\n.lmt__dict #dictionary .dict_headline_for_1 {\n  display: none;\n}\n.lmt__dict h1 {\n  font-family: "Open Sans", sans-serif;\n  font-style: normal;\n  font-weight: normal;\n  line-height: 1.1;\n  font-size: 15px;\n}\n.lmt__dict h1.didyoumean {\n  display: none;\n}\n.lmt__dict #spelling_message_pane {\n  display: none;\n}\n.lmt__dict a {\n  text-decoration: none;\n  pointer-events: none;\n  font-family: "Open Sans", sans-serif;\n  color: #333;\n}\n.lmt__dict.lmt--hidden {\n  display: none;\n}\n.lmt__dict .semantic_field,\n.lmt__dict .sem,\n.lmt__dict .othertempora {\n  font-style: italic;\n  color: #999;\n  position: relative;\n  font-size: 12px;\n}\n.lmt__dict noindex:-o-prefocus,\n.lmt__dict .semantic_field,\n.lmt__dict .sem {\n  position: static;\n  z-index: 1;\n}\n.lmt__dict .placeholder {\n  font-size: smaller;\n}\n.lmt__dict #dictionary,\n.lmt__dict .dictionary {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 15px;\n  color: #999;\n  line-height: 1.35em;\n  position: relative;\n}\n.lmt__dict #dictionary .inexact {\n  font-weight: 400;\n  font-style: italic;\n  font-size: 13px;\n  color: #999;\n  margin-top: 18px;\n}\n.lmt__dict .lemma {\n  vertical-align: top;\n  margin: 10px 0 25px 0;\n}\n.lmt__dict .lemma.last {\n  background: none;\n}\n.lmt__dict .lemma_desc {\n  padding: 0 0 10px 0;\n}\n.lmt__dict #dictionary h2.lemma_desc {\n  margin: 0px;\n}\n.lmt__dict .lemma_content {\n  padding: 0 0 0 0;\n  position: relative;\n  margin-bottom: 8px;\n}\n.lmt__dict .translation_group {\n  position: relative;\n  padding-top: 8px;\n}\n.lmt__dict .lemma_content .translation_group_line.with_pie {\n  padding-left: 18px;\n  text-indent: -18px;\n}\n.lmt__dict .exact .translation.featured {\n  margin-bottom: 8px;\n  clear: both;\n}\n.lmt__dict .translation_desc {\n  padding: 2px 0 0 0;\n  display: inline-block;\n}\n.lmt__dict h3.translation_desc {\n  margin: 0;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h3.translation_desc {\n  margin-bottom: 0;\n}\n.lmt__dict .group_line .translation_desc {\n  text-indent: 0;\n  display: inline;\n  padding: 2px 10px 1px 0;\n  padding-left: 0;\n}\n.lmt__dict .comment {\n  margin: 15px 0 15px 0;\n  padding: 0 0 0 10px;\n}\n.lmt__dict .lemma_content {\n  padding-left: 40px;\n}\n.lmt__dict .meaninggroup_description_inner {\n  margin-left: -20px;\n  width: 20px;\n  display: inline-block;\n}\n.lmt__dict .meaninggroup_descriptions {\n  margin-left: -20px;\n  display: inline-block;\n}\n.lmt__dict .tag_t {\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .tag_s {\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma {\n  font-size: 16px;\n  font-weight: 400;\n  color: #006494;\n  font-style: normal;\n}\n.lmt__dict .tag_lemma a {\n  color: #006494;\n}\n.lmt__dict .inexact .tag_lemma {\n  font-size: 14px;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype {\n  font-style: italic;\n  font-size: 14px;\n  margin-right: 2px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_type,\n.lmt__dict .inexact .tag_wordtype,\n.lmt__dict .example_lines .tag_type,\n.lmt__dict .example_lines .tag_wordtype,\n.lmt__dict .tag_forms .tag_wordtype {\n  font-size: 14px;\n}\n.lmt__dict .tag_wordtype {\n  font-size: 14px;\n  margin-left: 0;\n}\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  color: #999;\n  font-style: italic;\n  font-size: 14px;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_area,\n.lmt__dict .inexact .tag_usage,\n.lmt__dict .inexact .tag_forms {\n  font-size: 10px;\n}\n.lmt__dict .tag_c {\n  color: #999;\n  font-size: 15px;\n  font-style: italic;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_c {\n  font-size: 13px;\n}\n.lmt__dict .tag_forms {\n  font-size: 13px;\n  color: #999;\n  font-weight: 400;\n}\n.lmt__dict .inexact .tag_forms {\n  display: none;\n}\n.lmt__dict .lemma_desc .tag_forms {\n  display: none;\n  padding-left: 3px;\n}\n.lmt__dict .tag_trans_src_context {\n  color: #006494;\n  font-style: normal;\n  padding-right: 10px;\n  font-size: 14px;\n}\n.lmt__dict .tag_trans_src_context:before {\n  content: "(";\n}\n.lmt__dict .tag_trans_src_context:after {\n  content: ")";\n}\n.lmt__dict .tag_lemma_context {\n  padding-left: 5px;\n  padding-right: 5px;\n  font-size: 14px;\n}\n.lmt__dict .inexact .tag_lemma_context {\n  padding-left: 5px;\n  font-size: 13px;\n}\n.lmt__dict .tag_lemma_context .placeholder {\n  font-size: inherit;\n}\n.lmt__dict #dictionary .tag_forms h3 {\n  display: inline;\n  padding-right: 10px;\n  font-size: 12px;\n  margin: 0 0 0 0;\n  color: #999;\n}\n.lmt__dict .tag_formname {\n  color: #999;\n}\n.lmt__dict .tag_c,\n.lmt__dict .tag_t,\n.lmt__dict .tag_s,\n.lmt__dict .tag_area,\n.lmt__dict .tag_usage {\n  font-size: 14px;\n}\n.lmt__dict .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n  display: inline-block;\n  min-height: 20px;\n}\n.lmt__dict .inexact .tag_trans {\n  font-size: 14px;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .inexact .tag_trans a {\n  color: #333;\n}\n.lmt__dict .exact .tag_trans a.featured {\n  line-height: 24px;\n}\n.lmt__dict .meaninggroup_notfirst {\n  padding-top: 8px;\n}\n.lmt__dict .meaninggroup_editing.meaninggroup_notfirst {\n  padding-top: 20px;\n}\n.lmt__dict .meaning_class_header {\n  padding-left: 5px;\n  padding-top: 5px;\n}\n.lmt__dict .meaninggroup_outer_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  display: inline;\n}\n.lmt__dict .meaninggroup_inner_list {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n}\n.lmt__dict .meaninggroup_inner_list li {\n  display: inline;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description {\n  color: #e00;\n}\n.lmt__dict .meaninggroup_problematic .meaninggroup_description_index {\n  color: #e00;\n}\n.lmt__dict .isForeignTerm .meaninggroup_synonym,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .isForeignTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #333;\n}\n.lmt__dict .isMainTerm .meaninggroup_synonym,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .isMainTerm .meaninggroup_valency,\n.lmt__dict .meaninggroup_descriptions {\n  color: #265182;\n}\n.lmt__dict .meaninggroup_synonym {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_preliminary {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n  color: green;\n}\n.lmt__dict .meaninggroup_descriptions {\n  font-size: 15px;\n  font-weight: 400;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_valency {\n  font-size: 15px;\n  font-weight: 400;\n  color: #333;\n  font-style: normal;\n}\n.lmt__dict .meaninggroup_usage {\n  color: #999;\n}\n.lmt__dict .meaninggroup_areas {\n  color: #999;\n  font-style: italic;\n}\n.lmt__dict .meaninggroup_editing .meaninggroup_descriptions,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_usage,\n.lmt__dict .meaninggroup_editing .meaninggroup_synonym,\n.lmt__dict .meaninggroup_editing .meaninggroup_description_index,\n.lmt__dict .meaninggroup_editing .meaninggroup_preliminary {\n  font-weight: 600;\n}\n.lmt__dict .meaninggroups_remark {\n  margin-left: -20px;\n}\n.lmt__dict .inflectioninfo,\n.lmt__dict .inflectioninfo .tag_c {\n  color: #006494;\n  font-style: normal;\n  font-size: 13px;\n}\n.lmt__dict .isForeignTerm .inflectioninfo {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_lemma,\n.lmt__dict .isForeignTerm .tag_lemma a,\n.lmt__dict .isForeignTerm .tag_s,\n.lmt__dict .isForeignTerm .tag_s a,\n.lmt__dict .isForeignTerm .tag_trans_src_context {\n  color: #333;\n}\n.lmt__dict .isForeignTerm .tag_trans,\n.lmt__dict .isForeignTerm .tag_trans a,\n.lmt__dict .isForeignTerm .tag_t,\n.lmt__dict .isForeignTerm .tag_t a,\n.lmt__dict .isForeignTerm .tag_trans {\n  color: #006494;\n}\n.lmt__dict .spell_suggestion.isForeignTerm,\n.lmt__dict .spell_suggestion.isForeignTerm .corrected {\n  color: #333;\n}\n.lmt__dict .spell_suggestion,\n.lmt__dict .spell_suggestion .corrected {\n  color: #006494;\n}\n.lmt__dict .line .translation {\n  display: inline-block;\n  line-height: 1em;\n  text-indent: 0;\n}\n.lmt__dict .line.inflectioninfo {\n  display: none;\n}\n.lmt__dict .sep {\n  font-size: 12px;\n  padding-right: 10px;\n  color: #6e6e6e;\n}\n.lmt__dict .tag_forms .sep {\n  padding-left: 5px;\n}\n.lmt__dict .inexact .sep {\n  font-size: 9px;\n}\n.lmt__dict .dash {\n  padding-right: 10px;\n}\n.lmt__dict .exact .lemma_desc .dash {\n  display: none;\n}\n.lmt__dict .lemma_desc .dash {\n  font-size: 14px;\n  font-style: normal;\n  color: #999;\n  padding-left: 7px;\n  padding-right: 7px;\n}\n.lmt__dict .inexact .lemma_desc {\n  padding: 0 0 0 0;\n}\n.lmt__dict .inexact .translation_lines,\n.lmt__dict .inexact .translation_group,\n.lmt__dict .inexact .line {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_content {\n  display: inline;\n}\n.lmt__dict .inexact .lemma_desc,\n.lmt__dict #dictionary .inexact h2.lemma_desc {\n  display: inline-block;\n  padding-right: 0;\n  font-size: 14px;\n  font-style: normal;\n  font-weight: 400;\n}\n.lmt__dict .inexact .lemma_content {\n  padding-left: 0;\n}\n.lmt__dict .inexact .lemma {\n  margin: 1px 0 0 0;\n  text-indent: -10px;\n  padding-left: 20px;\n}\n.lmt__dict .inexact div.singleline {\n  text-indent: 0;\n  padding-left: 0;\n}\n.lmt__dict #dictionary > .expandable > .versionShort > .example_lines {\n  padding-bottom: 15px;\n}\n.lmt__dict #dictionary h3 {\n  margin-bottom: 2px;\n  font-size: 14px;\n}\n.lmt__dict a.audio {\n  display: none;\n  position: relative;\n  cursor: pointer;\n  top: 3px;\n  width: 19px;\n  height: 17px;\n  background-position: -40px -38px;\n  opacity: 0.5;\n}\n.lmt__dict .ie7 a.audio,\n.lmt__dict .ie8 a.audio {\n  filter: alpha(opacity=50);\n  background-position: -120px -92px;\n}\n.lmt__dict .inexact a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio,\n.lmt__dict .inexact .translation.contracting a.audio {\n  display: inline-block;\n}\n.lmt__dict .exact .tag_lemma a.audio {\n  top: 2px;\n}\n.lmt__dict .mouse_device a.audio {\n  opacity: 0.45;\n}\n.lmt__dict .mouse_device a.audio:hover,\n.lmt__dict .mouse_device a.expand_i:hover {\n  opacity: 1;\n}\n.lmt__dict .grammar_info {\n  position: relative;\n  top: -4px;\n  vertical-align: middle;\n  font-size: 0.7em;\n  color: #999;\n  font-style: italic;\n  margin-left: 1px;\n  display: inline-block;\n  text-indent: 0;\n}\n.lmt__dict .exact .grammar_info {\n  top: -5px;\n  margin-left: 2px;\n}\n.lmt__dict #dictionary h2,\n.lmt__dict #dictionary h3 {\n  color: #333;\n  font-weight: 400;\n}\n.lmt__dict #dictionary h2 {\n  font-size: 20px;\n  margin-bottom: 20px;\n}\n.lmt__dict #dictionary .tag_forms h2 {\n  font-size: 14px;\n}\n.lmt__dict .translation_row.singleline {\n  height: 20px;\n}\n.lmt__dict .singleline {\n  position: relative;\n  padding-right: 20px;\n  height: 20px;\n  overflow: hidden;\n}\n.lmt__dict .singleline > * {\n  line-height: 50px;\n  position: relative;\n  top: -15px;\n}\n.lmt__dict .ie8 .singleline > * {\n  top: -13px;\n  height: 22px;\n}\n.lmt__dict .singleline .tag_s {\n  white-space: nowrap;\n}\n.lmt__dict .expandable {\n  position: relative;\n}\n.lmt__dict .example_lines .expandM,\n.lmt__dict .inexact .expandM {\n  display: block;\n  height: 15px;\n  padding-left: 0px;\n  opacity: 0.7;\n}\n.lmt__dict a.expand_i {\n  width: 17px;\n  height: 17px;\n  position: relative;\n  top: 4px;\n  display: inline-block;\n  background-position: -20px -36px;\n  cursor: pointer;\n  opacity: 0.55;\n  filter: alpha(opacity=55);\n}\n.lmt__dict .translation a.expand_i {\n  background-color: white;\n}\n.lmt__dict .example {\n  padding-left: 45px;\n  margin-top: 8px;\n  margin-bottom: 12px;\n}\n.lmt__dict .expertmode .example {\n  padding-left: 50px;\n}\n.lmt__dict .example .tag_e {\n  display: block;\n  position: relative;\n  max-width: 700px;\n  line-height: 1.1em;\n}\n.lmt__dict .example .tag_s {\n  width: 47%;\n  float: left;\n}\n.lmt__dict .example .tag_t {\n  width: 50%;\n  float: right;\n}\n.lmt__dict .example .tag_e_end {\n  display: block;\n  clear: both;\n}\n.lmt__dict .example .dash {\n  display: none;\n}\n.lmt__dict #soundFlags {\n  display: none;\n}\n.lmt__dict .hidden,\n.lmt__dict #lingueecontent .hidden,\n.lmt__dict #attribution.hidden {\n  display: none;\n}\n.lmt__dict .notascommon {\n  display: block;\n  padding-right: 10px;\n  font-size: 14px;\n  line-height: 1.4em;\n}\n.lmt__dict .tag_wordtype {\n  display: inline-block;\n}\n.lmt__dict .tag_forms {\n  display: inline-block;\n}\n.lmt__dict .inexact .lemma {\n  padding-left: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-left: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-left: 0;\n}\n.lmt__dict .example {\n  padding-left: 30px;\n}\n.lmt__dict .translation_desc {\n  padding-bottom: 0;\n}\n.lmt__dict .translation a.expand_i,\n.lmt__dict .translation a.audio,\n.lmt__dict .inexact .lemma_desc a.audio,\n.lmt__dict .inexact .translation.expanded a.audio {\n  display: none;\n}\n.lmt__dict .inexact .lemma {\n  padding-left: 20px;\n}\n.lmt__dict .example_lines > .expandable > .versionshort > .expandM {\n  margin-left: 0;\n}\n.lmt__dict .source_url_spacer {\n  margin-left: 0;\n}\n.lmt__dict .example {\n  padding-left: 24px;\n}\n.lmt__dict .lemma_desc {\n  margin: 0;\n}\n.lmt__dict .lemma {\n  margin-top: 0;\n}\n.lmt__dict .source {\n  font-size: 24px;\n  color: #d0d0d0;\n}\n.lmt__dict .source .tag_lemma {\n  font-size: 20px;\n  font-weight: 400;\n}\n.lmt__dict .lemma_content {\n  padding-left: 20px;\n  padding-right: 0px;\n}\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info {\n  color: #999 !important;\n}\n.lmt__dict .translation:first-of-type h3 {\n  line-height: 1;\n}\n.lmt__dict .translation:first-of-type h3 .dictlink {\n  font-size: 20px;\n}\n.lmt__dict .source {\n  position: relative;\n}\n.lmt__dict .sourceHint {\n  display: none;\n}\n.lmt__dict .notascommon {\n  color: #aaa;\n}\n.lmt__dict .tag_type,\n.lmt__dict .tag_wordtype,\n.lmt__dict .source .tag_s,\n.lmt__dict .source .tag_usage,\n.lmt__dict .source .tag_formname,\n.lmt__dict .source .tag_wordtype,\n.lmt__dict .source .formlink,\n.lmt__dict .source .tag_forms,\n.lmt__dict .source .grammar_info,\n.lmt__dict .tag_c {\n  font-style: normal;\n}\n.lmt__dict .tag_forms {\n  font-style: normal;\n}\n.lmt__dict .tag_forms .tag_s {\n  padding-left: 0px;\n  margin-right: -19px;\n}\n\n#LMT__dict_right {\n  margin-left: 59px;\n}\n\n@keyframes lmt__dict__appear_animation {\n  0% {\n    transform: scale(0.99) translateY(-5px);\n    opacity: 0;\n  }\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n.lmt__dict.lmt--is-dict-ready {\n  display: block;\n}\n.lmt__dict .lmt__dict__empty_state {\n  display: none;\n  padding: 16px 24px;\n  color: #6e6e6e;\n  font-size: 16px;\n}\n.lmt__dict #result_container,\n.lmt__dict #wikipedia-body,\n.lmt__dict #wikipedia-header,\n.lmt__dict .copyrightLineOuter,\n.lmt__dict .openTriangle,\n.lmt__dict .expandM {\n  display: none !important;\n}',o=qn(),i=new io(!1),Zn(n,"lang","scss"),i.a=null},m(s,a){Pn(s,t,a),Dn(t,n),Dn(t,o),i.m(e[0],t)},p(e,[t]){1&t&&i.p(e[0])},i:un,o:un,d(e){e&&zn(t)}}}function yd(e,t,n){let{html:o}=t;return e.$$set=e=>{"html"in e&&n(0,o=e.html)},[o]}class xd extends Zo{constructor(e){super(),Vo(this,e,yd,bd,_n,{html:0})}}function Cd(e){return e&&function(e){return e.replace(/./gm,(function(e){return e.match(/[a-z0-9\s]+/i)?e:"&#"+e.charCodeAt(0)+";"}))}(e).replaceAll("\n","<br />")}const Td=new Set(["BG","CS","DA","DE","EL","EN","ES","ET","FI","FR","FR_CA","HU","IT","JA","KO","LT","LV","MT","NL","PL","PT","PT_BR","PT_PT","RO","RU","SK","SL","SV","ZH"]),Ed=new Map([["ZH_EN","chinese-english"],["EN_ZH","english-chinese"],["NL_EN","dutch-english"],["EN_NL","english-dutch"],["FR_EN","french-english"],["EN_FR","english-french"],["FR_DE","french-german"],["DE_FR","german-french"],["FR_PT","french-portuguese"],["PT_FR","portuguese-french"],["FR_ES","french-spanish"],["ES_FR","spanish-french"],["DE_EN","german-english"],["EN_DE","english-german"],["DE_PT","german-portuguese"],["PT_DE","portuguese-german"],["DE_ES","german-spanish"],["ES_DE","spanish-german"],["IT_EN","italian-english"],["EN_IT","english-italian"],["JA_EN","japanese-english"],["EN_JA","english-japanese"],["PL_EN","polish-english"],["EN_PL","english-polish"],["PT_EN","portuguese-english"],["EN_PT","english-portuguese"],["PT_ES","portuguese-spanish"],["ES_PT","spanish-portuguese"],["RU_EN","russian-english"],["EN_RU","english-russian"],["ES_EN","spanish-english"],["EN_ES","english-spanish"]]);function Ld(e){let t,n,o,i;return t=new $d({props:{headline:"Response - Translated DOM",jsonData:e[17]}}),o=new $d({props:{headline:"Request - Original DOM",jsonData:e[18]}}),{c(){jo(t.$$.fragment),n=qn(),jo(o.$$.fragment)},m(e,s){Wo(t,e,s),Pn(e,n,s),Wo(o,e,s),i=!0},p(e,n){const i={};8&n&&(i.jsonData=e[17]),t.$set(i);const s={};8&n&&(s.jsonData=e[18]),o.$set(s)},i(e){i||(Ho(t.$$.fragment,e),Ho(o.$$.fragment,e),i=!0)},o(e){Bo(t.$$.fragment,e),Bo(o.$$.fragment,e),i=!1},d(e){Go(t,e),e&&zn(n),Go(o,e)}}}function Sd(e){let t,n,o,i,s=Cd(e[3].translatedSnippet)+"";return o=new _d({props:{platformBehaviour:e[1],websiteSettings:e[0],showDictionary:e[4],errorMessageDict:e[6],dictionaryHTML:e[5],langPair:e[2],switchVisibilityDictionary:e[10],isSingleWord:e[8]}}),{c(){t=Bn("div"),n=qn(),jo(o.$$.fragment),Zn(t,"class","result-frame svelte-1rmo0hh")},m(e,a){Pn(e,t,a),t.innerHTML=s,Pn(e,n,a),Wo(o,e,a),i=!0},p(e,n){(!i||8&n)&&s!==(s=Cd(e[3].translatedSnippet)+"")&&(t.innerHTML=s);const a={};2&n&&(a.platformBehaviour=e[1]),1&n&&(a.websiteSettings=e[0]),16&n&&(a.showDictionary=e[4]),64&n&&(a.errorMessageDict=e[6]),32&n&&(a.dictionaryHTML=e[5]),4&n&&(a.langPair=e[2]),o.$set(a)},i(e){i||(Ho(o.$$.fragment,e),i=!0)},o(e){Bo(o.$$.fragment,e),i=!1},d(e){e&&zn(t),e&&zn(n),Go(o,e)}}}function kd(e){let t,n;return t=new nr({props:{error:e[3].error}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};8&n&&(o.error=e[3].error),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Md(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m,h=e[3].originalSnippet.length+"";return{c(){t=Bn("div"),n=Bn("p"),o=Un(h),i=Un("/5000"),s=qn(),a=Bn("div"),r=Bn("h2"),r.textContent=`${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_title")}`,l=qn(),c=Bn("p"),c.textContent=`${chrome.i18n.getMessage("inline_gdocs_max_chars_exceeded_body")}`,d=qn(),u=Bn("div"),p=Bn("button"),p.textContent=`${chrome.i18n.getMessage("link_try_deepl")}`,Zn(n,"class","counter svelte-1rmo0hh"),Zn(r,"class","svelte-1rmo0hh"),Zn(p,"class","svelte-1rmo0hh"),Zn(u,"class","button-row svelte-1rmo0hh"),Zn(a,"class","box svelte-1rmo0hh"),Zn(t,"class","anonymous-user-max-char-exceeded svelte-1rmo0hh")},m(h,f){Pn(h,t,f),Dn(t,n),Dn(n,o),Dn(n,i),Dn(t,s),Dn(t,a),Dn(a,r),Dn(a,l),Dn(a,c),Dn(a,d),Dn(a,u),Dn(u,p),g||(m=Wn(p,"click",e[11]),g=!0)},p(e,t){8&t&&h!==(h=e[3].originalSnippet.length+"")&&Kn(o,h)},i:un,o:un,d(e){e&&zn(t),g=!1,m()}}}function Od(e){let t,n,o;return n=new Vr({}),{c(){t=Bn("div"),jo(n.$$.fragment),Zn(t,"class","loading-spinner-container svelte-1rmo0hh")},m(e,i){Pn(e,t,i),Wo(n,t,null),o=!0},p:un,i(e){o||(Ho(n.$$.fragment,e),o=!0)},o(e){Bo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Go(n)}}}function Nd(e){let t,n,o,i;return n=new xd({props:{html:e[5]}}),{c(){t=Bn("div"),jo(n.$$.fragment),Zn(t,"class","dl__dictionary svelte-1rmo0hh")},m(e,o){Pn(e,t,o),Wo(n,t,null),i=!0},p(e,t){const o={};32&t&&(o.html=e[5]),n.$set(o)},i(e){i||(Ho(n.$$.fragment,e),o||Lo((()=>{o=Uo(t,ea,{y:-50,duration:700}),o.start()})),i=!0)},o(e){Bo(n.$$.fragment,e),i=!1},d(e){e&&zn(t),Go(n)}}}function Id(e){let t,n,o,i,a,r,l;const d=[Od,Md,kd,Sd,Ld],u=[];function p(e,t){return 8&t&&(n=null),null==e[3]||e[3].translationState===s?0:e[3].translationState===c?1:e[3].error?2:e[3].translatedSnippet?3:(null==n&&(n=!(!ot()||!e[3].translatedDOMSnippet)),n?4:-1)}~(o=p(e,-1))&&(i=u[o]=d[o](e));let g=e[4]&&e[5]&&Nd(e);return{c(){t=Bn("div"),i&&i.c(),a=qn(),g&&g.c(),r=jn(),Zn(t,"class","tooltip-container svelte-1rmo0hh"),Zn(t,"data-qa","deepl-inline-translation-result-container")},m(e,n){Pn(e,t,n),~o&&u[o].m(t,null),Pn(e,a,n),g&&g.m(e,n),Pn(e,r,n),l=!0},p(e,n){let s=o;o=p(e,n),o===s?~o&&u[o].p(e,n):(i&&(Po(),Bo(u[s],1,1,(()=>{u[s]=null})),zo()),~o?(i=u[o],i?i.p(e,n):(i=u[o]=d[o](e),i.c()),Ho(i,1),i.m(t,null)):i=null),e[4]&&e[5]?g?(g.p(e,n),48&n&&Ho(g,1)):(g=Nd(e),g.c(),Ho(g,1),g.m(r.parentNode,r)):g&&(Po(),Bo(g,1,1,(()=>{g=null})),zo())},i(e){l||(Ho(i),Ho(g),l=!0)},o(e){Bo(i),Bo(g),l=!1},d(e){e&&zn(t),~o&&u[o].d(),e&&zn(a),g&&g.d(e),e&&zn(r)}}}function Dd(e){let t,n,o;return n=new Hc({props:{closeWindow:e[9],showLangSelect:!0,settings:di,websiteSettings:e[0],extensionContext:e[7],platformBehaviour:e[1],showSettingsIcon:!0,$$slots:{default:[Id]},$$scope:{ctx:e}}}),{c(){t=Bn("div"),jo(n.$$.fragment)},m(e,i){Pn(e,t,i),Wo(n,t,null),o=!0},p(e,[t]){const o={};1&t&&(o.websiteSettings=e[0]),2&t&&(o.platformBehaviour=e[1]),16777343&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){o||(Ho(n.$$.fragment,e),o=!0)},o(e){Bo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Go(n)}}}function Ad(e,t,n){let o,s,a=un,r=()=>(a(),a=wn(d,(e=>n(3,o=e))),d);vn(e,di,(e=>n(16,s=e))),e.$$.on_destroy.push((()=>a()));let{closeTooltip:l}=t,{websiteSettings:d}=t;r();let u,p,g,m,{platformBehaviour:h=ve.default}=t,{setPositioningStatus:_}=t,w="",v="",$="",b=f;function C(){return!!m&&1===m.trim().split(" ").length}function T(){const e=w&&g&&C()?y:x;if(o.originalSnippet&&o.originalSnippet!==$){$=o.originalSnippet;try{Xt({action:"dltrackDictionaryStatus",payload:{status:e,langPair:g}})}catch(e){console.log(e)}}}async function E(){let e=chrome.i18n.getUILanguage();var t;e&&(t=e,Td.has(t.toUpperCase()))||(e="EN"),e=e.substring(0,2).toUpperCase(),n(6,v=""),await(Eo(),Co),Xt({action:"dlGetDictionary",payload:{interfaceLang:e,sourceLang:o.websiteLanguage,targetLang:s.selectedTargetLanguage,text:m}}).then((e=>{n(5,w=e)})).catch((e=>{switch(Xt({action:"dlTrackLingueeErrorData",payload:{lingueeError:e.error}}),e.error){case mt:n(6,v=chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary"));break;case gt:n(6,v=chrome.i18n.getMessage("ui_inline_translation_no_entry_dictionary",m));break;default:n(6,v=chrome.i18n.getMessage("ui_inline_translation_problem_loading_dictionary"))}})).finally((()=>{T(),n(4,u=!1)}))}async function L(e){Xt({action:e,payload:{sourceLang:await Ye(o.originalSnippet),targetLang:s.selectedTargetLanguage,sourceLength:o.originalSnippet.length}})}return e.$$set=e=>{"closeTooltip"in e&&n(12,l=e.closeTooltip),"websiteSettings"in e&&r(n(0,d=e.websiteSettings)),"platformBehaviour"in e&&n(1,h=e.platformBehaviour),"setPositioningStatus"in e&&n(13,_=e.setPositioningStatus)},e.$$.update=()=>{if(10&e.$$.dirty&&h===ve.gdocs&&o.translationState===c&&o.originalSnippet.length>0&&L("dlTrackGdocsMaxCharExceededShown"),65544&e.$$.dirty&&o&&s&&(o.websiteLanguage,s.selectedTargetLanguage,o.originalSnippet),4104&e.$$.dirty&&o&&(!o.isTranslationTooltipInjected||o.translationState!==i||o.translatedSnippet||o.error||o.translatedDOMSnippet||l()),8202&e.$$.dirty&&!o.translationState&&h===ve.default&&_&&(_(!0),setTimeout((()=>{_(!1)}),600)),98316&e.$$.dirty){if(s.selectedTargetLanguage!==o.snippetDetectedSourceLang&&o.snippetDetectedSourceLang){let e=o.snippetDetectedSourceLang,t=s.selectedTargetLanguage;["EN-GB","EN-US"].includes(e)&&(e="EN"),["EN-GB","EN-US"].includes(t)&&(t="EN"),["PT-PT","PT-BR"].includes(e)&&(e="PT"),["PT-PT","PT-BR"].includes(t)&&(t="PT"),n(2,g=function(e,t){const n=`${e.toUpperCase()}_${t.toUpperCase()}`;return Ed.get(n)}(e,t))}else n(2,g="");o.originalSnippet&&o.originalSnippet.trim()!==m?(n(15,m=o.originalSnippet.trim()),n(6,v=""),g&&C()?(n(14,p=g),E()):(n(5,w=""),T(),n(4,u=!1))):n(4,u=!1)}16388&e.$$.dirty&&g!=p&&g&&C()&&E()},[d,h,g,o,u,w,v,b,C,function(){Xt({action:"dlTrackUiAction",payload:{uiAction:oe,nicheIntegration:h}}),l()},function(){g&&C()&&w&&!v&&n(4,u=!u)},function(){L("dlTrackGDocsMaxCharExceededTryProClicked"),Xt({action:"dlExternalURLRedirect",payload:{destination:ba,utmContent:"gdocs_customization"}})},l,_,p,m,s,()=>o.translatedDOMSnippet,()=>o.originalSnippet]}class Rd extends Zo{constructor(e){super(),Vo(this,e,Ad,Dd,_n,{closeTooltip:12,websiteSettings:0,platformBehaviour:1,setPositioningStatus:13})}}function Pd(e){let t,n,o,i,s,a,r,l,c,d;return a=new Rd({props:{closeTooltip:e[0],websiteSettings:e[1],platformBehaviour:e[2],setPositioningStatus:e[6]}}),{c(){t=Bn("div"),n=Bn("div"),i=qn(),s=Bn("div"),jo(a.$$.fragment),Zn(n,"class","tooltip-drag-handle svelte-1ur3i4z"),Zn(n,"style",o=`max-height: ${e[3]}px`),Zn(s,"class","tooltip-body svelte-1ur3i4z"),Zn(t,"class","tooltip-wrapper svelte-1ur3i4z"),Zn(t,"style",e[5]),Zn(t,"draggable",e[4]),Lo((()=>e[15].call(t)))},m(o,u){Pn(o,t,u),Dn(t,n),Dn(t,i),Dn(t,s),Wo(a,s,null),r=to(t,e[15].bind(t)),l=!0,c||(d=[Wn(n,"mouseover",e[9]),Wn(n,"mouseout",e[10]),Ln(Jt.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[16]),Wn(t,"drag",e[8]),Wn(t,"dragstart",e[7])],c=!0)},p(e,[i]){(!l||8&i&&o!==(o=`max-height: ${e[3]}px`))&&Zn(n,"style",o);const s={};1&i&&(s.closeTooltip=e[0]),2&i&&(s.websiteSettings=e[1]),4&i&&(s.platformBehaviour=e[2]),a.$set(s),(!l||32&i)&&Zn(t,"style",e[5]),(!l||16&i)&&Zn(t,"draggable",e[4])},i(e){l||(Ho(a.$$.fragment,e),l=!0)},o(e){Bo(a.$$.fragment,e),l=!1},d(e){e&&zn(t),Go(a),r(),c=!1,hn(d)}}}function zd(e,t,n){let o;vn(e,di,(e=>n(14,o=e))),_o("deepl_settings",di);let i,{closeTooltip:s}=t,{websiteSettings:a}=t,{replaceElement:r}=t,{actualPosition:l}=t,{dragContainerTo:c}=t,{platformBehaviour:d=ve.default}=t,u=!1,p=!1,g="visibility: hidden; opacity:0; height:0;";let m={x:0,y:0};mo((()=>{setTimeout((()=>{n(5,g="")}),100)}));return e.$$set=e=>{"closeTooltip"in e&&n(0,s=e.closeTooltip),"websiteSettings"in e&&n(1,a=e.websiteSettings),"replaceElement"in e&&n(12,r=e.replaceElement),"actualPosition"in e&&n(11,l=e.actualPosition),"dragContainerTo"in e&&n(13,c=e.dragContainerTo),"platformBehaviour"in e&&n(2,d=e.platformBehaviour)},e.$$.update=()=>{var t,s;16384&e.$$.dirty&&n(11,(t=o.inlineTranslateTooltipPosition,l=r(i,t))),8&e.$$.dirty&&n(11,(s=i,l=p||d===ve.gdocs?r(s,o.inlineTranslateTooltipPosition):l))},[s,a,d,i,u,g,e=>{p=e},function(e){const t=e.target.getBoundingClientRect();m.x=e.clientX-t.left,m.y=e.clientY-t.top;const n=document.createElement("img");n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",e.dataTransfer.setDragImage(n,0,0),function(){try{Xt({action:"dlTrackInlineDragStart",payload:{nicheIntegration:d}})}catch(e){console.error(e)}}()},function(e){0!==e.y&&0!==e.x&&c({x:e.pageX-m.x,y:e.pageY-m.y})},function(){n(4,u=!0)},function(){n(4,u=!1)},l,r,c,o,function(){i=this.clientHeight,n(3,i)},()=>s()]}class Hd extends Zo{constructor(e){super(),Vo(this,e,zd,Pd,_n,{closeTooltip:0,websiteSettings:1,replaceElement:12,actualPosition:11,dragContainerTo:13,platformBehaviour:2})}}class Bd extends HTMLElement{constructor(){super(),this.platformBehaviour=ve.default,this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.mainComponent,this.selectionRange;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.dragContainerTo=this.dragContainerTo.bind(this)}createDOM(e,t,n){const{deepl_inline_ui:o}=L;this.shadowContainer&&this.shadowContainer.childElementCount>0&&this.cleanupDOM(),this.platformBehaviour===ve.default&&(this.selectionRange=window.getSelection().getRangeAt(0));let i=e(this.selectionRange);this.shadowContainer.appendChild(this.container);let s="position: absolute; top: 0px; left: 0px; width: 100%; z-index: "+(o.z_index-100),a=`position: absolute; top: ${i.y}px; left: ${i.x-200}px; z-index: ${o.z_index-100};`;switch(this.platformBehaviour){case ve.gdocs:a+="top: 600px; left: 10px;";break;case ve.default:default:a+=""}this.shadowContainer.style.cssText=s,this.container.style.cssText=a,this.mainComponent=new Hd({target:this.container,props:{closeTooltip:t,websiteSettings:n,replaceElement:(t,n)=>{i=e(this.selectionRange);const o={coords:i,clientHeight:t,TOOLTIP_WIDTH:550,TRIGGER_MENU_ICON_HEIGHT:30,style:this.container.style};let s=n;const a=td(o),[r,l]=(e=>{const t=["bottom","top","left","right","middle"];return t.sort(((t,n)=>t===e?-1:n===e?1:0)),[t,["bottom","top","middle"]]})(n);if(this.platformBehaviour===ve.gdocs){for(const e of l)if(ed(e,o)){Jc(e,o);break}}else for(const e of r)if(ed(e,o)){s="middle"!==e?e:void 0,Yc(e,o);break}return{...a,current:s}},platformBehaviour:this.platformBehaviour,dragContainerTo:this.dragContainerTo}})}dragContainerTo(e){this.container.style.top=`${e.y}px`,this.container.style.left=`${e.x}px`}cleanupDOM(){this.container.remove(),this.shadowContainer.remove(),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.shadow.appendChild(this.shadowContainer),this.mainComponent&&this.mainComponent.$destroy()}}window.customElements.define("deepl-inline-translate-tooltip",Bd);const Fd=async e=>{let t=window;if(e.ownerDocument!==document){const n=e?.ownerDocument?.defaultView?.frameElement?.contentWindow;n&&(t=n)}const n=t.getSelection(),o=n&&n.baseNode&&"#text"==n.baseNode.nodeName&&"Range"==n.type&&e.contains(n.baseNode);let i;o||(e.focus(),await ws(e)),i=e.ownerDocument!==document?e.ownerDocument.getSelection():t.getSelection();const{domElements:s,strings:a,container:r}=function(e,t){let n;t.getRangeAt?n=t.getRangeAt(0):(n=document.createRange(),n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset));const o=n.cloneContents(),i=document.createElement("div");i.appendChild(o),i.style.display="none",document.body.appendChild(i);const{domElements:s,strings:a}=on(i);return{domElements:s,strings:a,container:i}}(0,i);return{domElements:s,strings:a,container:r,isSubtextSelected:o}};async function Ud(e){let t;qd();let n={},o=[];const i=!Ts(e);if(i)n=await Fd(e),o=n.strings.map((e=>({text:e})));else{const i=e.value;Es(e)&&(n.isSubtextSelected=!0),t=n.isSubtextSelected?i.substring(e.selectionStart,e.selectionEnd):i,o.push({text:t})}if(0===o.length)return;let s;try{s=document.documentElement.lang}catch(e){console.error(e)}const a=await Xt({action:"dlRequestInputTranslation",payload:{requests:o,domainName:window.location.hostname,websiteLanguage:s}}),r={text:"",html:""};i?(an({strings:a[0]?.texts,domElements:n.domElements}),r.text=n.container.innerText,r.html=n.container.innerHTML,n.container.remove()):(r.text=a[0].text,r.html=a[0].text),i&&!n.isSubtextSelected&&(e=>{if(xs("keydown",e)){const t=new window.InputEvent("beforeinput",{bubbles:!0,cancelable:!0,inputType:"deleteContent"});e.dispatchEvent(t)&&document.execCommand("delete",!1)}xs("keyup",e)})(e),await Ls(e,r,n.isSubtextSelected)}function qd(){try{const e=document.documentElement.querySelector("deepl-input-highlighter");e&&(e.cleanupDOM(),e.remove())}catch(e){console.error(e)}try{Xt({action:"dltrackCloseInputHighlighter",payload:{event:_e}})}catch(e){console.error(e)}}const jd="GENERAL_SETTINGS",Wd="INPUT_SETTINGS";function Gd(e){let t,n,o,i,s;return i=new jr({props:{value:e[2].targetLanguageUserInput,showChooseLanguageOption:!0,fontSize:"sm"}}),i.$on("selection",e[5]),{c(){t=Bn("p"),n=Un(e[0]),o=qn(),jo(i.$$.fragment),Zn(t,"class","font-bold svelte-1bwyi2r")},m(e,a){Pn(e,t,a),Dn(t,n),Pn(e,o,a),Wo(i,e,a),s=!0},p(e,t){(!s||1&t)&&Kn(n,e[0]);const o={};4&t&&(o.value=e[2].targetLanguageUserInput),i.$set(o)},i(e){s||(Ho(i.$$.fragment,e),s=!0)},o(e){Bo(i.$$.fragment,e),s=!1},d(e){e&&zn(t),e&&zn(o),Go(i,e)}}}function Vd(e){let t,n,o=(e[2].enableInputTranslation||e[1])&&Gd(e);return{c(){t=Bn("div"),o&&o.c()},m(e,i){Pn(e,t,i),o&&o.m(t,null),n=!0},p(e,[n]){e[2].enableInputTranslation||e[1]?o?(o.p(e,n),6&n&&Ho(o,1)):(o=Gd(e),o.c(),Ho(o,1),o.m(t,null)):o&&(Po(),Bo(o,1,1,(()=>{o=null})),zo())},i(e){n||(Ho(o),n=!0)},o(e){Bo(o),n=!1},d(e){e&&zn(t),o&&o.d()}}}function Zd(e,t,n){let o;const i=wo("deepl_settings");vn(e,i,(e=>n(2,o=e)));const s=fo();let{subHeaderText:a=chrome.i18n.getMessage("input_translation_settings_target_language")}=t,{fromShortcut:r}=t;function l(e){s("languageChanged",{lang:e})}return e.$$set=e=>{"subHeaderText"in e&&n(0,a=e.subHeaderText),"fromShortcut"in e&&n(1,r=e.fromShortcut)},[a,r,o,i,l,e=>l(e.detail.selectedOption)]}class Kd extends Zo{constructor(e){super(),Vo(this,e,Zd,Vd,_n,{subHeaderText:0,fromShortcut:1})}}function Xd(e){let t,n,o,i,s,a,r,l,c,d;const u=e[8].default,p=$n(u,e,e[7],null);return{c(){t=Bn("div"),n=Bn("div"),o=Bn("button"),i=qn(),s=Bn("div"),p&&p.c(),Zn(o,"type","button"),Zn(o,"class","close-icon svelte-eew74l"),Zn(n,"class","header svelte-eew74l"),Zn(s,"class","content"),Zn(t,"style",a=`z-index: ${L.deepl_inline_ui.z_index}; ${e[3]}`),Zn(t,"class","container svelte-eew74l"),Lo((()=>e[10].call(t))),no(t,"isRelativelyAligned",e[0])},m(a,u){Pn(a,t,u),Dn(t,n),Dn(n,o),Dn(t,i),Dn(t,s),p&&p.m(s,null),r=to(t,e[10].bind(t)),l=!0,c||(d=Wn(o,"click",e[9]),c=!0)},p(e,[n]){p&&p.p&&(!l||128&n)&&xn(p,u,e,e[7],l?yn(u,e[7],n,null):Cn(e[7]),null),(!l||8&n&&a!==(a=`z-index: ${L.deepl_inline_ui.z_index}; ${e[3]}`))&&Zn(t,"style",a),(!l||1&n)&&no(t,"isRelativelyAligned",e[0])},i(e){l||(Ho(p,e),l=!0)},o(e){Bo(p,e),l=!1},d(e){e&&zn(t),p&&p.d(e),r(),c=!1,d()}}}function Qd(e,t,n){let o,{$$slots:i={},$$scope:s}=t;const a=fo();let r,l,{offsetTop:c}=t,{isBottomPage:d}=t,{isRelativelyAligned:u=!1}=t;return e.$$set=e=>{"offsetTop"in e&&n(5,c=e.offsetTop),"isBottomPage"in e&&n(6,d=e.isBottomPage),"isRelativelyAligned"in e&&n(0,u=e.isRelativelyAligned),"$$scope"in e&&n(7,s=e.$$scope)},e.$$.update=()=>{6&e.$$.dirty&&a("resize",{offsetHeight:r,offsetWidth:l}),99&e.$$.dirty&&n(3,o=d?u?`margin-top: -${r+5}px;`:`top: -${r+5}px; margin-bottom: ${c}px;`:`margin-top: ${c}px;`)},[u,r,l,o,a,c,d,s,i,()=>a("close"),function(){r=this.offsetHeight,l=this.offsetWidth,n(1,r),n(2,l)}]}class Yd extends Zo{constructor(e){super(),Vo(this,e,Qd,Xd,_n,{offsetTop:5,isBottomPage:6,isRelativelyAligned:0})}}function Jd(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m,h,f,_,w=chrome.i18n.getMessage("input_translation_setting_button_ok")+"";return s=new Uc({props:{name:"disable_input_translation",id:se,value:se,cssClassName:"radio--with-border",checked:e[5]===se,label:chrome.i18n.getMessage("input_translation_setting_radio_disable_per_site"),dataQa:"input-translation_hide-icon_disable-per-site"}}),s.$on("change",e[13]),r=new Uc({props:{name:"disable_input_translation",id:ae,value:ae,cssClassName:"radio--with-border",checked:e[5]===ae,label:chrome.i18n.getMessage("input_translation_setting_radio_disable_everywhere"),dataQa:"input-translation_hide-icon_disable-always"}}),r.$on("change",e[13]),{c(){t=Bn("div"),n=Bn("p"),n.textContent=`${chrome.i18n.getMessage("input_translation_setting_label_title_v2")}`,o=qn(),i=Bn("div"),jo(s.$$.fragment),a=qn(),jo(r.$$.fragment),l=qn(),c=Bn("div"),d=Bn("span"),d.textContent=`${chrome.i18n.getMessage("input_translation_setting_link_cancel")}`,u=qn(),p=Bn("button"),g=Un(w),Zn(n,"class","font-bold svelte-1bhhmyx"),Zn(i,"class","option-container svelte-1bhhmyx"),Zn(d,"class","link svelte-1bhhmyx"),Zn(p,"class",m=Tn("btn btn-primary "+(e[5]?"":"disabled"))+" svelte-1bhhmyx"),Zn(p,"data-qa","input-translation_hide-icon_accept"),Zn(c,"class","action-container svelte-1bhhmyx"),Zn(t,"class","dl-widget svelte-1bhhmyx"),Zn(t,"data-qa","dl-input-translate-turnoff-settings")},m(m,w){Pn(m,t,w),Dn(t,n),Dn(t,o),Dn(t,i),Wo(s,i,null),Dn(i,a),Wo(r,i,null),Dn(t,l),Dn(t,c),Dn(c,d),Dn(c,u),Dn(c,p),Dn(p,g),h=!0,f||(_=[Wn(d,"click",(function(){fn(e[2]===Wd?e[8]:e[10])&&(e[2]===Wd?e[8]:e[10]).apply(this,arguments)})),Wn(p,"click",e[12])],f=!0)},p(t,n){e=t;const o={};32&n&&(o.checked=e[5]===se),s.$set(o);const i={};32&n&&(i.checked=e[5]===ae),r.$set(i),(!h||32&n&&m!==(m=Tn("btn btn-primary "+(e[5]?"":"disabled"))+" svelte-1bhhmyx"))&&Zn(p,"class",m)},i(e){h||(Ho(s.$$.fragment,e),Ho(r.$$.fragment,e),h=!0)},o(e){Bo(s.$$.fragment,e),Bo(r.$$.fragment,e),h=!1},d(e){e&&zn(t),Go(s),Go(r),f=!1,hn(_)}}}function eu(e){let t,n,o,i,s;n=new Kd({props:{fromShortcut:e[3]}}),n.$on("languageChanged",e[14]);let a=e[6]&&e[6].targetLanguageUserInput&&!e[3]&&tu(e);return{c(){t=Bn("div"),jo(n.$$.fragment),o=qn(),a&&a.c(),i=jn(),Zn(t,"class","dl-widget svelte-1bhhmyx")},m(e,r){Pn(e,t,r),Wo(n,t,null),Pn(e,o,r),a&&a.m(e,r),Pn(e,i,r),s=!0},p(e,t){const o={};8&t&&(o.fromShortcut=e[3]),n.$set(o),e[6]&&e[6].targetLanguageUserInput&&!e[3]?a?a.p(e,t):(a=tu(e),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},i(e){s||(Ho(n.$$.fragment,e),s=!0)},o(e){Bo(n.$$.fragment,e),s=!1},d(e){e&&zn(t),Go(n),e&&zn(o),a&&a.d(e),e&&zn(i)}}}function tu(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m;return{c(){t=Bn("div"),n=Bn("div"),o=Bn("p"),o.textContent=`${chrome.i18n.getMessage("input_translation_label_show_icon_switch")}`,i=qn(),s=Bn("span"),a=qn(),r=Bn("div"),l=Bn("div"),c=Bn("div"),d=Bn("span"),d.textContent=`${chrome.i18n.getMessage("input_translation_link_more_settings")}`,u=qn(),p=Bn("span"),Zn(o,"class","svelte-1bhhmyx"),Zn(s,"class","icon icon-toggle-on svelte-1bhhmyx"),Zn(n,"class","link-input-settings svelte-1bhhmyx"),Zn(n,"data-qa","deepl-input-translate-hide-extension"),Zn(t,"class","dl-widget svelte-1bhhmyx"),Zn(p,"class","icon icon-external-link  svelte-1bhhmyx"),Zn(c,"class","link link-settings svelte-1bhhmyx"),Zn(c,"data-qa","dl-input-translate-open-settings-page"),Zn(l,"class","action-container svelte-1bhhmyx"),Zn(r,"class","dl-widget svelte-1bhhmyx")},m(h,f){Pn(h,t,f),Dn(t,n),Dn(n,o),Dn(n,i),Dn(n,s),Pn(h,a,f),Pn(h,r,f),Dn(r,l),Dn(l,c),Dn(c,d),Dn(c,u),Dn(c,p),g||(m=[Wn(n,"click",e[9]),Wn(c,"click",e[11])],g=!0)},p:un,d(e){e&&zn(t),e&&zn(a),e&&zn(r),g=!1,hn(m)}}}function nu(e){let t,n,o,i;const s=[eu,Jd],a=[];function r(e,t){return e[4]===jd?0:e[4]===Wd?1:-1}return~(t=r(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),o=jn()},m(e,n){~t&&a[t].m(e,n),Pn(e,o,n),i=!0},p(e,i){let l=t;t=r(e),t===l?~t&&a[t].p(e,i):(n&&(Po(),Bo(a[l],1,1,(()=>{a[l]=null})),zo()),~t?(n=a[t],n?n.p(e,i):(n=a[t]=s[t](e),n.c()),Ho(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(Ho(n),i=!0)},o(e){Bo(n),i=!1},d(e){~t&&a[t].d(e),e&&zn(o)}}}function ou(e){let t,n;return t=new Yd({props:{offsetTop:e[0],isBottomPage:e[1],$$slots:{default:[nu]},$$scope:{ctx:e}}}),t.$on("close",e[15]),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.offsetTop=e[0]),2&n&&(o.isBottomPage=e[1]),1048700&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function iu(e,t,n){let o;const i=fo();let s=jd;function a(e){n(4,s=e)}const r=wo("deepl_settings");vn(e,r,(e=>n(6,o=e)));let{offsetTop:l}=t,{isBottomPage:c}=t,{startPage:d}=t,{fromShortcut:u=!1}=t,p="";return e.$$set=e=>{"offsetTop"in e&&n(0,l=e.offsetTop),"isBottomPage"in e&&n(1,c=e.isBottomPage),"startPage"in e&&n(2,d=e.startPage),"fromShortcut"in e&&n(3,u=e.fromShortcut)},e.$$.update=()=>{4&e.$$.dirty&&d&&n(4,s=d)},[l,c,d,u,s,p,o,r,function(){i("close")},function(){a(Wd)},function(){n(5,p=""),a(jd)},function(){Xt({action:"dlOpenInternalPage",payload:{destination:ur.settings_writing}})},function(){if(!p)return;switch(p){case ae:r.set({enableInputTranslation:!1}),Xt({action:"dlTrackSettingChanged",payload:{settingType:ae,domainName:window.location.hostname,uiFunction:re,uiLocation:z}});break;case se:!function(){let e=o.blacklistDomainsForWriting;e&&!e.includes(window.location.hostname)&&(e.push(window.location.hostname),r.set({blacklistDomainsForWriting:e}),Xt({action:"dlTrackSettingChanged",payload:{settingType:se,domainName:window.location.hostname,uiFunction:re,uiLocation:z}}))}()}let e=ii(window.location.hostname,["www."]);Xt({action:"dlSendNotification",payload:{type:k,options:{theme:N.green_theme,currentDomain:e,saveAction:p,settingsPageURL:ur.settings_writing}}})},function(e){n(5,p=e.currentTarget.value)},function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)}]}class su extends Zo{constructor(e){super(),Vo(this,e,iu,ou,_n,{offsetTop:0,isBottomPage:1,startPage:2,fromShortcut:3})}}function au(e){let t,n;return t=new nr({props:{error:e[3]}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};8&n&&(o.error=e[3]),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function ru(e){let t,n;return t=new Yd({props:{offsetTop:e[0],isBottomPage:e[1],isRelativelyAligned:e[2],$$slots:{default:[au]},$$scope:{ctx:e}}}),t.$on("close",e[4]),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.offsetTop=e[0]),2&n&&(o.isBottomPage=e[1]),4&n&&(o.isRelativelyAligned=e[2]),40&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function lu(e,t,n){let{offsetTop:o}=t,{isBottomPage:i}=t,{isRelativelyAligned:s}=t,{error:a}=t;return e.$$set=e=>{"offsetTop"in e&&n(0,o=e.offsetTop),"isBottomPage"in e&&n(1,i=e.isBottomPage),"isRelativelyAligned"in e&&n(2,s=e.isRelativelyAligned),"error"in e&&n(3,a=e.error)},[o,i,s,a,function(t){vo.call(this,e,t)}]}class cu extends Zo{constructor(e){super(),Vo(this,e,lu,ru,_n,{offsetTop:0,isBottomPage:1,isRelativelyAligned:2,error:3})}}function du(e){let t,n,o,i,s,a,r,l=!e[2]&&uu(e),c=e[4]&&_u(e),d=e[8]&&wu(e);return{c(){t=Bn("div"),l&&l.c(),n=qn(),c&&c.c(),o=qn(),d&&d.c(),Zn(t,"style",i=`width: ${e[8]?e[10]:e[6]}px; height: ${e[8]?e[11]+e[13]:e[13]}px;`),Zn(t,"class","hidden-container svelte-1jovi4r")},m(i,u){Pn(i,t,u),l&&l.m(t,null),Dn(t,n),c&&c.m(t,null),Dn(t,o),d&&d.m(t,null),s=!0,a||(r=[Ln(Jt.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[39])],a=!0)},p(e,a){e[2]?l&&(Po(),Bo(l,1,1,(()=>{l=null})),zo()):l?(l.p(e,a),4&a[0]&&Ho(l,1)):(l=uu(e),l.c(),Ho(l,1),l.m(t,n)),e[4]?c?(c.p(e,a),16&a[0]&&Ho(c,1)):(c=_u(e),c.c(),Ho(c,1),c.m(t,o)):c&&(Po(),Bo(c,1,1,(()=>{c=null})),zo()),e[8]?d?(d.p(e,a),256&a[0]&&Ho(d,1)):(d=wu(e),d.c(),Ho(d,1),d.m(t,null)):d&&(Po(),Bo(d,1,1,(()=>{d=null})),zo()),(!s||11584&a[0]&&i!==(i=`width: ${e[8]?e[10]:e[6]}px; height: ${e[8]?e[11]+e[13]:e[13]}px;`))&&Zn(t,"style",i)},i(e){s||(Ho(l),Ho(c),Ho(d),s=!0)},o(e){Bo(l),Bo(c),Bo(d),s=!1},d(e){e&&zn(t),l&&l.d(),c&&c.d(),d&&d.d(),a=!1,hn(r)}}}function uu(e){let t,n,o,i,s,a,r,l;const c=[gu,pu],d=[];function u(e,t){return e[7]?0:1}return o=u(e),i=d[o]=c[o](e),{c(){t=Bn("div"),n=Bn("div"),i.c(),Zn(t,"style",`z-index: ${e[14].z_index}`),Zn(t,"class","container svelte-1jovi4r"),Lo((()=>e[34].call(t)))},m(i,c){Pn(i,t,c),Dn(t,n),d[o].m(n,null),s=to(t,e[34].bind(t)),a=!0,r||(l=Wn(t,"mouseleave",e[33]),r=!0)},p(e,t){let s=o;o=u(e),o===s?d[o].p(e,t):(Po(),Bo(d[s],1,1,(()=>{d[s]=null})),zo(),i=d[o],i?i.p(e,t):(i=d[o]=c[o](e),i.c()),Ho(i,1),i.m(n,null))},i(e){a||(Ho(i),a=!0)},o(e){Bo(i),a=!1},d(e){e&&zn(t),d[o].d(),s(),r=!1,l()}}}function pu(e){let t,n,o,i,s,a,r;return n=new lc({props:{tooltip:chrome.i18n.getMessage("input_translation_tooltip_turnoff"),$$slots:{default:[mu]},$$scope:{ctx:e}}}),i=new lc({props:{tooltip:chrome.i18n.getMessage("input_translation_tooltip_settings"),$$slots:{default:[hu]},$$scope:{ctx:e}}}),a=new lc({props:{tooltip:e[5],$$slots:{default:[fu]},$$scope:{ctx:e}}}),{c(){t=Bn("div"),jo(n.$$.fragment),o=qn(),jo(i.$$.fragment),s=qn(),jo(a.$$.fragment),Zn(t,"class","icon-container svelte-1jovi4r")},m(e,l){Pn(e,t,l),Wo(n,t,null),Dn(t,o),Wo(i,t,null),Dn(t,s),Wo(a,t,null),r=!0},p(e,t){const o={};1024&t[1]&&(o.$$scope={dirty:t,ctx:e}),n.$set(o);const s={};1024&t[1]&&(s.$$scope={dirty:t,ctx:e}),i.$set(s);const r={};32&t[0]&&(r.tooltip=e[5]),1024&t[1]&&(r.$$scope={dirty:t,ctx:e}),a.$set(r)},i(e){r||(Ho(n.$$.fragment,e),Ho(i.$$.fragment,e),Ho(a.$$.fragment,e),r=!0)},o(e){Bo(n.$$.fragment,e),Bo(i.$$.fragment,e),Bo(a.$$.fragment,e),r=!1},d(e){e&&zn(t),Go(n),Go(i),Go(a)}}}function gu(e){let t,n,o;return n=new Vr({props:{small:!0}}),{c(){t=Bn("div"),jo(n.$$.fragment),Zn(t,"class","loading-container svelte-1jovi4r")},m(e,i){Pn(e,t,i),Wo(n,t,null),o=!0},p:un,i(e){o||(Ho(n.$$.fragment,e),o=!0)},o(e){Bo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Go(n)}}}function mu(e){let t,n,o;return{c(){t=Bn("div"),Zn(t,"class","dl-turnoff-inline-icon svelte-1jovi4r"),Zn(t,"data-qa","deepl-input-translate-turnoff-icon")},m(i,s){Pn(i,t,s),n||(o=[Wn(t,"click",Vn(Gn(e[28]))),Wn(t,"mousedown",Vn(Gn(e[27]))),Wn(t,"mouseenter",e[29])],n=!0)},p:un,d(e){e&&zn(t),n=!1,hn(o)}}}function hu(e){let t,n,o;return{c(){t=Bn("div"),Zn(t,"class","dl-setting-inline-icon svelte-1jovi4r"),Zn(t,"data-qa","deepl-input-translate-settings-icon")},m(i,s){Pn(i,t,s),n||(o=[Wn(t,"click",Vn(Gn(e[30]))),Wn(t,"mousedown",Vn(Gn(e[26]))),Wn(t,"mouseenter",e[31])],n=!0)},p:un,d(e){e&&zn(t),n=!1,hn(o)}}}function fu(e){let t,n,o;return{c(){t=Bn("div"),Zn(t,"class","dl-logo svelte-1jovi4r"),Zn(t,"data-qa","deepl-input-translate-icon")},m(i,s){Pn(i,t,s),n||(o=[Wn(t,"click",Vn(Gn(e[19]))),Wn(t,"mousedown",Vn(Gn(e[25]))),Wn(t,"mouseenter",e[32])],n=!0)},p:un,d(e){e&&zn(t),n=!1,hn(o)}}}function _u(e){let t,n;return t=new cu({props:{offsetTop:e[13],isBottomPage:e[1],error:e[4]}}),t.$on("close",e[35]),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};8192&n[0]&&(o.offsetTop=e[13]),2&n[0]&&(o.isBottomPage=e[1]),16&n[0]&&(o.error=e[4]),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function wu(e){let t,n;return t=new su({props:{fromShortcut:e[2],offsetTop:e[13],isBottomPage:e[1],setText:e[16],startPage:e[9]}}),t.$on("languageChanged",e[36]),t.$on("close",e[37]),t.$on("resize",e[38]),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};4&n[0]&&(o.fromShortcut=e[2]),8192&n[0]&&(o.offsetTop=e[13]),2&n[0]&&(o.isBottomPage=e[1]),512&n[0]&&(o.startPage=e[9]),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function vu(e){let t,n,o=(!e[12]||e[2])&&du(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,n){!e[12]||e[2]?o?(o.p(e,n),4100&n[0]&&Ho(o,1)):(o=du(e),o.c(),Ho(o,1),o.m(t.parentNode,t)):o&&(Po(),Bo(o,1,1,(()=>{o=null})),zo())},i(e){n||(Ho(o),n=!0)},o(e){Bo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function $u(e,t,n){let o,i,s;vn(e,di,(e=>n(24,s=e))),_o("deepl_settings",di);let a,r,l,{element:c}=t,{closePopup:d}=t,{isBottomPage:u}=t,{fromShortcut:p=!1}=t,{notifyParentOfTranslation:g}=t,{translateOnFirstRequest:m=!1}=t,h="",f=0,_=0,w=!1,v=!1,$=0,b=0;p&&T(jd);const{deepl_inline_ui:y}=L;async function x(e){await di.set({targetLanguageUserInput:e.value,regionalVariant:e.regionalVariant}),C()}async function C(){if(s.targetLanguageUserInput&&"undefined"!=s.targetLanguageUserInput){E(),n(7,w=!0);try{await Ud(c),g(),l||Qt(S)}catch(e){n(4,h=e)}n(7,w=!1)}else n(8,v=!0)}function T(e){n(9,r=e),v||(n(8,v=!0),qd(),Xt({action:"dlTrackInlineSettingOpened",payload:{uiFunction:re,uiLocation:R}}))}function E(){v&&n(8,v=!1)}function k(){s.targetLanguageUserInput?C():T()}function M(e){Xt({action:"dlTrackIconHover",payload:{uiLocation:e,domainName:window.location.host}})}mo((()=>{m&&k()}));return e.$$set=e=>{"element"in e&&n(21,c=e.element),"closePopup"in e&&n(0,d=e.closePopup),"isBottomPage"in e&&n(1,u=e.isBottomPage),"fromShortcut"in e&&n(2,p=e.fromShortcut),"notifyParentOfTranslation"in e&&n(22,g=e.notifyParentOfTranslation),"translateOnFirstRequest"in e&&n(23,m=e.translateOnFirstRequest)},e.$$.update=()=>{if(8&e.$$.dirty[0]&&n(13,o=f+5),16777216&e.$$.dirty[0]&&n(12,i=!s.enableInputTranslation||ni(window.location.host,window.location.href)||s.blacklistDomainsForWriting.includes(window.location.host)),16777216&e.$$.dirty[0])if(s.targetLanguageUserInput&&"undefined"!=s.targetLanguageUserInput){let e;Xt({action:"dlCheckCommandShortcuts"}).then((t=>{e=t?t.filter((e=>e.name==ee))[0].shortcut:"",e?(e=`(${e})`,l=!0):l=!1,n(5,a=`${chrome.i18n.getMessage("input_translation_tooltip_translate")} ${e}`)}))}else n(5,a=chrome.i18n.getMessage("input_translation_tooltip_translate_to_unknown"))},[d,u,p,f,h,a,_,w,v,r,$,b,i,o,y,x,C,T,E,k,M,c,g,m,s,function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},()=>{T(Wd)},()=>M(P),()=>{T(jd)},()=>M(P),()=>M(R),()=>{v||w||h||d()},function(){f=this.offsetHeight,_=this.offsetWidth,n(3,f),n(6,_)},()=>{n(4,h=void 0),d()},e=>x(e.detail.lang),()=>{E(),d()},e=>{n(10,$=e.detail.offsetWidth),n(11,b=e.detail.offsetHeight)},()=>d()]}class bu extends Zo{constructor(e){super(),Vo(this,e,$u,vu,_n,{element:21,closePopup:0,isBottomPage:1,fromShortcut:2,notifyParentOfTranslation:22,translateOnFirstRequest:23},null,[-1,-1])}}class yu extends HTMLElement{constructor(){if(super(),this.shadowRoot)return;this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.mainComponent,this.offsetElement,this.outerContainer;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanDom=this.cleanupDOM.bind(this),this.addChangeEvents=this.addChangeEvents.bind(this),this.repositionContainer=this.repositionContainer.bind(this),this.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}createDOM(e,t,n,o,i,s=!1){const{deepl_inline_ui:a}=L;this.shadowContainer&&this.shadowContainer.childElementCount>0&&this.cleanupDOM(),this.offsetElement=n,this.outerContainer=e,this.shadowContainer.style.cssText=`position: absolute; top: 0px; left: 0px; width: 100%; z-index: ${a.z_index}`,this.shadowContainer.appendChild(this.container);const{isBottomPage:r}=this.repositionContainer();this.mainComponent=new bu({target:this.container,props:{element:t,isBottomPage:r,closePopup:()=>this.cleanupDOM(),fromShortcut:o,notifyParentOfTranslation:i,translateOnFirstRequest:s}}),this.addChangeEvents()}repositionContainer(){const{deepl_inline_ui:e}=L,t=this.outerContainer.getBoundingClientRect();let n=this.offsetElement&&this.offsetElement.getBoundingClientRect()?this.offsetElement.getBoundingClientRect().top:0,o=this.offsetElement&&this.offsetElement.getBoundingClientRect()?this.offsetElement.getBoundingClientRect().left:0;n-=6,o+=31,this.container.style.cssText=`position: absolute; top: ${t.top+window.scrollY+n}px; left: ${t.left+o}px; z-index: ${e.z_index}; transform: scale(1)`;return{isBottomPage:!(t.top+n-250<0)}}addChangeEvents(){window.addEventListener("scroll",this.repositionContainer),window.addEventListener("resize",this.repositionContainer)}removeChangeEvents(){window.removeEventListener("scroll",this.repositionContainer),window.removeEventListener("resize",this.repositionContainer)}cleanupDOM(){this.container.remove(),this.shadowContainer.remove(),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.shadow.appendChild(this.shadowContainer),this.mainComponent&&this.mainComponent.$destroy(),this.removeChangeEvents()}}window.customElements.define("deepl-inline-popup",yu);const xu={webComponent:"WEBCOMPONENT_INPUT_TRANSLATION_ICON",svelteComponent:"SVELTE_COMPONENT_INPUT_TRANSLATION_ICON"},Cu="discord.com",Tu="app.slack.com",Eu="jira",Lu="web.telegram.org",Su="www.instagram.com";var ku={discord:function(e,t){if(e===xu.webComponent)return function(e){if(e.dataset&&"true"===e.dataset.dlInputTranslation&&"combobox"===e.getAttribute("role"))return"display: none;";if(!e.dataset||"true"!==e.dataset.dlInputTranslation||"textbox"===!e.getAttribute("role"))return;return"top: 7px; bottom: auto;"}(t)},slack:function(e,t){switch(e){case xu.webComponent:return function(e){if(!e.dataset||"true"!==e.dataset.dlInputTranslation||"textbox"===!e.getAttribute("role"))return;return`top: -3px; margin-top: ${e.clientHeight/4}px; margin-right: 10px`}(t);case xu.svelteComponent:return"transform: scale(1);"}},jira:function(e,t){if("jira"==document.body.id)return e===xu.webComponent?function(e){if("tinymce"===e.id)return;if(e instanceof HTMLTextAreaElement&&"description"===e.id)return;return"display: none;"}(t):void 0},telegram:function(e,t){if(e===xu.webComponent)return function(e){const t=e=>/\binput-message-input\b/gm.test(e);if(e.dataset&&"true"===e.dataset.dlInputTranslation&&t(e.className))return"top: 5px;"}(t)},instagram:function(e,t){if(e===xu.webComponent)return function(e){const t=()=>/direct\b/gm.test(window.location.pathname);if(e.dataset&&"true"===e.dataset.dlInputTranslation&&t(e.className))return"top: 3px;"}(t)}};function Mu(e,t,n){switch(e){case Cu:return ku.discord(t,n);case Tu:return ku.slack(t,n);case Lu:return ku.telegram(t,n);case Su:return ku.instagram(t,n);default:if(e.includes(Eu)||"jira"===document.body.id)return ku.jira(t,n)}}function Ou(e){let t,n;return t=new Vr({props:{small:!0}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p:un,i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Nu(e){let t,n,o,i,s,a,r,l,c,d,u;const p=[Du,Iu],g=[];function m(e,t){return e[7]?0:1}o=m(e),i=g[o]=p[o](e);let h=e[8]&&Au(e);return{c(){t=Bn("div"),n=Bn("div"),i.c(),r=qn(),h&&h.c(),l=jn(),Zn(n,"class","icon-container svelte-1brvt9n"),no(n,"dl-icon-small",e[3]),Zn(t,"style",e[12]),Zn(t,"class","container svelte-1brvt9n"),no(t,"dl-icon-small",e[3]),no(t,"dl-discord-container",e[11])},m(i,s){Pn(i,t,s),Dn(t,n),g[o].m(n,null),e[19](n),Pn(i,r,s),h&&h.m(i,s),Pn(i,l,s),c=!0,d||(u=[Wn(n,"mouseover",e[18]),Wn(n,"focus",e[17])],d=!0)},p(e,s){let a=o;o=m(e),o===a?g[o].p(e,s):(Po(),Bo(g[a],1,1,(()=>{g[a]=null})),zo(),i=g[o],i?i.p(e,s):(i=g[o]=p[o](e),i.c()),Ho(i,1),i.m(n,null)),(!c||8&s)&&no(n,"dl-icon-small",e[3]),(!c||8&s)&&no(t,"dl-icon-small",e[3]),e[8]?h?(h.p(e,s),256&s&&Ho(h,1)):(h=Au(e),h.c(),Ho(h,1),h.m(l.parentNode,l)):h&&(Po(),Bo(h,1,1,(()=>{h=null})),zo())},i(e){c||(Ho(i),Lo((()=>{a&&a.end(1),s=Uo(t,Js,{duration:200}),s.start()})),Ho(h),c=!0)},o(e){Bo(i),s&&s.invalidate(),a=qo(t,Js,{duration:200}),Bo(h),c=!1},d(n){n&&zn(t),g[o].d(),e[19](null),n&&a&&a.end(),n&&zn(r),h&&h.d(n),n&&zn(l),d=!1,hn(u)}}}function Iu(e){let t,n;return{c(){t=Bn("div"),Zn(t,"class",n="dl-icon "+(e[5]?"dl-icon-minified":"dl-icon-logo")+" svelte-1brvt9n"),Zn(t,"data-qa","deepl-input-icon"),no(t,"dl-icon-untranslated",e[1]),no(t,"dl-dark-mode",e[10].isDarkMode),no(t,"dl-icon-discord",e[11])},m(e,n){Pn(e,t,n)},p(e,o){32&o&&n!==(n="dl-icon "+(e[5]?"dl-icon-minified":"dl-icon-logo")+" svelte-1brvt9n")&&Zn(t,"class",n),34&o&&no(t,"dl-icon-untranslated",e[1]),1056&o&&no(t,"dl-dark-mode",e[10].isDarkMode),2080&o&&no(t,"dl-icon-discord",e[11])},i:un,o:un,d(e){e&&zn(t)}}}function Du(e){let t,n;return t=new Vr({props:{small:!0}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p:un,i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Au(e){let t,n;return t=new cu({props:{isBottomPage:e[4],offsetTop:20,isRelativelyAligned:!0,error:e[8]}}),t.$on("close",e[20]),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};16&n&&(o.isBottomPage=e[4]),256&n&&(o.error=e[8]),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Ru(e){let t,n,o,i;const s=[Nu,Ou],a=[];function r(e,t){return!e[9]&&e[6]?0:e[7]?1:-1}return~(t=r(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),o=jn()},m(e,n){~t&&a[t].m(e,n),Pn(e,o,n),i=!0},p(e,[i]){let l=t;t=r(e),t===l?~t&&a[t].p(e,i):(n&&(Po(),Bo(a[l],1,1,(()=>{a[l]=null})),zo()),~t?(n=a[t],n?n.p(e,i):(n=a[t]=s[t](e),n.c()),Ho(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(Ho(n),i=!0)},o(e){Bo(n),i=!1},d(e){~t&&a[t].d(e),e&&zn(o)}}}function Pu(e,t,n){let o,i,s;vn(e,di,(e=>n(16,i=e))),vn(e,Jo,(e=>n(10,s=e))),_o("deepl_settings",di);let a,{openPopup:r}=t,{isSmall:l=!1}=t,{element:c}=t,{iconContainer:d}=t,{isBottomPage:u}=t,{lastTranslatedText:p=""}=t,{hasUntranslatedText:g=!1}=t,{cleanHighlighters:m}=t,h=!1,f=window.location.host===Cu,_=!1,w=!1;const v=Mu(window.location.host,xu.svelteComponent);async function $(e,t,o){switch(e.action){case"dlTriggerTranslationShortcut":if(document.activeElement!==c)return;try{Xt({action:"dlTrackUseOfShortcut",payload:{shortcutType:ee,location:R}})}catch(e){console.error(e)}if(i&&i.targetLanguageUserInput){n(7,w=!0);try{await Ud(c)}catch(e){n(8,a=e)}n(7,w=!1)}else r({fromShortcut:!0});o();break;case"dlChangeLanguageShortcut":if(document.activeElement!==c)return;n(7,w=!0);try{r({fromShortcut:!0})}catch(e){n(8,a=e)}n(7,w=!1),o()}}function b(){let e="";e=Ts(c)?c.value.trim():c.innerText.trim(),n(1,g=e.length>0&&e!==p),n(5,h=ks(c,d))}function y(){n(6,_=!0)}function x(){n(6,_=!1)}mo((()=>{chrome.runtime.onMessage.addListener($),c.addEventListener("input",b),c.addEventListener("focus",y),c.addEventListener("blur",x),document.activeElement===c&&y()})),ho((()=>{chrome.runtime.onMessage.removeListener($),c.removeEventListener("input",b),c.removeEventListener("focus",y),c.removeEventListener("blur",x),m&&m()}));return e.$$set=e=>{"openPopup"in e&&n(2,r=e.openPopup),"isSmall"in e&&n(3,l=e.isSmall),"element"in e&&n(13,c=e.element),"iconContainer"in e&&n(0,d=e.iconContainer),"isBottomPage"in e&&n(4,u=e.isBottomPage),"lastTranslatedText"in e&&n(14,p=e.lastTranslatedText),"hasUntranslatedText"in e&&n(1,g=e.hasUntranslatedText),"cleanHighlighters"in e&&n(15,m=e.cleanHighlighters)},e.$$.update=()=>{65536&e.$$.dirty&&n(9,o=!i.enableInputTranslation||ni(window.location.host,window.location.href)||i.blacklistDomainsForWriting.includes(window.location.host))},[d,g,r,l,u,h,_,w,a,o,s,f,v,c,p,m,i,function(t){vo.call(this,e,t)},()=>r(),function(e){bo[e?"unshift":"push"]((()=>{d=e,n(0,d)}))},()=>{n(8,a=void 0)}]}class zu extends Zo{constructor(e){super(),Vo(this,e,Pu,Ru,_n,{openPopup:2,isSmall:3,element:13,iconContainer:0,isBottomPage:4,lastTranslatedText:14,hasUntranslatedText:1,cleanHighlighters:15})}}class Hu extends HTMLElement{constructor(){if(super(),this.shadowRoot)return;this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.resizeObserver,this.mutationObserver,this.mutationObserverExtensions,this.mainComponent,this.textElement,this.highlighter,this.textElement,this.container,this.offsetElement,this.isSmall,this.popup;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this),this.calcSizeAndPosition=this.calcSizeAndPosition.bind(this),this.onTranslationDone=this.onTranslationDone.bind(this),this.cleanHighlighters=this.cleanHighlighters.bind(this),this.shadowRoot.addEventListener("mousedown",(e=>{e.stopPropagation(),e.stopImmediatePropagation()}))}calcSizeAndPosition(e,t,n,o){const i=e.getBoundingClientRect().left-this.shadowContainer.getBoundingClientRect().left,s=e.getBoundingClientRect().top-this.shadowContainer.getBoundingClientRect().top;let a,r=parseInt(window.getComputedStyle(e)?.height)||e.clientHeight,l=parseInt(window.getComputedStyle(e)?.width)||e.clientWidth;r<50&&(r=e.clientHeight);const c="position: absolute; pointer-events: all; transition: right 0.2s ease-in-out; width: 25px; height: 25px;";if(e.getBoundingClientRect().height>49){const e=`${c} bottom: 10px; right: 0;`;n.style.cssText=o?`${e} ${o}`:e,this.recalculateHorizontalPositioning(n),r+=10,a=!1}else{const e=`${c} bottom: 0px; right: 0px;`;n.style.cssText=o?`${e} ${o}`:e,this.recalculateHorizontalPositioning(n),a=!0}return t.style.cssText=`box-sizing: content-box; top: ${s}px;left: ${i}px;width: ${l}px;height: ${r}px;position: relative;pointer-events: none;overflow: hidden;border: 0px;border-radius: 0px;padding: 0px;margin: 0px;`,a}createDOM(e,t,n){this.textElement=e;const o=Mu(window.location.host,xu.webComponent,e);if(/display: none/gm.test(o)||/display:none/gm.test(o))return;this.shadowContainer.style.cssText="position: absolute; top: 0px; left: 0px; pointer-events: none;";const i=document.createElement("div"),s=document.createElement("div");i.appendChild(s),this.shadowContainer.appendChild(i),e.parentNode.appendChild(this);const a=this.calcSizeAndPosition(e,i,s,o);this.textElement=e,this.container=s,this.offsetElement=n,this.isSmall=a,this.popup=t;const r=e.getBoundingClientRect().top-250<0;return this.mainComponent=new zu({target:s,props:{openPopup:({fromShortcut:o=!1}={})=>{t.createDOM(s,e,n,o,this.onTranslationDone)},isSmall:a,isBottomPage:!r,element:e,shadowContainer:this.shadowContainer,hasUntranslatedText:!1,lastTranslatedText:"",cleanHighlighters:this.cleanHighlighters}}),this.resizeObserver&&this.resizeObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect(),this.mutationObserverExtensions&&this.mutationObserverExtensions.disconnect(),this.resizeObserver=new ResizeObserver((()=>{window.requestAnimationFrame((()=>{if(t.cleanupDOM(),Ss(e)){this.shadowContainer.style.display="block";const t=this.calcSizeAndPosition(e,i,s,o);this.mainComponent.$$set({isSmall:t})}else this.shadowContainer.style.display="none"}))})),this.mutationObserver=new MutationObserver((()=>{Ss(e)?this.shadowContainer.style.display="block":this.shadowContainer.style.display="none"})),this.mutationObserverExtensions=new MutationObserver((e=>{const t=["lt-highlighter","lt-toolbar","grammarly-extension"];this.highlighter&&this.highlighter.repositionContainer(),e.forEach((e=>{(Array.from(e.addedNodes).find((e=>t.includes(e.nodeName.toLowerCase())))||Array.from(e.removedNodes).find((e=>t.includes(e.nodeName.toLowerCase()))))&&this.recalculateHorizontalPositioning(s)}))})),"none"!==s.style.display&&(this.resizeObserver.observe(e),this.mutationObserver.observe(e,{attributes:!0}),this.mutationObserverExtensions.observe(document,{attributes:!1,childList:!0,characterData:!1,subtree:!0})),{resize:this.resizeObserver,mutation:this.mutationObserver,mutationExtensions:this.mutationObserverExtensions}}onTranslationDone(){let e="";e=Ts(this.textElement)?this.textElement.value.trim():this.textElement.innerText.trim(),this.mainComponent.$$set({hasUntranslatedText:!1,lastTranslatedText:e})}recalculateHorizontalPositioning(e){document.getElementsByTagName("grammarly-extension").length>0||document.getElementsByTagName("lt-highlighter").length>0||document.getElementsByTagName("lt-toolbar").length>0?(e.style.right="35px",this.highlighter&&this.highlighter.recalculateHorizontalWhenOtherExentsion()):e.style.right="0"}translateInput(){this.popup?.createDOM(this.container,this.textElement,this.offsetElement,!1,this.onTranslationDone,!0)}openPopupFromShortcut(){this.popup.createDOM(this.container,this.textElement,this.offsetElement,!0,this.onTranslationDone)}cleanupDOM(){this.shadowContainer.remove(),this.shadowContainer=document.createElement("div"),this.mutationObserver.disconnect(),this.resizeObserver.disconnect(),this.mutationObserverExtensions.disconnect(),this.shadow.appendChild(this.shadowContainer),this.mainComponent&&this.mainComponent.$destroy(),this.cleanHighlighters()}cleanHighlighters(){this.highlighter&&this.highlighter.cleanupDOM()}}function Bu(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m,h,f,_,w,v;return{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),i=Bn("div"),s=qn(),a=Bn("div"),r=Bn("div"),r.textContent=`${chrome.i18n.getMessage("input_translation_highlighter_tooltip_headline")}`,l=qn(),c=Bn("div"),c.textContent=`${chrome.i18n.getMessage("input_translation_highlighter_tooltip_text")}`,d=qn(),u=Bn("div"),p=qn(),g=Bn("button"),Zn(i,"class","logo svelte-16lh4pd"),Zn(r,"class","headline svelte-16lh4pd"),Zn(a,"class","text-wrapper svelte-16lh4pd"),Zn(o,"class","content svelte-16lh4pd"),Zn(u,"class","logo-picture svelte-16lh4pd"),Zn(g,"class","close-icon svelte-16lh4pd"),Zn(n,"class",m=Tn(`body body__${e[0]}`)+" svelte-16lh4pd"),Zn(t,"class","container svelte-16lh4pd")},m(m,h){Pn(m,t,h),Dn(t,n),Dn(n,o),Dn(o,i),Dn(o,s),Dn(o,a),Dn(a,r),Dn(a,l),Dn(a,c),Dn(n,d),Dn(n,u),Dn(n,p),Dn(n,g),_=!0,w||(v=Wn(g,"click",e[4]),w=!0)},p(e,[t]){(!_||1&t&&m!==(m=Tn(`body body__${e[0]}`)+" svelte-16lh4pd"))&&Zn(n,"class",m)},i(e){_||(Lo((()=>{f&&f.end(1),h=Uo(t,ea,{x:100,duration:1e3}),h.start()})),_=!0)},o(e){h&&h.invalidate(),f=qo(t,ea,{x:100,duration:1e3}),_=!1},d(e){e&&zn(t),e&&f&&f.end(),w=!1,v()}}}function Fu(t,n,o){let i,{onClose:s}=n,{position:a="top"}=n,{icon:r}=n;function l(){s();try{Xt({action:"dltrackCloseInputHighlighter",payload:{trigger:fe}})}catch(e){console.error(e)}}_o("deepl_website_settings",pi),mo((async()=>{try{Xt({action:"dltrackOpenInputHighlighter",payload:{domainName:e.websiteData.hostname}})}catch(e){console.error(e)}i=new MutationObserver((function(){(function e(t){return t.parentNode!==document&&(null===t.parentNode||e(t.parentNode))})(r)&&(i.disconnect(),s())})),i.observe(document,{childList:!0,subtree:!0})})),ho((()=>{i&&i.disconnect()}));return t.$$set=e=>{"onClose"in e&&o(2,s=e.onClose),"position"in e&&o(0,a=e.position),"icon"in e&&o(3,r=e.icon)},[a,l,s,r,()=>l()]}window.customElements.define("deepl-inline-translate",Hu);class Uu extends Zo{constructor(e){super(),Vo(this,e,Fu,Bu,_n,{onClose:2,position:0,icon:3})}}class qu extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.container=document.createElement("div"),this.mainComponent,this.outerContainer,this.offsetElement,this.positionOfInputHighlighter;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this),this.repositionContainer=this.repositionContainer.bind(this),this.addChangeEvents=this.addChangeEvents.bind(this),this.replaceElementPosition=this.replaceElementPosition.bind(this)}createDOM(e){this.outerContainer=e,this.positionOfInputHighlighter=this.replaceElementPosition(),this.repositionContainer(),this.mainComponent=new Uu({target:this.shadowContainer,props:{onClose:this.cleanupDOM,position:this.positionOfInputHighlighter,icon:e}}),this.addChangeEvents()}replaceElementPosition(){let e;if(this.outerContainer){e=this.outerContainer.shadowRoot.querySelector(".dl-icon").getBoundingClientRect();const t=140,n=387,o=e?.top,i=window.innerHeight-e?.bottom,s=e?.right,a=e?.left,r={hasSpaceOnTheLeft:a>n,hasSpaceOnTheRight:s>n,hasSpaceUnderneath:i>t,hasSpaceAbove:o>t};if(r.hasSpaceAbove)return"top";if(r.hasSpaceUnderneath)return"bottom";if(r.hasSpaceOnTheRight)return"right";if(r.hasSpaceOnTheLeft)return"left"}return"top"}repositionContainer(){if(this.outerContainer&&this.positionOfInputHighlighter){const e=this.outerContainer.shadowRoot.querySelector(".dl-icon").getBoundingClientRect();switch(this.positionOfInputHighlighter){case"top":this.shadowContainer.style.cssText=`position: absolute; left: ${e.right-387+13}px; bottom: ${window.innerHeight-e.bottom+35-window.scrollY}px; z-index: ${L.deepl_inline_ui.z_index-100}`;break;case"bottom":this.shadowContainer.style.cssText=`position: absolute; left: ${e.right-387+13}px; top: ${e.y+25+14+window.scrollY}px; z-index: ${L.deepl_inline_ui.z_index-100}`;break;case"right":this.shadowContainer.style.cssText=`position: absolute; left: ${e.right+12}px; top: ${e.y-80+window.scrollY}px; z-index: ${L.deepl_inline_ui.z_index-100}`;break;case"left":this.shadowContainer.style.cssText=`position: absolute; left: ${e.right-387-25-12}px; bottom: ${window.innerHeight-e.bottom-13-window.scrollY}px; z-index: ${L.deepl_inline_ui.z_index-100}`}}}recalculateHorizontalWhenOtherExentsion(){if(this.outerContainer){const e=this.outerContainer.shadowRoot.querySelector(".dl-icon").getBoundingClientRect();"top"===this.positionOfInputHighlighter||"bottom"===this.positionOfInputHighlighter?this.shadowContainer.style.left=e.right-387+12-35+"px":"left"===this.positionOfInputHighlighter?this.shadowContainer.style.left=e.right-387-25-12-35+"px":"right"===this.positionOfInputHighlighter&&(this.shadowContainer.style.left=e.right+12-35+"px")}}addChangeEvents(){window.addEventListener("scroll",this.repositionContainer),window.addEventListener("resize",this.repositionContainer)}removeChangeEvents(){window.removeEventListener("scroll",this.repositionContainer),window.removeEventListener("resize",this.repositionContainer)}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy(),this.removeChangeEvents()}}function ju(e){let t,n,o,i;return{c(){t=Bn("p"),n=Bn("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_feedback_form_line_1")}`,o=qn(),i=Bn("p"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_feedback_form_line_2")}`,Zn(n,"class","svelte-rl2s44"),Zn(t,"class","svelte-rl2s44"),Zn(i,"class","svelte-rl2s44")},m(e,s){Pn(e,t,s),Dn(t,n),Pn(e,o,s),Pn(e,i,s)},p:un,d(e){e&&zn(t),e&&zn(o),e&&zn(i)}}}function Wu(e){let t,n,o,i;return{c(){t=Bn("p"),n=Bn("strong"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_line_1")}`,o=qn(),i=Bn("p"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_line_2")}`,Zn(n,"class","svelte-rl2s44"),Zn(t,"class","svelte-rl2s44"),Zn(i,"class","svelte-rl2s44")},m(e,s){Pn(e,t,s),Dn(t,n),Pn(e,o,s),Pn(e,i,s)},p:un,d(e){e&&zn(t),e&&zn(o),e&&zn(i)}}}function Gu(e){let t,n,o,i;return{c(){t=Bn("p"),t.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_line_1")}`,n=qn(),o=Bn("p"),i=Bn("strong"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_line_2")}`,Zn(t,"class","svelte-rl2s44"),Zn(i,"class","svelte-rl2s44"),Zn(o,"class","svelte-rl2s44")},m(e,s){Pn(e,t,s),Pn(e,n,s),Pn(e,o,s),Dn(o,i)},p:un,d(e){e&&zn(t),e&&zn(n),e&&zn(o)}}}function Vu(e){let t;function n(e,t){return e[0]===he.initial?Ku:e[0]===he.review?Zu:void 0}let o=n(e),i=o&&o(e);return{c(){t=Bn("div"),i&&i.c(),Zn(t,"class","buttons svelte-rl2s44")},m(e,n){Pn(e,t,n),i&&i.m(t,null)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i&&i.d(1),i=o&&o(e),i&&(i.c(),i.m(t,null)))},d(e){e&&zn(t),i&&i.d()}}}function Zu(e){let t,n,o,i;return{c(){t=Bn("button"),n=Bn("span"),n.textContent=`${chrome.i18n.getMessage("ui_toaster_write_a_review_cta")}`,Zn(t,"class","svelte-rl2s44")},m(s,a){Pn(s,t,a),Dn(t,n),o||(i=Wn(t,"click",e[4]),o=!0)},p:un,d(e){e&&zn(t),o=!1,i()}}}function Ku(e){let t,n,o,i,s,a,r,l,c,d,u;return{c(){t=Bn("button"),n=Bn("i"),o=qn(),i=Bn("span"),i.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_bad")}`,s=qn(),a=Bn("button"),r=Bn("i"),l=qn(),c=Bn("span"),c.textContent=`${chrome.i18n.getMessage("ui_toaster_how_was_your_experience_good")}`,Zn(n,"class","icon-bad svelte-rl2s44"),Zn(t,"class","svelte-rl2s44"),Zn(r,"class","icon-good svelte-rl2s44"),Zn(a,"class","svelte-rl2s44")},m(p,g){Pn(p,t,g),Dn(t,n),Dn(t,o),Dn(t,i),Pn(p,s,g),Pn(p,a,g),Dn(a,r),Dn(a,l),Dn(a,c),d||(u=[Wn(t,"click",e[2]),Wn(a,"click",e[3])],d=!0)},p:un,d(e){e&&zn(t),e&&zn(s),e&&zn(a),d=!1,hn(u)}}}function Xu(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m=[he.initial,he.review].includes(e[0]);function h(e,t){return e[0]===he.initial?Gu:e[0]===he.review?Wu:e[0]===he.feedback?ju:void 0}let f=h(e),_=f&&f(e),w=m&&Vu(e);return{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),i=qn(),s=Bn("div"),a=Bn("button"),r=qn(),_&&_.c(),l=qn(),w&&w.c(),Zn(o,"class","logo svelte-rl2s44"),Zn(a,"class","close-icon svelte-rl2s44"),Zn(s,"class","content svelte-rl2s44"),Zn(n,"class","body svelte-rl2s44"),Zn(t,"class","container svelte-rl2s44")},m(c,d){Pn(c,t,d),Dn(t,n),Dn(n,o),Dn(n,i),Dn(n,s),Dn(s,a),Dn(s,r),_&&_.m(s,null),Dn(t,l),w&&w.m(t,null),u=!0,p||(g=Wn(a,"click",(function(){fn(e[1])&&e[1].apply(this,arguments)})),p=!0)},p(n,[o]){f===(f=h(e=n))&&_?_.p(e,o):(_&&_.d(1),_=f&&f(e),_&&(_.c(),_.m(s,null))),1&o&&(m=[he.initial,he.review].includes(e[0])),m?w?w.p(e,o):(w=Vu(e),w.c(),w.m(t,null)):w&&(w.d(1),w=null)},i(e){u||(Lo((()=>{d&&d.end(1),c=Uo(t,fly,{x:100,duration:1e3}),c.start()})),u=!0)},o(e){c&&c.invalidate(),d=qo(t,fly,{x:100,duration:1e3}),u=!1},d(e){e&&zn(t),_&&_.d(),w&&w.d(),e&&d&&d.end(),p=!1,g()}}}function Qu(e,t,n){_o("deepl_settings",di),_o("deepl_website_settings",Jo);let{onClose:o}=t,{reviewStage:i=he.initial}=t;return e.$$set=e=>{"onClose"in e&&n(1,o=e.onClose),"reviewStage"in e&&n(0,i=e.reviewStage)},[i,o,function(){di.set({shouldDisplayFeedbackPopup:!0}),Xt({action:"dlExternalURLRedirect",payload:{destination:$a}}),o()},function(){n(0,i=he.review)},function(){let e=Ta;chrome.runtime.id===ue&&(e=Ea),Xt({action:"dlExternalURLRedirect",payload:{destination:e}}),o()}]}window.customElements.define("deepl-input-highlighter",qu);class Yu extends Zo{constructor(e){super(),Vo(this,e,Qu,Xu,_n,{onClose:1,reviewStage:0})}}class Ju extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM({reviewStage:e}){this.shadowContainer.style.cssText=`position: fixed; bottom: 32px; right: 32px; z-index: ${L.deepl_inline_ui.z_index}`,this.mainComponent=new Yu({target:this.shadowContainer,props:{onClose:this.cleanupDOM,reviewStage:e}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function ep(t,n,o){switch(t.action){case"dlTranslate":t.sourceLang&&zs(t.sourceLang,m),o();break;case"dlShowOriginal":Jo.update({translationState:r}),o();break;case"dlDefaultPopUpMounting":e.websiteData.translationState===i&&xi(),Li(),o();break;case"dlTabChanged":setTimeout(qs,500),o();break;case"dlTranslateInline":qs().then((()=>Rs(t))),o();break;case"dlTranslateSelectionRightClick":qs().then((()=>Ps(t.payload))),o();break;case"dlGetWebsiteData":qs().then((()=>o(e.websiteData)));break;case"dlShowNotification":Ai(t.payload.type,t.payload.options),o();break;case"dlErrorVisibility":console.log("content listener",t),Ks(t.payload.state),o();break;case"dlShowAskForAReviewPopup":Pi(he.initial),o();break;case"dlInjectInputHighlighter":Ri()}return!0}window.customElements.define("deepl-ask-for-review-popup",Ju);const tp=()=>!_t();document.dispatchEvent(new CustomEvent("deepl-reset-event"));try{chrome.runtime.onMessage.addListener(ep),en((()=>{Jo.update({translationState:r}),ei(),chrome.runtime.onMessage.removeListener(ep)}))}catch(e){console.error(e),it(e.message)}try{Bi(window.location.host),Xs(window.location.host),Fi(window.location.href),window.addEventListener("load",Ws),tp()&&Gs(),Vs(),Hi(window.location.host)}catch(e){console.error(e),it(e.message)}const np=e=>({}),op=e=>({}),ip=e=>({}),sp=e=>({}),ap=e=>({}),rp=e=>({}),lp=e=>({}),cp=e=>({}),dp=e=>({}),up=e=>({}),pp=e=>({}),gp=e=>({});function mp(e){let t,n;const o=e[3].warning,i=$n(o,e,e[2],gp);return{c(){t=Bn("div"),i&&i.c(),Zn(t,"class","alert-warning svelte-febp1q")},m(e,o){Pn(e,t,o),i&&i.m(t,null),n=!0},p(e,t){i&&i.p&&(!n||4&t)&&xn(i,o,e,e[2],n?yn(o,e[2],t,pp):Cn(e[2]),gp)},i(e){n||(Ho(i,e),n=!0)},o(e){Bo(i,e),n=!1},d(e){e&&zn(t),i&&i.d(e)}}}function hp(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m,h,f,_,w,v,$,b,y=e[1]&&mp(e);const x=e[3].header,C=$n(x,e,e[2],up),T=e[3].usp1,E=$n(T,e,e[2],cp),L=e[3].usp2,S=$n(L,e,e[2],rp),k=e[3].usp3,M=$n(k,e,e[2],sp),O=e[3].graphics,N=$n(O,e,e[2],op);return{c(){t=Bn("div"),n=Bn("div"),o=Bn("span"),i=qn(),s=Bn("button"),a=qn(),y&&y.c(),r=qn(),l=Bn("h2"),C&&C.c(),c=qn(),d=Bn("ul"),u=Bn("li"),E&&E.c(),p=qn(),g=Bn("li"),S&&S.c(),m=qn(),h=Bn("li"),M&&M.c(),f=qn(),_=Bn("div"),N&&N.c(),Zn(o,"class","logo svelte-febp1q"),Zn(s,"class","close-button svelte-febp1q"),Zn(n,"class","header svelte-febp1q"),Zn(l,"class","header svelte-febp1q"),Zn(u,"class","svelte-febp1q"),Zn(g,"class","svelte-febp1q"),Zn(h,"class","svelte-febp1q"),Zn(d,"class","ups svelte-febp1q"),Zn(_,"class","graphics"),Zn(t,"class","dl-onboarding-container svelte-febp1q")},m(w,x){Pn(w,t,x),Dn(t,n),Dn(n,o),Dn(n,i),Dn(n,s),Dn(t,a),y&&y.m(t,null),Dn(t,r),Dn(t,l),C&&C.m(l,null),Dn(t,c),Dn(t,d),Dn(d,u),E&&E.m(u,null),Dn(d,p),Dn(d,g),S&&S.m(g,null),Dn(d,m),Dn(d,h),M&&M.m(h,null),Dn(t,f),Dn(t,_),N&&N.m(_,null),v=!0,$||(b=Wn(s,"click",(function(){fn(e[0])&&e[0].apply(this,arguments)})),$=!0)},p(n,[o]){(e=n)[1]?y?(y.p(e,o),2&o&&Ho(y,1)):(y=mp(e),y.c(),Ho(y,1),y.m(t,r)):y&&(Po(),Bo(y,1,1,(()=>{y=null})),zo()),C&&C.p&&(!v||4&o)&&xn(C,x,e,e[2],v?yn(x,e[2],o,dp):Cn(e[2]),up),E&&E.p&&(!v||4&o)&&xn(E,T,e,e[2],v?yn(T,e[2],o,lp):Cn(e[2]),cp),S&&S.p&&(!v||4&o)&&xn(S,L,e,e[2],v?yn(L,e[2],o,ap):Cn(e[2]),rp),M&&M.p&&(!v||4&o)&&xn(M,k,e,e[2],v?yn(k,e[2],o,ip):Cn(e[2]),sp),N&&N.p&&(!v||4&o)&&xn(N,O,e,e[2],v?yn(O,e[2],o,np):Cn(e[2]),op)},i(e){v||(Ho(y),Ho(C,e),Ho(E,e),Ho(S,e),Ho(M,e),Ho(N,e),w||Lo((()=>{w=Uo(t,ea,{y:-5,duration:500}),w.start()})),v=!0)},o(e){Bo(y),Bo(C,e),Bo(E,e),Bo(S,e),Bo(M,e),Bo(N,e),v=!1},d(e){e&&zn(t),y&&y.d(),C&&C.d(e),E&&E.d(e),S&&S.d(e),M&&M.d(e),N&&N.d(e),$=!1,b()}}}function fp(e,t,n){let{$$slots:o={},$$scope:i}=t,{onClose:s}=t,{hasWarning:a}=t;return e.$$set=e=>{"onClose"in e&&n(0,s=e.onClose),"hasWarning"in e&&n(1,a=e.hasWarning),"$$scope"in e&&n(2,i=e.$$scope)},[s,a,i,o]}class _p extends Zo{constructor(e){super(),Vo(this,e,fp,hp,_n,{onClose:0,hasWarning:1})}}function wp(e){let t,n=chrome.i18n.getMessage("ui_gdocs_onboarding_title")+"";return{c(){t=Bn("span"),Zn(t,"slot","header")},m(e,o){Pn(e,t,o),t.innerHTML=n},p:un,d(e){e&&zn(t)}}}function vp(e){let t,n=chrome.i18n.getMessage("ui_gdocs_onboarding_usp_1")+"";return{c(){t=Bn("span"),Zn(t,"slot","usp1")},m(e,o){Pn(e,t,o),t.innerHTML=n},p:un,d(e){e&&zn(t)}}}function $p(e){let t,n=chrome.i18n.getMessage("ui_gdocs_onboarding_usp_2")+"";return{c(){t=Bn("span"),Zn(t,"slot","usp2")},m(e,o){Pn(e,t,o),t.innerHTML=n},p:un,d(e){e&&zn(t)}}}function bp(e){let t,n=chrome.i18n.getMessage("ui_gdocs_onboarding_usp_3")+"";return{c(){t=Bn("span"),Zn(t,"slot","usp3")},m(e,o){Pn(e,t,o),t.innerHTML=n},p:un,d(e){e&&zn(t)}}}function yp(e){let t,n,o=chrome.i18n.getMessage("ui_gdocs_onboarding_image_text")+"";return{c(){t=Bn("div"),n=Bn("div"),Zn(n,"class","text-box svelte-6bb15d"),Zn(t,"slot","graphics"),Zn(t,"class","onboarding-graphics svelte-6bb15d")},m(e,i){Pn(e,t,i),Dn(t,n),n.innerHTML=o},p:un,d(e){e&&zn(t)}}}function xp(e){let t,n;return t=new _p({props:{onClose:e[0],$$slots:{graphics:[yp],usp3:[bp],usp2:[$p],usp1:[vp],header:[wp]},$$scope:{ctx:e}}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.onClose=e[0]),4&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Cp(e,t,n){let{onClose:o}=t;return mo((()=>{Xt({action:"dlTrackOnboardingModalShown",payload:{nicheIntegration:ve.gdocs}})})),e.$$set=e=>{"onClose"in e&&n(0,o=e.onClose)},[o]}class Tp extends Zo{constructor(e){super(),Vo(this,e,Cp,xp,_n,{onClose:0})}}function Ep(e){let t,n,o,i;return n=new wc({props:{websiteSettings:Jo,platformBehaviour:ve.gdocs,translateGDocsSelection:e[7]}}),{c(){t=Bn("div"),jo(n.$$.fragment),Zn(t,"class","dl-gdocs-icon svelte-1qdjymc"),Qn(t,"top",e[4].top),Qn(t,"left",e[4].left)},m(e,o){Pn(e,t,o),Wo(n,t,null),i=!0},p(e,n){(!i||16&n[0])&&Qn(t,"top",e[4].top),(!i||16&n[0])&&Qn(t,"left",e[4].left)},i(e){i||(Ho(n.$$.fragment,e),o||Lo((()=>{o=Uo(t,Js,{x:-5,duration:300}),o.start()})),i=!0)},o(e){Bo(n.$$.fragment,e),i=!1},d(e){e&&zn(t),Go(n)}}}function Lp(e){let t,n;return t=new Tp({props:{onClose:e[8]}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};8&n[0]&&(o.onClose=e[8]),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Sp(e){let t,n,o,i=!e[1]&&!e[2]&&Ep(e),s=e[3]&&Lp(e);return{c(){i&&i.c(),t=qn(),s&&s.c(),n=jn()},m(e,a){i&&i.m(e,a),Pn(e,t,a),s&&s.m(e,a),Pn(e,n,a),o=!0},p(e,o){e[1]||e[2]?i&&(Po(),Bo(i,1,1,(()=>{i=null})),zo()):i?(i.p(e,o),6&o[0]&&Ho(i,1)):(i=Ep(e),i.c(),Ho(i,1),i.m(t.parentNode,t)),e[3]?s?(s.p(e,o),8&o[0]&&Ho(s,1)):(s=Lp(e),s.c(),Ho(s,1),s.m(n.parentNode,n)):s&&(Po(),Bo(s,1,1,(()=>{s=null})),zo())},i(e){o||(Ho(i),Ho(s),o=!0)},o(e){Bo(i),Bo(s),o=!1},d(e){i&&i.d(e),e&&zn(t),s&&s.d(e),e&&zn(n)}}}function kp(e,t,n){let o;vn(e,di,(e=>n(14,o=e))),_o("deepl_settings",di),_o("deepl_website_settings",Jo);let i,s,a,r,{replaceData:l}=t,c=!0,d=!1,u=!1,p=!1,g={top:0,left:0};const m=e=>{u=!0,e&&(r=e),De()},h=()=>{const{shouldBeOutOfViewport:e,newPosition:{left:t,top:o}}=Pe();e!==d&&n(2,d=e),n(4,g.left=`${Math.round(t)}px`,g),n(4,g.top=`${Math.round(o)}px`,g)},f=()=>{i=setInterval((()=>{const e=!Ae().text;!e&&c&&h(),e&&!c&&(()=>{if(!o.isInlineHighlighterShown){di.set({isInlineHighlighterShown:!0});try{Xt({action:"dltrackCloseInlineHighlighter",payload:{trigger:we}})}catch(e){console.error(e)}}})(),n(1,c=e)}),300)},_=()=>{const e=document.querySelector("#docs-instant-bubble");a=new MutationObserver((()=>{h()}));return a.observe(e,{attributes:!0,childList:!1,characterData:!1}),()=>a.unobserve()},w=async e=>{u&&"ClipboardEvent"===e.constructor.name&&(u=!1,Hs({event:e,targetLang:r}))},v=()=>{f(),(()=>{const e=document.querySelector("#kix-appview");s=new MutationObserver((()=>{document.querySelector("#docs-instant-bubble")&&(h(),_())})),s.observe(e,{attributes:!1,childList:!0,characterData:!1})})(),(()=>{const e=new ResizeObserver((()=>{h()}));e.observe(document.body)})(),document.querySelector("#kix-appview .kix-appview-editor").addEventListener("scroll",h),(()=>{const{editable:e}=Ie();e.addEventListener("copy",w)})()},$=()=>{s&&s.disconnect(),a&&a.disconnect(),i&&clearInterval(i),document.querySelector("#kix-appview .kix-appview-editor").removeEventListener("scroll",h),(()=>{const{editable:e}=Ie();e.removeEventListener("copy",w)})()};mo((()=>{v(),o.isGDocsOnboardingShown||(n(3,p=!0),En(di,o.isGDocsOnboardingShown=!0,o))})),ho((()=>{$()}));return e.$$set=e=>{"replaceData"in e&&n(5,l=e.replaceData)},[m,c,d,p,g,l,()=>{l&&We(l)},({targetLang:e})=>{m(e)},()=>n(3,p=!1)]}class Mp extends Zo{constructor(e){super(),Vo(this,e,kp,Sp,_n,{replaceData:5,applyReplacement:6,requestTranslation:0},null,[-1,-1])}get applyReplacement(){return this.$$.ctx[6]}get requestTranslation(){return this.$$.ctx[0]}}class Op extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this),this.setReplaceData=this.setReplaceData.bind(this),this.applyReplacement=this.applyReplacement.bind(this),this.requestNewTranslation=this.requestNewTranslation.bind(this)}createDOM(){this.mainComponent=new Mp({target:this.shadowContainer,props:{onClose:this.cleanupDOM}})}setReplaceData(e){this.mainComponent.$$set({replaceData:e})}applyReplacement(){this.mainComponent.applyReplacement()}requestNewTranslation(e){this.mainComponent.requestTranslation(e)}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Np(e){let t,n,o,i,s,a;return{c(){t=Bn("div"),n=Bn("span"),n.textContent=`${chrome.i18n.getMessage("inline_translation_link_more_settings")}`,o=qn(),i=Bn("span"),Zn(i,"class","icon icon-external-link  svelte-zb9mtj"),Zn(t,"class","settings-link svelte-zb9mtj")},m(r,l){Pn(r,t,l),Dn(t,n),Dn(t,o),Dn(t,i),s||(a=Wn(t,"click",Vn(Gn(e[0]))),s=!0)},p:un,i:un,o:un,d(e){e&&zn(t),s=!1,a()}}}function Ip(e,t,n){let{page:o=ur.settings_page}=t;return e.$$set=e=>{"page"in e&&n(1,o=e.page)},[function(){Xt({action:"dlOpenInternalPage",payload:{destination:o}})},o]}window.customElements.define("deepl-gdocs-icon",Op);class Dp extends Zo{constructor(e){super(),Vo(this,e,Ip,Np,_n,{page:1})}}function Ap(e){let t,n,o;return{c(){t=Bn("button"),Zn(t,"type","button"),Zn(t,"class","close-icon svelte-90kudc")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",e[0]),n=!0)},p:un,i:un,o:un,d(e){e&&zn(t),n=!1,o()}}}function Rp(e){return[function(t){vo.call(this,e,t)}]}class Pp extends Zo{constructor(e){super(),Vo(this,e,Rp,Ap,_n,{})}}function zp(e){let t,n,o,i,s,a,r,l,c,d,u,p,g;return i=new Pp({}),i.$on("click",e[2]),c=new jr({props:{value:e[0].selectedTargetLanguage}}),c.$on("selection",e[3]),p=new Dp({}),{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),jo(i.$$.fragment),s=qn(),a=Bn("div"),r=Bn("p"),r.textContent=`${chrome.i18n.getMessage("whatsapp_web_settings_languageswitch_label")}`,l=qn(),jo(c.$$.fragment),d=qn(),u=Bn("div"),jo(p.$$.fragment),Zn(o,"class","close-icon-container svelte-1xs7ag1"),Zn(n,"class","header"),Zn(r,"class","label-language-switch svelte-1xs7ag1"),Zn(a,"class","body svelte-1xs7ag1"),Zn(u,"class","footer svelte-1xs7ag1"),Zn(t,"class","container svelte-1xs7ag1")},m(e,m){Pn(e,t,m),Dn(t,n),Dn(n,o),Wo(i,o,null),Dn(t,s),Dn(t,a),Dn(a,r),Dn(a,l),Wo(c,a,null),Dn(t,d),Dn(t,u),Wo(p,u,null),g=!0},p(e,[t]){const n={};1&t&&(n.value=e[0].selectedTargetLanguage),c.$set(n)},i(e){g||(Ho(i.$$.fragment,e),Ho(c.$$.fragment,e),Ho(p.$$.fragment,e),g=!0)},o(e){Bo(i.$$.fragment,e),Bo(c.$$.fragment,e),Bo(p.$$.fragment,e),g=!1},d(e){e&&zn(t),Go(i),Go(c),Go(p)}}}function Hp(e,t,n){let o;const i=wo("deepl_settings");vn(e,i,(e=>n(0,o=e)));const s=fo();return[o,i,function(){s("close")},e=>i.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0,regionalVariant:e.detail.selectedOption.regionalVariant||""})]}class Bp extends Zo{constructor(e){super(),Vo(this,e,Hp,zp,_n,{})}}function Fp(e){return/\bdark\b/gm.test(e)}const Up=function(){let e={isDarkMode:Fp(document.body.className)};const{subscribe:t,update:n}=Xo(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"class"===e.attributeName&&n((e=>({...e,isDarkMode:Fp(document.body.className)})))}))}));return o.observe(document.body,{attributes:!0}),en((()=>{o.disconnect()})),{subscribe:t}}();function qp(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m;const h=[Wp,jp],f=[];function _(e,t){return e[2]?0:1}return n=_(e),o=f[n]=h[n](e),{c(){t=Bn("div"),o.c(),i=qn(),s=Bn("div"),s.textContent=`${chrome.i18n.getMessage("whatsapp_web_show_alternatives_link")}`,a=qn(),r=Bn("button"),l=Fn("svg"),c=Fn("path"),Zn(s,"class","show-alternatives svelte-1csju44"),no(s,"dark",e[5]),Zn(c,"d","M3 9L9 3M3 3L9 9"),Zn(c,"stroke",d=e[3]&&e[3].isDarkMode?"#F2F4F7":"#037171"),Zn(c,"stroke-width","1.5"),Zn(c,"stroke-linecap","round"),Zn(c,"stroke-linejoin","round"),Zn(l,"width","12"),Zn(l,"height","12"),Zn(l,"viewBox","0 0 12 12"),Zn(l,"fill","none"),Zn(l,"xmlns","http://www.w3.org/2000/svg"),Zn(r,"class","svelte-1csju44"),Zn(t,"class","container svelte-1csju44"),no(t,"dark",e[5])},m(o,d){Pn(o,t,d),f[n].m(t,null),Dn(t,i),Dn(t,s),Dn(t,a),Dn(t,r),Dn(r,l),Dn(l,c),p=!0,g||(m=[Wn(s,"click",e[6]),Wn(r,"click",(function(){fn(e[1])&&e[1].apply(this,arguments)}))],g=!0)},p(a,r){let l=n;n=_(e=a),n===l?f[n].p(e,r):(Po(),Bo(f[l],1,1,(()=>{f[l]=null})),zo(),o=f[n],o?o.p(e,r):(o=f[n]=h[n](e),o.c()),Ho(o,1),o.m(t,i)),(!p||32&r)&&no(s,"dark",e[5]),(!p||8&r&&d!==(d=e[3]&&e[3].isDarkMode?"#F2F4F7":"#037171"))&&Zn(c,"stroke",d),(!p||32&r)&&no(t,"dark",e[5])},i(e){p||(Ho(o),u||Lo((()=>{u=Uo(t,ea,{y:-10,duration:200}),u.start()})),p=!0)},o(e){Bo(o),p=!1},d(e){e&&zn(t),f[n].d(),g=!1,hn(m)}}}function jp(e){let t,n;return{c(){t=Bn("span"),n=Un(e[0]),Zn(t,"class","translatedText svelte-1csju44")},m(e,o){Pn(e,t,o),Dn(t,n)},p(e,t){1&t&&Kn(n,e[0])},i:un,o:un,d(e){e&&zn(t)}}}function Wp(e){let t,n;return t=new nr({props:{error:e[2]}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Gp(e){let t,n,o=e[4]&&qp(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,[n]){e[4]?o?(o.p(e,n),16&n&&Ho(o,1)):(o=qp(e),o.c(),Ho(o,1),o.m(t.parentNode,t)):o&&(Po(),Bo(o,1,1,(()=>{o=null})),zo())},i(e){n||(Ho(o),n=!0)},o(e){Bo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function Vp(e,t,n){let o,i,s;vn(e,di,(e=>n(8,i=e))),vn(e,Up,(e=>n(3,s=e)));let a,r,{translatedText:l}=t,{sourceText:c}=t,{onClose:d}=t,{error:u}=t,p=!1;return setTimeout((()=>n(4,p=!0)),50),e.$$set=e=>{"translatedText"in e&&n(0,l=e.translatedText),"sourceText"in e&&n(7,c=e.sourceText),"onClose"in e&&n(1,d=e.onClose),"error"in e&&n(2,u=e.error)},e.$$.update=()=>{8&e.$$.dirty&&n(5,o=s&&s.isDarkMode),128&e.$$.dirty&&Ye(c).then((e=>{a=e})),256&e.$$.dirty&&(r=i.selectedTargetLanguage)},[l,d,u,s,p,o,function(){Xt({action:"dlExternalURLRedirect",payload:{destination:ya,sourceLang:a,targetLang:r,textToShare:c}})},c,i]}class Zp extends Zo{constructor(e){super(),Vo(this,e,Vp,Gp,_n,{translatedText:0,sourceText:7,onClose:1,error:2})}}class Kp extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this)}createDOM(e,t,n,o){this.mainComponent=new Zp({target:this.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Xp(e){let t,n,o,i;t=new lc({props:{tooltip:chrome.i18n.getMessage("whatsapp_web_tooltip_translate_button"),multiline:!0,zIndex:"0",$$slots:{default:[Yp]},$$scope:{ctx:e}}});let s=e[7]&&Jp(e);return{c(){jo(t.$$.fragment),n=qn(),s&&s.c(),o=jn()},m(e,a){Wo(t,e,a),Pn(e,n,a),s&&s.m(e,a),Pn(e,o,a),i=!0},p(e,n){const i={};134217856&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i),e[7]?s?(s.p(e,n),128&n&&Ho(s,1)):(s=Jp(e),s.c(),Ho(s,1),s.m(o.parentNode,o)):s&&(Po(),Bo(s,1,1,(()=>{s=null})),zo())},i(e){i||(Ho(t.$$.fragment,e),Ho(s),i=!0)},o(e){Bo(t.$$.fragment,e),Bo(s),i=!1},d(e){Go(t,e),e&&zn(n),s&&s.d(e),e&&zn(o)}}}function Qp(e){let t,n;return t=new Vr({props:{small:!0}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p:un,i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Yp(e){let t,n,o;return{c(){t=Bn("div"),t.innerHTML='<svg width="15" height="15" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-ptnx4w"><g clip-path="url(#clip0)"><path d="M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z" fill="#0F2B46"></path><path d="M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z" fill="white"></path><path d="M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z" fill="white"></path></g><defs><clipPath id="clip0"><rect width="18.5294" height="19" fill="white" transform="matrix(-1 0 0 1 18.5294 0)"></rect></clipPath></defs></svg>',Zn(t,"class","translateTrigger svelte-ptnx4w")},m(i,s){Pn(i,t,s),n||(o=[Wn(t,"mouseover",e[20]),Wn(t,"click",e[13])],n=!0)},p:un,d(e){e&&zn(t),n=!1,hn(o)}}}function Jp(e){let t,n;return t=new lc({props:{tooltip:chrome.i18n.getMessage("whatsapp_web_tooltip_settings_button"),multiline:!0,zIndex:"0",$$slots:{default:[eg]},$$scope:{ctx:e}}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};134217792&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function eg(e){let t,n,o,i;return{c(){t=Bn("div"),t.innerHTML='<svg width="15" height="15" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-ptnx4w"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.11001 16.2439H10.71L11.025 14.0488C11.565 13.8732 12.015 13.6098 12.465 13.2585L14.58 14.0488L16.38 10.9756L14.625 9.57073C14.67 9.30732 14.67 9.0439 14.67 8.78049C14.67 8.51707 14.67 8.25366 14.625 7.99024L16.38 6.58537L14.58 3.5122L12.465 4.30244C12.015 3.99512 11.52 3.73171 11.025 3.5122L10.665 1.31707H7.06501L6.70501 3.5122C6.16501 3.68781 5.71501 3.95122 5.26501 4.30244L3.15001 3.5122L1.35001 6.58537L3.10501 7.99024C3.06001 8.25366 3.06001 8.51707 3.06001 8.78049C3.06001 9.0439 3.06001 9.30732 3.10501 9.57073L1.35001 10.9756L3.15001 14.0488L5.31001 13.2585C5.76001 13.5659 6.25501 13.8293 6.75001 14.0488L7.11001 16.2439ZM9.94501 15.3659H7.83001L7.51501 13.3463L7.24501 13.2585C6.66001 13.0829 6.12001 12.7756 5.67001 12.3805L5.44501 12.2049L3.55501 12.9073L2.52001 11.1512L4.09501 9.87805L4.05001 9.61463C4.00501 9.30732 3.96001 9 3.96001 8.73659C3.96001 8.47317 4.00501 8.16585 4.05001 7.85854L4.09501 7.63902L2.52001 6.36585L3.55501 4.60976L5.44501 5.3122L5.67001 5.09268C6.12001 4.69756 6.66001 4.43415 7.24501 4.21463L7.51501 4.12683L7.83001 2.19512H9.94501L10.26 4.21463L10.53 4.30244C11.115 4.47805 11.655 4.78537 12.105 5.18049L12.285 5.3561L14.175 4.65366L15.21 6.40976L13.635 7.68293L13.68 7.94634C13.725 8.25366 13.77 8.56098 13.77 8.82439C13.77 9.08781 13.725 9.39512 13.68 9.70244L13.635 9.96585L15.21 11.239L14.175 12.9951L12.285 12.2927L12.105 12.4683C11.655 12.8634 11.115 13.1268 10.53 13.3463L10.26 13.4341L9.94501 15.3659ZM6.03018 8.78047C6.03018 10.3171 7.29018 11.5463 8.86518 11.5463C10.4402 11.5463 11.7002 10.3171 11.7002 8.78047C11.7002 7.24388 10.4402 6.01461 8.86518 6.01461C7.29018 6.01461 6.03018 7.24388 6.03018 8.78047ZM6.93018 8.78047C6.93018 7.72681 7.78518 6.89266 8.86518 6.89266C9.94518 6.89266 10.8002 7.72681 10.8002 8.78047C10.8002 9.83413 9.94518 10.6683 8.86518 10.6683C7.78518 10.6683 6.93018 9.83413 6.93018 8.78047Z" fill="#0F2B46"></path></svg>',Zn(t,"class","settingsTrigger svelte-ptnx4w")},m(n,s){Pn(n,t,s),o||(i=[Wn(t,"click",e[21]),Wn(t,"mousedown",Vn(Gn(e[19])))],o=!0)},p:un,i(e){n||Lo((()=>{n=Uo(t,ea,{x:-8,duration:600}),n.start()}))},o:un,d(e){e&&zn(t),o=!1,hn(i)}}}function tg(e){let t,n,o,i,s;return n=new Bp({}),n.$on("close",e[22]),{c(){t=Bn("div"),jo(n.$$.fragment),Zn(t,"class","settingsContainer svelte-ptnx4w"),no(t,"isTop",!e[9]),no(t,"isLeft",!e[10])},m(e,o){Pn(e,t,o),Wo(n,t,null),s=!0},p(e,n){(!s||512&n)&&no(t,"isTop",!e[9]),(!s||1024&n)&&no(t,"isLeft",!e[10])},i(e){s||(Ho(n.$$.fragment,e),Lo((()=>{i&&i.end(1),o=Uo(t,ea,{y:-10,duration:600}),o.start()})),s=!0)},o(e){Bo(n.$$.fragment,e),o&&o.invalidate(),i=qo(t,ea,{y:-10,duration:600}),s=!1},d(e){e&&zn(t),Go(n),e&&i&&i.end()}}}function ng(e){let t,n,o,i,s,a,r,l;const c=[Qp,Xp],d=[];function u(e,t){return e[3]?0:1}n=u(e),o=d[n]=c[n](e);let p=e[6]&&tg(e);return{c(){t=Bn("div"),o.c(),i=qn(),p&&p.c(),Zn(t,"class","container svelte-ptnx4w"),Zn(t,"style",s=`top: ${e[5]}px; left: ${e[4]}px; z-index: ${e[12]}; opacity: ${e[11]};`),no(t,"isTranslated",e[2]),no(t,"isHidden",e[0]),no(t,"messageHasReactionIcon",e[8]),no(t,"isExpanded",e[7])},m(o,s){Pn(o,t,s),d[n].m(t,null),Dn(t,i),p&&p.m(t,null),e[23](t),a=!0,r||(l=[Wn(t,"mouseleave",e[24]),Ln(Jt.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[14]),Wn(t,"mousedown",Vn(Gn(e[18])))],r=!0)},p(e,[r]){let l=n;n=u(e),n===l?d[n].p(e,r):(Po(),Bo(d[l],1,1,(()=>{d[l]=null})),zo(),o=d[n],o?o.p(e,r):(o=d[n]=c[n](e),o.c()),Ho(o,1),o.m(t,i)),e[6]?p?(p.p(e,r),64&r&&Ho(p,1)):(p=tg(e),p.c(),Ho(p,1),p.m(t,null)):p&&(Po(),Bo(p,1,1,(()=>{p=null})),zo()),(!a||2096&r&&s!==(s=`top: ${e[5]}px; left: ${e[4]}px; z-index: ${e[12]}; opacity: ${e[11]};`))&&Zn(t,"style",s),(!a||4&r)&&no(t,"isTranslated",e[2]),(!a||1&r)&&no(t,"isHidden",e[0]),(!a||256&r)&&no(t,"messageHasReactionIcon",e[8]),(!a||128&r)&&no(t,"isExpanded",e[7])},i(e){a||(Ho(o),Ho(p),a=!0)},o(e){Bo(o),Bo(p),a=!1},d(o){o&&zn(t),d[n].d(),p&&p.d(),e[23](null),r=!1,hn(l)}}}function og(e,t,n){_o("deepl_settings",di),_o("deepl_website_settings",Jo);let{textElement:o}=t,{messageContainer:i}=t;const s=265,a=150,r=220;let l,c,d,u=!1,p=!0,g=0,m=0,h=!1,f=!1,_=!1,w=L.deepl_inline_ui.z_index,v=!0,$=!0,b=0;function y(){const e=l.parentNode.getBoundingClientRect(),t=nn(i);n(5,m=i.getBoundingClientRect().height/2),n(4,g=t.getBoundingClientRect().right-e.left),setTimeout((()=>{const t=i.querySelector('[data-icon="react"]');t&&(n(4,g=t.getBoundingClientRect().right-e.left),n(17,d=!0)),n(11,b=1)}),a);const o=i.querySelector('[data-a8n="reaction-bubble"]'),c=i.querySelector('[data-testid="reaction-bubble"]');n(8,_=!(!o&&!c)),window.innerHeight-e.bottom<r+m?n(9,v=!1):n(9,v=!0),i.getBoundingClientRect().right-t.getBoundingClientRect().right<s?n(10,$=!1):n(10,$=!0)}i.addEventListener("mouseover",(()=>{n(0,p=!1)}),!1),i.addEventListener("mouseout",(()=>{h||n(0,p=!0)}),!1);return e.$$set=e=>{"textElement"in e&&n(16,o=e.textElement),"messageContainer"in e&&n(15,i=e.messageContainer)},e.$$.update=()=>{131073&e.$$.dirty&&(p||d||y())},[p,l,c,u,g,m,h,f,_,v,$,b,w,async function(){if(c)return;n(3,u=!0),n(6,h=!1);let e,t,s="";try{s=await Ye(o.innerText)}catch(e){console.log(e)}try{t=await Xt({action:"dlRequestWhatsAppMessageTranslation",payload:{message:o.innerText,messageLang:s,domainName:window.location.hostname}})}catch(t){e=t,console.error(e)}n(2,c=e?"":t[0].text),n(3,u=!1);const a=document.createElement("deepl-whatsapp-translated-message");a.createDOM(c,o.innerText,(()=>{n(15,i.dataset.dlIsTranslated="false",i),setTimeout((()=>n(2,c="")),600),a.cleanupDOM(),a.remove()}),e),o.appendChild(a),n(15,i.dataset.dlIsTranslated="true",i)},function(){n(6,h=!1)},i,o,d,function(t){vo.call(this,e,t)},function(t){vo.call(this,e,t)},()=>n(7,f=!0),()=>n(6,h=!h),()=>n(6,h=!1),function(e){bo[e?"unshift":"push"]((()=>{l=e,n(1,l)}))},()=>{h||n(7,f=!1)}]}window.customElements.define("deepl-whatsapp-translated-message",Kp);class ig extends Zo{constructor(e){super(),Vo(this,e,og,ng,_n,{textElement:16,messageContainer:15})}}class sg extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this)}createDOM(e,t){this.mainComponent=new ig({target:this.shadowContainer,props:{textElement:e,messageContainer:t}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function ag(e){let t,n,o,i,s,a,r,l,c,d;return i=new Pp({}),i.$on("click",e[2]),c=new jr({props:{value:e[0].selectedTargetLanguage}}),c.$on("selection",e[3]),{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),jo(i.$$.fragment),s=qn(),a=Bn("div"),r=Bn("p"),r.textContent=`${chrome.i18n.getMessage("whatsapp_web_chat_settings_languageswitch_label")}`,l=qn(),jo(c.$$.fragment),Zn(o,"class","close-icon-container svelte-1vsdnvs"),Zn(n,"class","header"),Zn(r,"class","label-language-switch svelte-1vsdnvs"),Zn(a,"class","body svelte-1vsdnvs"),Zn(t,"class","container svelte-1vsdnvs")},m(e,u){Pn(e,t,u),Dn(t,n),Dn(n,o),Wo(i,o,null),Dn(t,s),Dn(t,a),Dn(a,r),Dn(a,l),Wo(c,a,null),d=!0},p(e,[t]){const n={};1&t&&(n.value=e[0].selectedTargetLanguage),c.$set(n)},i(e){d||(Ho(i.$$.fragment,e),Ho(c.$$.fragment,e),d=!0)},o(e){Bo(i.$$.fragment,e),Bo(c.$$.fragment,e),d=!1},d(e){e&&zn(t),Go(i),Go(c)}}}function rg(e,t,n){let o;const i=wo("deepl_settings");vn(e,i,(e=>n(0,o=e)));const s=fo();return[o,i,function(){s("close")},e=>i.set({selectedTargetLanguage:e.detail.selectedOption.value,isTargetLanguageConfirmed:!0})]}window.customElements.define("deepl-whatsapp-message-in-translator",sg);class lg extends Zo{constructor(e){super(),Vo(this,e,rg,ag,_n,{})}}function cg(e){let t,n,o,i,s,a,r,l;return i=new Pp({}),i.$on("click",e[1]),r=new nr({props:{error:e[0]}}),{c(){t=Bn("div"),n=Bn("div"),o=Bn("div"),jo(i.$$.fragment),s=qn(),a=Bn("div"),jo(r.$$.fragment),Zn(o,"class","close-icon-container svelte-1l2i3ip"),Zn(n,"class","header"),Zn(a,"class","body svelte-1l2i3ip"),Zn(t,"class","container svelte-1l2i3ip")},m(e,c){Pn(e,t,c),Dn(t,n),Dn(n,o),Wo(i,o,null),Dn(t,s),Dn(t,a),Wo(r,a,null),l=!0},p:un,i(e){l||(Ho(i.$$.fragment,e),Ho(r.$$.fragment,e),l=!0)},o(e){Bo(i.$$.fragment,e),Bo(r.$$.fragment,e),l=!1},d(e){e&&zn(t),Go(i),Go(r)}}}function dg(e){const t=fo();return[undefined,function(){t("close")}]}class ug extends Zo{constructor(e){super(),Vo(this,e,dg,cg,_n,{})}}function pg(e){let t,n,o,i,s;return n=new ug({props:{error:e[3]}}),n.$on("close",e[6]),{c(){t=Bn("div"),jo(n.$$.fragment),Zn(t,"class","errorContainer svelte-j6tuh")},m(e,o){Pn(e,t,o),Wo(n,t,null),s=!0},p(e,t){const o={};8&t&&(o.error=e[3]),n.$set(o)},i(e){s||(Ho(n.$$.fragment,e),Lo((()=>{i&&i.end(1),o=Uo(t,ea,{y:30,duration:600}),o.start()})),s=!0)},o(e){Bo(n.$$.fragment,e),o&&o.invalidate(),i=qo(t,ea,{y:30,duration:600}),s=!1},d(e){e&&zn(t),Go(n),e&&i&&i.end()}}}function gg(e){let t,n,o,i,s;return n=new lg({}),n.$on("close",e[7]),{c(){t=Bn("div"),jo(n.$$.fragment),Zn(t,"class","settingsContainer svelte-j6tuh")},m(e,o){Pn(e,t,o),Wo(n,t,null),s=!0},p:un,i(e){s||(Ho(n.$$.fragment,e),Lo((()=>{i&&i.end(1),o=Uo(t,ea,{y:30,duration:600}),o.start()})),s=!0)},o(e){Bo(n.$$.fragment,e),o&&o.invalidate(),i=qo(t,ea,{y:30,duration:600}),s=!1},d(e){e&&zn(t),Go(n),e&&i&&i.end()}}}function mg(e){let t,n,o,i;return n=new lc({props:{tooltip:chrome.i18n.getMessage("whatsapp_web_chat_translator_tooltip_settings_button"),multiline:!0,width:34,$$slots:{default:[hg]},$$scope:{ctx:e}}}),{c(){t=Bn("div"),jo(n.$$.fragment),Zn(t,"class","expanded-background svelte-j6tuh")},m(e,o){Pn(e,t,o),Wo(n,t,null),i=!0},p(e,t){const o={};16386&t&&(o.$$scope={dirty:t,ctx:e}),n.$set(o)},i(e){i||(Ho(n.$$.fragment,e),o||Lo((()=>{o=Uo(t,ea,{x:9,duration:600}),o.start()})),i=!0)},o(e){Bo(n.$$.fragment,e),i=!1},d(e){e&&zn(t),Go(n)}}}function hg(e){let t,n,o;return{c(){t=Bn("div"),t.innerHTML='<svg width="22" height="22" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.11001 16.2439H10.71L11.025 14.0488C11.565 13.8732 12.015 13.6098 12.465 13.2585L14.58 14.0488L16.38 10.9756L14.625 9.57073C14.67 9.30732 14.67 9.0439 14.67 8.78049C14.67 8.51707 14.67 8.25366 14.625 7.99024L16.38 6.58537L14.58 3.5122L12.465 4.30244C12.015 3.99512 11.52 3.73171 11.025 3.5122L10.665 1.31707H7.06501L6.70501 3.5122C6.16501 3.68781 5.71501 3.95122 5.26501 4.30244L3.15001 3.5122L1.35001 6.58537L3.10501 7.99024C3.06001 8.25366 3.06001 8.51707 3.06001 8.78049C3.06001 9.0439 3.06001 9.30732 3.10501 9.57073L1.35001 10.9756L3.15001 14.0488L5.31001 13.2585C5.76001 13.5659 6.25501 13.8293 6.75001 14.0488L7.11001 16.2439ZM9.94501 15.3659H7.83001L7.51501 13.3463L7.24501 13.2585C6.66001 13.0829 6.12001 12.7756 5.67001 12.3805L5.44501 12.2049L3.55501 12.9073L2.52001 11.1512L4.09501 9.87805L4.05001 9.61463C4.00501 9.30732 3.96001 9 3.96001 8.73659C3.96001 8.47317 4.00501 8.16585 4.05001 7.85854L4.09501 7.63902L2.52001 6.36585L3.55501 4.60976L5.44501 5.3122L5.67001 5.09268C6.12001 4.69756 6.66001 4.43415 7.24501 4.21463L7.51501 4.12683L7.83001 2.19512H9.94501L10.26 4.21463L10.53 4.30244C11.115 4.47805 11.655 4.78537 12.105 5.18049L12.285 5.3561L14.175 4.65366L15.21 6.40976L13.635 7.68293L13.68 7.94634C13.725 8.25366 13.77 8.56098 13.77 8.82439C13.77 9.08781 13.725 9.39512 13.68 9.70244L13.635 9.96585L15.21 11.239L14.175 12.9951L12.285 12.2927L12.105 12.4683C11.655 12.8634 11.115 13.1268 10.53 13.3463L10.26 13.4341L9.94501 15.3659ZM6.03018 8.78047C6.03018 10.3171 7.29018 11.5463 8.86518 11.5463C10.4402 11.5463 11.7002 10.3171 11.7002 8.78047C11.7002 7.24388 10.4402 6.01461 8.86518 6.01461C7.29018 6.01461 6.03018 7.24388 6.03018 8.78047ZM6.93018 8.78047C6.93018 7.72681 7.78518 6.89266 8.86518 6.89266C9.94518 6.89266 10.8002 7.72681 10.8002 8.78047C10.8002 9.83413 9.94518 10.6683 8.86518 10.6683C7.78518 10.6683 6.93018 9.83413 6.93018 8.78047Z" fill="#0F2B46"></path></svg>',Zn(t,"class","icon-container svelte-j6tuh")},m(i,s){Pn(i,t,s),n||(o=[Wn(t,"click",e[8]),Wn(t,"mousedown",Vn(Gn(e[5])))],n=!0)},p:un,d(e){e&&zn(t),n=!1,hn(o)}}}function fg(e){let t,n,o,i,s,a,r,l;return{c(){t=Fn("svg"),n=Fn("g"),o=Fn("path"),i=Fn("path"),s=Fn("path"),a=Fn("defs"),r=Fn("clipPath"),l=Fn("rect"),Zn(o,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),Zn(o,"fill","#0F2B46"),Zn(i,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),Zn(i,"fill","white"),Zn(s,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),Zn(s,"fill","white"),Zn(n,"clip-path","url(#clip0)"),Zn(l,"width","18.5294"),Zn(l,"height","19"),Zn(l,"fill","white"),Zn(l,"transform","matrix(-1 0 0 1 18.5294 0)"),Zn(r,"id","clip0"),Zn(t,"width","22"),Zn(t,"height","22"),Zn(t,"viewBox","0 0 19 19"),Zn(t,"fill","none"),Zn(t,"xmlns","http://www.w3.org/2000/svg")},m(e,c){Pn(e,t,c),Dn(t,n),Dn(n,o),Dn(n,i),Dn(n,s),Dn(t,a),Dn(a,r),Dn(r,l)},i:un,o:un,d(e){e&&zn(t)}}}function _g(e){let t,n;return t=new Vr({}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function wg(e){let t,n,o,i,s,a;const r=[_g,fg],l=[];function c(e,t){return e[2]?0:1}return n=c(e),o=l[n]=r[n](e),{c(){t=Bn("div"),o.c(),Zn(t,"class","icon-container svelte-j6tuh")},m(o,r){Pn(o,t,r),l[n].m(t,null),i=!0,s||(a=[Wn(t,"click",e[4]),Wn(t,"mouseover",e[9])],s=!0)},p(e,i){let s=n;n=c(e),n!==s&&(Po(),Bo(l[s],1,1,(()=>{l[s]=null})),zo(),o=l[n],o||(o=l[n]=r[n](e),o.c()),Ho(o,1),o.m(t,null))},i(e){i||(Ho(o),i=!0)},o(e){Bo(o),i=!1},d(e){e&&zn(t),l[n].d(),s=!1,hn(a)}}}function vg(e){let t,n,o,i,s,a,r,l,c=e[3]&&pg(e),d=e[1]&&gg(e),u=e[0]&&mg(e);return s=new lc({props:{tooltip:chrome.i18n.getMessage("whatsapp_web_chat_translator_tooltip_translate_button"),multiline:!0,$$slots:{default:[wg]},$$scope:{ctx:e}}}),{c(){c&&c.c(),t=qn(),d&&d.c(),n=qn(),o=Bn("div"),u&&u.c(),i=qn(),jo(s.$$.fragment),Zn(o,"class","container svelte-j6tuh")},m(p,g){c&&c.m(p,g),Pn(p,t,g),d&&d.m(p,g),Pn(p,n,g),Pn(p,o,g),u&&u.m(o,null),Dn(o,i),Wo(s,o,null),a=!0,r||(l=Wn(o,"mouseleave",e[10]),r=!0)},p(e,[a]){e[3]?c?(c.p(e,a),8&a&&Ho(c,1)):(c=pg(e),c.c(),Ho(c,1),c.m(t.parentNode,t)):c&&(Po(),Bo(c,1,1,(()=>{c=null})),zo()),e[1]?d?(d.p(e,a),2&a&&Ho(d,1)):(d=gg(e),d.c(),Ho(d,1),d.m(n.parentNode,n)):d&&(Po(),Bo(d,1,1,(()=>{d=null})),zo()),e[0]?u?(u.p(e,a),1&a&&Ho(u,1)):(u=mg(e),u.c(),Ho(u,1),u.m(o,i)):u&&(Po(),Bo(u,1,1,(()=>{u=null})),zo());const r={};16389&a&&(r.$$scope={dirty:a,ctx:e}),s.$set(r)},i(e){a||(Ho(c),Ho(d),Ho(u),Ho(s.$$.fragment,e),a=!0)},o(e){Bo(c),Bo(d),Bo(u),Bo(s.$$.fragment,e),a=!1},d(e){c&&c.d(e),e&&zn(t),d&&d.d(e),e&&zn(n),e&&zn(o),u&&u.d(),Go(s),r=!1,l()}}}function $g(e,t,n){let o,i,s,a,r,l;function c(){l!==o.selectedTargetLanguage&&function(){const e=document.body.querySelectorAll(".message-in");if(e)for(let t of e){const e=t.querySelector("deepl-whatsapp-translated-message");e&&(t.dataset.dlIsTranslated="false",e.remove())}}();const e=[],t=document.body.querySelectorAll(".message-in"),n=Array.prototype.slice.call(t).reverse();let i=0;for(let t of n){const n=t.querySelector(".selectable-text.copyable-text");n&&n.innerText&&!si(n.innerText)&&i<1e3-n.innerText.length&&"true"!==t.dataset.dlIsTranslated&&(i+=n.innerText.length,e.push([t,n]))}return e}vn(e,di,(e=>n(12,o=e))),_o("deepl_settings",di),_o("deepl_website_settings",Jo);return[i,s,a,r,async function(){const e=c();let t;n(3,r=void 0),n(2,a=!0);let i,s=[];try{let t=new Map;for(let n of e){const e=await Ye(n[1].innerText);s.includes(e)?t.set(e,t.get(e)+1):(s.push(e),t.set(e,1))}i=[...t.entries()].reduce(((e,t)=>t[1]>e[1]?t:e))[0]}catch(e){console.error(e)}try{t=await Xt({action:"dlRequestWhatsAppMessagesTranslation",payload:{messages:e.map((e=>e[1].innerText)),messageLang:i,detectedLanguages:s,domainName:window.location.hostname}}),l=o.selectedTargetLanguage;const n=t[0].texts;for(let[t,o]of e.entries()){const e=document.createElement("deepl-whatsapp-translated-message"),i=o[0].querySelector("deepl-whatsapp-message-in-translator");i&&(i.remove(),o[0].dataset.dlHasMessageTranslator="false");const s=()=>{o[0].dataset.dlIsTranslated="false",setTimeout((()=>{}),600),e.cleanupDOM(),e.remove()};e.createDOM(n[t],o[1].innerText,s,void 0),o[1].appendChild(e),o[0].dataset.dlIsTranslated="true"}}catch(e){n(3,r=e),console.error(r)}n(2,a=!1)},function(t){vo.call(this,e,t)},()=>n(3,r=void 0),()=>n(1,s=!1),()=>n(1,s=!s),()=>n(0,i=!0),()=>{s||n(0,i=!1)}]}class bg extends Zo{constructor(e){super(),Vo(this,e,$g,vg,_n,{})}}class yg extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this)}createDOM(){this.mainComponent=new bg({target:this.shadowContainer})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}window.customElements.define("deepl-whatsapp-messages-in-translator",yg);function xg(e){return"rgb(0, 0, 0)"===e||"rgb(21, 32, 43)"===e}const Cg=function(){let e={isDarkMode:xg(document.body.style.backgroundColor)};const{subscribe:t,update:n}=Xo(e);let o=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type&&"style"===e.attributeName&&n((e=>({...e,isDarkMode:xg(document.body.style.backgroundColor)})))}))}));return o.observe(document.body,{attributes:!0}),en((()=>{o.disconnect()})),{subscribe:t}}();function Tg(e){let t,n;return{c(){t=Bn("span"),n=Un(e[0]),Zn(t,"class","translatedText svelte-1dl3vos")},m(e,o){Pn(e,t,o),Dn(t,n)},p(e,t){1&t&&Kn(n,e[0])},i:un,o:un,d(e){e&&zn(t)}}}function Eg(e){let t,n;return t=new nr({props:{error:e[2]}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.error=e[2]),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Lg(e){let t,n,o=function(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m,h;const f=[Eg,Tg],_=[];function w(e,t){return e[2]?0:1}return o=w(e),i=_[o]=f[o](e),{c(){t=Bn("div"),n=Bn("div"),i.c(),s=qn(),a=Bn("div"),a.textContent=`${chrome.i18n.getMessage("twitter_web_alternatives_link")}`,r=qn(),l=Bn("button"),c=Fn("svg"),d=Fn("path"),Zn(a,"class","show-alternatives svelte-1dl3vos"),no(a,"dark",e[3]),Zn(d,"d","M3 9L9 3M3 3L9 9"),Zn(d,"stroke",u=e[3]?"white":"#037171"),Zn(d,"stroke-width","1.5"),Zn(d,"stroke-linecap","round"),Zn(d,"stroke-linejoin","round"),Zn(c,"width","12"),Zn(c,"height","12"),Zn(c,"viewBox","0 0 12 12"),Zn(c,"fill","none"),Zn(c,"xmlns","http://www.w3.org/2000/svg"),Zn(l,"class","svelte-1dl3vos"),Zn(t,"class","container svelte-1dl3vos"),no(t,"dark",e[3])},m(i,u){Pn(i,t,u),Dn(t,n),_[o].m(n,null),Dn(n,s),Dn(n,a),Dn(t,r),Dn(t,l),Dn(l,c),Dn(c,d),g=!0,m||(h=[Wn(a,"click",e[4]),Wn(l,"click",(function(){fn(e[1])&&e[1].apply(this,arguments)}))],m=!0)},p(r,l){let c=o;o=w(e=r),o===c?_[o].p(e,l):(Po(),Bo(_[c],1,1,(()=>{_[c]=null})),zo(),i=_[o],i?i.p(e,l):(i=_[o]=f[o](e),i.c()),Ho(i,1),i.m(n,s)),(!g||8&l)&&no(a,"dark",e[3]),(!g||8&l&&u!==(u=e[3]?"white":"#037171"))&&Zn(d,"stroke",u),(!g||8&l)&&no(t,"dark",e[3])},i(e){g||(Ho(i),p||Lo((()=>{p=Uo(t,ea,{y:-10,duration:200}),p.start()})),g=!0)},o(e){Bo(i),g=!1},d(e){e&&zn(t),_[o].d(),m=!1,hn(h)}}}(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,[t]){o.p(e,t)},i(e){n||(Ho(o),n=!0)},o(e){Bo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function Sg(e,t,n){let o,i,s;vn(e,di,(e=>n(6,i=e))),vn(e,Cg,(e=>n(7,s=e)));let a,r,{translatedText:l}=t,{sourceText:c}=t,{onClose:d}=t,{error:u}=t;return e.$$set=e=>{"translatedText"in e&&n(0,l=e.translatedText),"sourceText"in e&&n(5,c=e.sourceText),"onClose"in e&&n(1,d=e.onClose),"error"in e&&n(2,u=e.error)},e.$$.update=()=>{128&e.$$.dirty&&n(3,o=s&&s.isDarkMode),32&e.$$.dirty&&Ye(c).then((e=>{a=e})),64&e.$$.dirty&&(r=i.selectedTargetLanguage)},[l,d,u,o,function(){Xt({action:"dlExternalURLRedirect",payload:{destination:ya,sourceLang:a,targetLang:r,textToShare:c}})},c,i,s]}class kg extends Zo{constructor(e){super(),Vo(this,e,Sg,Lg,_n,{translatedText:0,sourceText:5,onClose:1,error:2})}}class Mg extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent=null;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this)}createDOM(e,t,n,o){this.mainComponent=new kg({target:this.shadowContainer,props:{translatedText:e,onClose:n,sourceText:t,error:o}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Og(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m;return{c(){t=Bn("button"),n=Bn("span"),n.textContent=`${chrome.i18n.getMessage("twitter_web_translate_tweet_link")}`,o=qn(),i=Fn("svg"),s=Fn("g"),a=Fn("path"),r=Fn("path"),l=Fn("path"),c=Fn("defs"),d=Fn("clipPath"),u=Fn("rect"),Zn(a,"d","M1.85295 4.86015V12.4035C1.85295 12.7953 2.05334 13.1545 2.38029 13.3504L8.70832 17.1167C8.72427 17.1262 8.7404 17.1353 8.75668 17.1439L11.8727 19L11.8621 17.3672L11.8685 16.4605L11.8717 16.4747V16.1699C11.8717 15.9893 11.9613 15.8272 12.0993 15.7262L12.3015 15.6059L12.3991 15.5494L12.394 15.5508L16.091 13.3504C16.418 13.1545 16.6184 12.7953 16.6184 12.4035V4.86015C16.6184 4.46829 16.418 4.10909 16.091 3.91316L9.76299 0.146947C9.43604 -0.0489825 9.03527 -0.0489825 8.70832 0.146947L2.38029 3.92404C2.05334 4.11997 1.85295 4.47918 1.85295 4.86015Z"),Zn(a,"class","deepl-icon svelte-1uv8rvf"),Zn(r,"d","M6.68257 5.19787C7.10444 4.77336 7.77943 4.77336 8.2013 5.19787C8.50446 5.49621 8.60497 5.92588 8.50281 6.3113L11.4143 8.05411C11.4193 8.04902 11.4243 8.04396 11.4294 8.03894C11.8513 7.61442 12.5263 7.61442 12.9481 8.03894C13.4017 8.48522 13.4017 9.2254 12.9481 9.67168C12.5263 10.0962 11.8513 10.0962 11.4294 9.67168C11.111 9.35838 11.0162 8.90024 11.1448 8.50062L11.1341 8.50683L8.24372 6.78659C8.23005 6.80156 8.21591 6.81624 8.2013 6.83062C7.77943 7.25514 7.10444 7.25514 6.68257 6.83062C6.22906 6.38434 6.22906 5.64416 6.68257 5.19787Z"),Zn(r,"fill","white"),Zn(l,"d","M8.50819 11.5811L11.3455 9.88917L10.8182 9.58439L8.2574 11.1016C8.23971 11.0816 8.2212 11.062 8.20187 11.043C7.78 10.6185 7.10501 10.6185 6.68314 11.043C6.22963 11.4893 6.22963 12.2295 6.68314 12.6757C7.10501 13.1003 7.78 13.1003 8.20187 12.6757C8.50012 12.3822 8.60222 11.9616 8.50819 11.5811Z"),Zn(l,"fill","white"),Zn(s,"clip-path","url(#clip0)"),Zn(u,"width","18.5294"),Zn(u,"height","19"),Zn(u,"fill","white"),Zn(u,"transform","matrix(-1 0 0 1 18.5294 0)"),Zn(d,"id","clip0"),Zn(i,"width","15"),Zn(i,"height","15"),Zn(i,"viewBox","0 0 19 19"),Zn(i,"fill","none"),Zn(i,"xmlns","http://www.w3.org/2000/svg"),Zn(t,"class","tweetLink svelte-1uv8rvf"),t.disabled=p=!!e[0],no(t,"dark",e[3])},m(p,h){Pn(p,t,h),Dn(t,n),Dn(t,o),Dn(t,i),Dn(i,s),Dn(s,a),Dn(s,r),Dn(s,l),Dn(i,c),Dn(c,d),Dn(d,u),g||(m=[Wn(t,"keydown",e[4]),Wn(t,"click",e[4])],g=!0)},p(e,n){1&n&&p!==(p=!!e[0])&&(t.disabled=p),8&n&&no(t,"dark",e[3])},i:un,o:un,d(e){e&&zn(t),g=!1,hn(m)}}}function Ng(e){let t,n;return t=new Vr({props:{small:!0}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p:un,i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Ig(e){let t,n,o,i;const s=[Ng,Og],a=[];function r(e,t){return e[1]?0:e[2]?1:-1}return~(t=r(e))&&(n=a[t]=s[t](e)),{c(){n&&n.c(),o=jn()},m(e,n){~t&&a[t].m(e,n),Pn(e,o,n),i=!0},p(e,[i]){let l=t;t=r(e),t===l?~t&&a[t].p(e,i):(n&&(Po(),Bo(a[l],1,1,(()=>{a[l]=null})),zo()),~t?(n=a[t],n?n.p(e,i):(n=a[t]=s[t](e),n.c()),Ho(n,1),n.m(o.parentNode,o)):n=null)},i(e){i||(Ho(n),i=!0)},o(e){Bo(n),i=!1},d(e){~t&&a[t].d(e),e&&zn(o)}}}function Dg(e,t,n){let o,i,s;vn(e,di,(e=>n(6,i=e))),vn(e,Cg,(e=>n(7,s=e))),_o("deepl_settings",di),_o("deepl_website_settings",Jo);let a,r,{tweetTextNode:l}=t,c=!1;return e.$$set=e=>{"tweetTextNode"in e&&n(5,l=e.tweetTextNode)},e.$$.update=()=>{if(128&e.$$.dirty&&n(3,o=s&&s.isDarkMode),64&e.$$.dirty){const e=i.blacklistDomainsForReading.includes(window.location.hostname);!i.enableInlineTranslation||e?n(2,r=!1):i.selectedTargetLanguage&&async function(){const e=l.innerText;if(e.length<20)return!1;const t=await Ye(e);return Qe(chrome.i18n.getUILanguage())!==t&&Qe(i.selectedTargetLanguage)!==t}().then((e=>n(2,r=e))).catch((()=>n(2,r=!1)))}},[a,c,r,o,async function(){if(a)return;n(1,c=!0);let e,t,o="";try{o=await Ye(l.innerText),o=et(o)}catch(e){console.log(e)}try{t=await Xt({action:"dlRequestTwitterTweetTranslation",payload:{message:l.innerText,messageLang:o,domainName:window.location.hostname}})}catch(t){e=t,console.error(e)}n(0,a=e?"":t[0].text),n(1,c=!1);const i=document.createElement("deepl-twitter-translated-tweet");i.createDOM(a,l.innerText,(()=>{n(0,a=""),i.cleanupDOM(),i.remove()}),e),l.appendChild(i)},l,i,s]}window.customElements.define("deepl-twitter-translated-tweet",Mg);class Ag extends Zo{constructor(e){super(),Vo(this,e,Dg,Ig,_n,{tweetTextNode:5})}}class Rg extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent=null;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.shadowContainer.addEventListener("click",(e=>{e.stopPropagation(),e.stopImmediatePropagation()})),this.createDOM=this.createDOM.bind(this)}createDOM(e){this.mainComponent=new Ag({target:this.shadowContainer,props:{tweetTextNode:e}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Pg(e,t,n){const o=e.slice();return o[3]=t[n],o}function zg(e){let t,n,o=e[3].text+"";return{c(){t=new io(!1),n=jn(),t.a=n},m(e,i){t.m(o,e,i),Pn(e,n,i)},p:un,d(e){e&&zn(n),e&&t.d()}}}function Hg(e){let t,n,o,i=e[3].text+"";return{c(){t=Bn("span"),Zn(t,"class","dl-link svelte-pwdshq")},m(s,a){Pn(s,t,a),t.innerHTML=i,n||(o=Wn(t,"click",e[1]),n=!0)},p:un,d(e){e&&zn(t),n=!1,o()}}}function Bg(e){let t;let n=function(e,t){return"loginLink"===e[3].block?Hg:zg}(e),o=n(e);return{c(){o.c(),t=jn()},m(e,n){o.m(e,n),Pn(e,t,n)},p(e,t){o.p(e,t)},d(e){o.d(e),e&&zn(t)}}}function Fg(e){let t,n=_s(chrome.i18n.getMessage("ui_zendesk_onboarding_free_trial_notice"),["loginLink"]),o=[];for(let t=0;t<n.length;t+=1)o[t]=Bg(Pg(e,n,t));return{c(){t=Bn("span");for(let e=0;e<o.length;e+=1)o[e].c();Zn(t,"slot","warning")},m(e,n){Pn(e,t,n);for(let e=0;e<o.length;e+=1)o[e].m(t,null)},p(e,i){if(2&i){let s;for(n=_s(chrome.i18n.getMessage("ui_zendesk_onboarding_free_trial_notice"),["loginLink"]),s=0;s<n.length;s+=1){const a=Pg(e,n,s);o[s]?o[s].p(a,i):(o[s]=Bg(a),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&zn(t),Hn(o,e)}}}function Ug(e){let t,n=chrome.i18n.getMessage("ui_zendesk_onboarding_title")+"";return{c(){t=Bn("span"),Zn(t,"slot","header")},m(e,o){Pn(e,t,o),t.innerHTML=n},p:un,d(e){e&&zn(t)}}}function qg(e){let t,n=chrome.i18n.getMessage("ui_zendesk_onboarding_usp_1")+"";return{c(){t=Bn("span"),Zn(t,"slot","usp1")},m(e,o){Pn(e,t,o),t.innerHTML=n},p:un,d(e){e&&zn(t)}}}function jg(e){let t,n=chrome.i18n.getMessage("ui_zendesk_onboarding_usp_2")+"";return{c(){t=Bn("span"),Zn(t,"slot","usp2")},m(e,o){Pn(e,t,o),t.innerHTML=n},p:un,d(e){e&&zn(t)}}}function Wg(e){let t,n=chrome.i18n.getMessage("ui_zendesk_onboarding_usp_3")+"";return{c(){t=Bn("span"),Zn(t,"slot","usp3")},m(e,o){Pn(e,t,o),t.innerHTML=n},p:un,d(e){e&&zn(t)}}}function Gg(e){let t;return{c(){t=Bn("div"),Zn(t,"slot","graphics"),Zn(t,"class","onboarding-graphics svelte-pwdshq")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Vg(e){let t,n;return t=new _p({props:{onClose:e[0],hasWarning:!0,$$slots:{graphics:[Gg],usp3:[Wg],usp2:[jg],usp1:[qg],header:[Ug],warning:[Fg]},$$scope:{ctx:e}}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,[n]){const o={};1&n&&(o.onClose=e[0]),64&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Zg(e,t,n){let{onClose:o}=t;return mo((()=>{Xt({action:"dlTrackOnboardingModalShown",payload:{nicheIntegration:ve.zendesk}})})),e.$$set=e=>{"onClose"in e&&n(0,o=e.onClose)},[o,function(){Xt({action:"dlExternalURLRedirect",payload:{destination:$a}})}]}window.customElements.define("deepl-twitter-tweet-link",Rg);class Kg extends Zo{constructor(e){super(),Vo(this,e,Zg,Vg,_n,{onClose:0})}}function Xg(e){let t,n;return t=new Kg({props:{onClose:e[3]}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};1&n&&(o.onClose=e[3]),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function Qg(e){let t,n,o,i,s=e[0]&&Xg(e);return{c(){t=Bn("div"),n=qn(),s&&s.c(),o=jn(),Zn(t,"class","dl-zendesk-icon svelte-1tytp0d")},m(e,a){Pn(e,t,a),Pn(e,n,a),s&&s.m(e,a),Pn(e,o,a),i=!0},p(e,[t]){e[0]?s?(s.p(e,t),1&t&&Ho(s,1)):(s=Xg(e),s.c(),Ho(s,1),s.m(o.parentNode,o)):s&&(Po(),Bo(s,1,1,(()=>{s=null})),zo())},i(e){i||(Ho(s),i=!0)},o(e){Bo(s),i=!1},d(e){e&&zn(t),e&&zn(n),s&&s.d(e),e&&zn(o)}}}function Yg(e,t,n){let o,i;vn(e,di,(e=>n(2,o=e)));let s=!1;const a=()=>{const e=window.location.pathname,t=vt(e);if(t){const e=$t();if(!e)return;const n=bt(e)||yt(e,t);n&&n.processRefreshUI()}},r=async e=>{if("dlChangeActiveTabStatus"===e.action)e.payload.isActive?l():c()},l=()=>{i&&clearInterval(i),i=setInterval(a,800)},c=()=>{clearInterval(i)};mo((()=>{l(),chrome.runtime.onMessage.addListener(r)})),ho((()=>{i&&c(),chrome.runtime.onMessage.removeListener(r),Ct()}));return e.$$.update=()=>{4&e.$$.dirty&&(o.isZendeskEnabled||Tt())},[s,()=>{n(0,s=!0)},o,()=>n(0,s=!1)]}class Jg extends Zo{constructor(e){super(),Vo(this,e,Yg,Qg,_n,{showOnboarding:1})}get showOnboarding(){return this.$$.ctx[1]}}class em extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this),this.showOnboarding=this.showOnboarding.bind(this)}createDOM(){this.mainComponent=new Jg({target:this.shadowContainer,props:{onClose:this.cleanupDOM,controller:this}})}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}showOnboarding(){this.mainComponent.showOnboarding()}}function tm(e){let t,n,o,i,s,a,r,l,c,d=chrome.i18n.getMessage("ui_zendesk_input_language_mismatch")+"";return{c(){t=Bn("div"),n=Bn("button"),o=qn(),i=Un(d),Zn(n,"class","dismiss-tooltip svelte-1h7bxtg"),Zn(t,"class","dl-zendesk-submit-button-tooltip svelte-1h7bxtg"),Qn(t,"max-width",(e[1].width||0)+"px"),Qn(t,"bottom",e[0].height+12+"px")},m(s,a){Pn(s,t,a),Dn(t,n),Dn(t,o),Dn(t,i),r=!0,l||(c=Wn(n,"click",e[4]),l=!0)},p(e,n){(!r||2&n)&&Qn(t,"max-width",(e[1].width||0)+"px"),(!r||1&n)&&Qn(t,"bottom",e[0].height+12+"px")},i(e){r||(Lo((()=>{a&&a.end(1),s=Uo(t,ea,{y:-5,duration:500}),s.start()})),r=!0)},o(e){s&&s.invalidate(),a=qo(t,ea,{y:-5,duration:500}),r=!1},d(e){e&&zn(t),e&&a&&a.end(),l=!1,c()}}}function nm(e){let t,n,o=e[2]&&!e[3]&&tm(e);return{c(){o&&o.c(),t=jn()},m(e,i){o&&o.m(e,i),Pn(e,t,i),n=!0},p(e,[n]){e[2]&&!e[3]?o?(o.p(e,n),12&n&&Ho(o,1)):(o=tm(e),o.c(),Ho(o,1),o.m(t.parentNode,t)):o&&(Po(),Bo(o,1,1,(()=>{o=null})),zo())},i(e){n||(Ho(o),n=!0)},o(e){Bo(o),n=!1},d(e){o&&o.d(e),e&&zn(t)}}}function om(e,t,n){let{coords:o}=t,{containerCoords:i}=t,s=!1,a=!1;return e.$$set=e=>{"coords"in e&&n(0,o=e.coords),"containerCoords"in e&&n(1,i=e.containerCoords)},[o,i,s,a,()=>{n(3,a=!0)},e=>{n(2,s=e)},()=>{console.log("Resetting tooltip..."),n(2,s=!1),n(3,a=!1)}]}window.customElements.define("deepl-zendesk-controller",em);class im extends Zo{constructor(e){super(),Vo(this,e,om,nm,_n,{coords:0,containerCoords:1,setIsLanguageMismatching:5,resetTooltip:6})}get setIsLanguageMismatching(){return this.$$.ctx[5]}get resetTooltip(){return this.$$.ctx[6]}}class sm extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.setIsLanguageMismatching=this.setIsLanguageMismatching.bind(this),this.resetTooltip=this.resetTooltip.bind(this),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM({coords:e,containerCoords:t}){this.mainComponent=new im({target:this.shadowContainer,props:{onClose:this.cleanupDOM,coords:e,containerCoords:t}})}setIsLanguageMismatching(e){this.mainComponent?.setIsLanguageMismatching(e)}resetTooltip(){this.mainComponent?.resetTooltip()}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function am(e){let t,n,o;return{c(){t=Bn("div"),n=qn(),o=Bn("div"),Zn(t,"class","dl-zendesk-icon svelte-i3vxpb"),Zn(o,"class","dl-zendesk-working-area svelte-i3vxpb")},m(e,i){Pn(e,t,i),Pn(e,n,i),Pn(e,o,i)},p:un,i:un,o:un,d(e){e&&zn(t),e&&zn(n),e&&zn(o)}}}function rm(e,n,o){let i;vn(e,di,(e=>o(17,i=e)));let{pane:s}=n,{ticketId:a}=n,{controller:r}=n;const l={language:"",isDetected:!1,isSupported:!1,hasAttemptedLanguageDetection:!1};let c,d=!1;const u={inputIconLanguageUpdate:void 0,topIconLanguageUpdate:void 0,toolbarLanguageUpdate:void 0,toolbarAutoTranslateStatus:void 0,ticketTypeDetection:void 0},p=(e,t)=>{u[e]=t},g=()=>{for(const e of Object.keys(u))if(u[e]){u[e]()&&(u[e]=void 0)}},m=async()=>{if(!c)return;let e;switch(c){case Me:e=await At(s);break;case Oe:e=await Rt(s)}e&&(e=et(e),o(13,l.hasAttemptedLanguageDetection=!0,l),o(13,l.language=e,l),o(13,l.isDetected=!0,l),o(13,l.isSupported=!!t.find((t=>t.langCode===e)),l),Qs({eventType:xe,controller:r}),Zt(s))};return mo((()=>{Qs({eventType:ye,controller:r}),p("ticketTypeDetection",(()=>{const e=Mt(s);return!!e&&(c=e,m(),!0)}))})),e.$$set=e=>{"pane"in e&&o(0,s=e.pane),"ticketId"in e&&o(1,a=e.ticketId),"controller"in e&&o(2,r=e.controller)},e.$$.update=()=>{8193&e.$$.dirty&&p("toolbarLanguageUpdate",(()=>Pt(s,{language:l.language,isDetected:l.isDetected,isSupported:l.isSupported}))),8193&e.$$.dirty&&(p("inputIconLanguageUpdate",(()=>Bt(s,l.language))),p("topIconLanguageUpdate",(()=>Ht(s)))),16385&e.$$.dirty&&p("toolbarAutoTranslateStatus",(()=>{zt(s,{isEnabled:d})}))},[s,a,r,()=>s,()=>a,()=>l,()=>d,e=>{o(13,l.language=e.language,l),o(13,l.isDetected=e.isDetected,l),o(13,l.isSupported=e.isSupported,l)},e=>{o(14,d=e)},()=>c,e=>{c=e},async()=>{if(l.hasAttemptedLanguageDetection||await m(),(l.language||i.isZendeskEnabled)&&xt(r,i.isZendeskEnabled),l.isSupported&&i.isZendeskEnabled){Ft(r);for(const e of Ot(s)){const t=Ut(e);t&&t.processRefreshUI()}}Wt(s),g()},()=>{Gt(s)},l,d]}window.customElements.define("deepl-zendesk-submit-button-tooltip",sm);class lm extends Zo{constructor(e){super(),Vo(this,e,rm,am,_n,{pane:0,ticketId:1,controller:2,getPane:3,getTicketId:4,getTicketLanguageInformation:5,getIsAutoTranslatedEnabled:6,setLanguageInformation:7,setIsAutoTranslateEnabled:8,getTicketType:9,setTicketType:10,processRefreshUI:11,getInputHasSelection:12})}get getPane(){return this.$$.ctx[3]}get getTicketId(){return this.$$.ctx[4]}get getTicketLanguageInformation(){return this.$$.ctx[5]}get getIsAutoTranslatedEnabled(){return this.$$.ctx[6]}get setLanguageInformation(){return this.$$.ctx[7]}get setIsAutoTranslateEnabled(){return this.$$.ctx[8]}get getTicketType(){return this.$$.ctx[9]}get setTicketType(){return this.$$.ctx[10]}get processRefreshUI(){return this.$$.ctx[11]}get getInputHasSelection(){return this.$$.ctx[12]}}class cm extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this),this.getTicketId=this.getTicketId.bind(this),this.getPane=this.getPane.bind(this),this.getTicketLanguageInformation=this.getTicketLanguageInformation.bind(this),this.getIsAutoTranslatedEnabled=this.getIsAutoTranslatedEnabled.bind(this),this.setIsAutoTranslateEnabled=this.setIsAutoTranslateEnabled.bind(this),this.getInputWorkingArea=this.getInputWorkingArea.bind(this),this.setLanguageInformation=this.setLanguageInformation.bind(this),this.processRefreshUI=this.processRefreshUI.bind(this),this.getInputHasSelection=this.getInputHasSelection.bind(this)}createDOM({ticketId:e,pane:t}){this.mainComponent=new lm({target:this.shadowContainer,props:{onClose:this.cleanupDOM,controller:this,ticketId:e,pane:t}})}getTicketId(){return this.mainComponent?.getTicketId()}getPane(){return this.mainComponent?.getPane()}getTicketLanguageInformation(){return this.mainComponent?.getTicketLanguageInformation()}getIsAutoTranslatedEnabled(){return this.mainComponent?.getIsAutoTranslatedEnabled()}setIsAutoTranslateEnabled(e){this.mainComponent?.setIsAutoTranslateEnabled(e)}getInputWorkingArea(){return this.shadowContainer.querySelector(".dl-zendesk-working-area")}setLanguageInformation(e){this.mainComponent?.setLanguageInformation(e)}getTicketType(){return this.mainComponent?.getTicketType()}setTicketType(e){this.mainComponent?.setTicketType(e)}processRefreshUI(){this.mainComponent.processRefreshUI()}getInputHasSelection(){return this.mainComponent?.getInputHasSelection()}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function dm(e){let t,n,o,i,s;return n=new Rr({props:{items:e[3],selectedOption:e[2],alignRight:!1,dataQaButton:"deepl-language-selection-button",dataQaList:"deepl-language-selection-list",variant:"zendesk",isFullWidth:e[1],extraText:e[0]?chrome.i18n.getMessage("ui_zendesk_language_detected"):""}}),n.$on("valueselected",e[4]),{c(){t=Bn("div"),jo(n.$$.fragment)},m(a,r){Pn(a,t,r),Wo(n,t,null),o=!0,i||(s=Wn(t,"mousedown",Vn(Gn(e[7]))),i=!0)},p(e,[t]){const o={};8&t&&(o.items=e[3]),4&t&&(o.selectedOption=e[2]),2&t&&(o.isFullWidth=e[1]),1&t&&(o.extraText=e[0]?chrome.i18n.getMessage("ui_zendesk_language_detected"):""),n.$set(o)},i(e){o||(Ho(n.$$.fragment,e),o=!0)},o(e){Bo(n.$$.fragment,e),o=!1},d(e){e&&zn(t),Go(n),i=!1,s()}}}function um(e,t,n){let o,i;const s=fo(),a=Je();let{value:r}=t,{isDetected:l=!1}=t,{isSupported:c=!0}=t,{isFullWidth:d=!1}=t;const u={label:chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),selectedOptionLabel:chrome.i18n.getMessage("writing_config_tab_language_selector_empty"),value:"NOT_SUPPORTED"};return e.$$set=e=>{"value"in e&&n(5,r=e.value),"isDetected"in e&&n(0,l=e.isDetected),"isSupported"in e&&n(6,c=e.isSupported),"isFullWidth"in e&&n(1,d=e.isFullWidth)},e.$$.update=()=>{64&e.$$.dirty&&n(3,o=[...c?[]:[u],...a]),96&e.$$.dirty&&n(2,i=c?r?a.find((e=>e.value===r)):void 0:u)},[l,d,i,o,function(e){e.detail.selectedOption.value!==r&&s("selection",e.detail)},r,c,function(t){vo.call(this,e,t)}]}window.customElements.define("deepl-zendesk-ticket-controller",cm);class pm extends Zo{constructor(e){super(),Vo(this,e,um,dm,_n,{value:5,isDetected:0,isSupported:6,isFullWidth:1})}}function gm(e){let t,n,o,i;function s(e,t){return e[2]?fm:hm}let a=s(e),r=a(e);return{c(){t=Bn("button"),r.c(),Zn(t,"class","translate-all svelte-1uw1ok2"),t.disabled=n=!e[1].isSupported},m(n,s){Pn(n,t,s),r.m(t,null),o||(i=Wn(t,"click",e[6]),o=!0)},p(e,o){a===(a=s(e))&&r?r.p(e,o):(r.d(1),r=a(e),r&&(r.c(),r.m(t,null))),2&o&&n!==(n=!e[1].isSupported)&&(t.disabled=n)},i:un,o:un,d(e){e&&zn(t),r.d(),o=!1,i()}}}function mm(e){let t,n;return t=new lc({props:{tooltip:chrome.i18n.getMessage(e[2]?"ui_zendesk_autotranslate_stop":"ui_zendesk_autotranslate_start"),$$slots:{default:[_m]},$$scope:{ctx:e}}}),{c(){jo(t.$$.fragment)},m(e,o){Wo(t,e,o),n=!0},p(e,n){const o={};4&n&&(o.tooltip=chrome.i18n.getMessage(e[2]?"ui_zendesk_autotranslate_stop":"ui_zendesk_autotranslate_start")),32770&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o)},i(e){n||(Ho(t.$$.fragment,e),n=!0)},o(e){Bo(t.$$.fragment,e),n=!1},d(e){Go(t,e)}}}function hm(e){let t,n=chrome.i18n.getMessage("ui_zendesk_autotranslate_start")+"";return{c(){t=Un(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function fm(e){let t,n=chrome.i18n.getMessage("ui_zendesk_autotranslate_stop")+"";return{c(){t=Un(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function _m(e){let t,n,o,i;return{c(){t=Bn("button"),Zn(t,"class","translate-all btn-icon svelte-1uw1ok2"),t.disabled=n=!e[1].isSupported},m(n,s){Pn(n,t,s),o||(i=Wn(t,"click",e[6]),o=!0)},p(e,o){2&o&&n!==(n=!e[1].isSupported)&&(t.disabled=n)},d(e){e&&zn(t),o=!1,i()}}}function wm(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m,h,f,_;c=new pm({props:{value:e[1].language,isDetected:e[1].isDetected,isSupported:e[1].isSupported,isFullWidth:"lg"!==e[4]}}),c.$on("selection",e[5]);const w=[mm,gm],v=[];function $(e,t){return"sm"===e[4]?0:1}return p=$(e),g=v[p]=w[p](e),{c(){t=Bn("div"),n=Bn("div"),o=Bn("button"),i=qn(),s=Bn("div"),a=Bn("div"),a.textContent=`${chrome.i18n.getMessage("ui_zendesk_senders_language")}`,r=qn(),l=Bn("div"),jo(c.$$.fragment),d=qn(),u=Bn("div"),g.c(),Zn(o,"class","senders-language-toggle svelte-1uw1ok2"),Zn(a,"class","label svelte-1uw1ok2"),Zn(l,"class","dropdown-container svelte-1uw1ok2"),Zn(s,"class","container svelte-1uw1ok2"),no(s,"show",e[3]),Zn(n,"class","senders-language svelte-1uw1ok2"),Zn(u,"class","translate-all-container"),Zn(t,"class","dl-zendesk-toolbar svelte-1uw1ok2"),Lo((()=>e[12].call(t))),no(t,"toolbar-sm","sm"===e[4]),no(t,"toolbar-md","md"===e[4]),no(t,"toolbar-lg","lg"===e[4])},m(g,w){Pn(g,t,w),Dn(t,n),Dn(n,o),Dn(n,i),Dn(n,s),Dn(s,a),Dn(s,r),Dn(s,l),Wo(c,l,null),Dn(t,d),Dn(t,u),v[p].m(u,null),m=to(t,e[12].bind(t)),h=!0,f||(_=[Wn(o,"click",e[7]),Ln(Jt.call(null,n,{isShadow:!0})),Wn(n,"click_outside",e[11])],f=!0)},p(e,[n]){const o={};2&n&&(o.value=e[1].language),2&n&&(o.isDetected=e[1].isDetected),2&n&&(o.isSupported=e[1].isSupported),16&n&&(o.isFullWidth="lg"!==e[4]),c.$set(o),(!h||8&n)&&no(s,"show",e[3]);let i=p;p=$(e),p===i?v[p].p(e,n):(Po(),Bo(v[i],1,1,(()=>{v[i]=null})),zo(),g=v[p],g?g.p(e,n):(g=v[p]=w[p](e),g.c()),Ho(g,1),g.m(u,null)),(!h||16&n)&&no(t,"toolbar-sm","sm"===e[4]),(!h||16&n)&&no(t,"toolbar-md","md"===e[4]),(!h||16&n)&&no(t,"toolbar-lg","lg"===e[4])},i(e){h||(Ho(c.$$.fragment,e),Ho(g),h=!0)},o(e){Bo(c.$$.fragment,e),Bo(g),h=!1},d(e){e&&zn(t),Go(c),v[p].d(),m(),f=!1,hn(_)}}}function vm(e,t,n){let o;const i=[{key:"sm",max:300},{key:"md",min:301,max:650},{key:"lg",min:651,isDefault:!0}];let{controller:s}=t;const a={language:"",isDetected:!1,isSupported:!1};let r,l=!1,c=!1;return e.$$set=e=>{"controller"in e&&n(8,s=e.controller)},e.$$.update=()=>{1&e.$$.dirty&&n(4,o=(e=>{const t=i.find((e=>e.isDefault));for(const t of i)if(!(t.min&&t.min>e||t.max&&t.max<e))return t.key;return t.key})(r))},[r,a,l,c,o,e=>{const t=e.detail.selectedOption.value;s.setLanguageInformation({language:t,isDetected:!1,isSupported:!0}),Qs({eventType:Ce,controller:s,metaDataOverride:{ticketLanguage:t,isTicketLanguageAutodetected:!1}})},()=>{const e=!l;s.setIsAutoTranslateEnabled(e),Qs({eventType:e?Te:Ee,controller:s,metaDataOverride:{isAutoTranslateEnabled:e}})},()=>{n(3,c=!c)},s,({language:e,isDetected:t,isSupported:o})=>{n(1,a.language=e,a),n(1,a.isDetected=t,a),n(1,a.isSupported=o,a)},e=>{n(2,l=e)},()=>n(3,c=!1),function(){r=this.clientWidth,n(0,r)}]}class $m extends Zo{constructor(e){super(),Vo(this,e,vm,wm,_n,{controller:8,updateLanguageInformation:9,updateAutoTranslateStatus:10})}get updateLanguageInformation(){return this.$$.ctx[9]}get updateAutoTranslateStatus(){return this.$$.ctx[10]}}class bm extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this),this.updateLanguageInformation=this.updateLanguageInformation.bind(this),this.updateAutoTranslateStatus=this.updateAutoTranslateStatus.bind(this)}createDOM({controller:e}){this.mainComponent=new $m({target:this.shadowContainer,props:{onClose:this.cleanupDOM,controller:e}})}updateLanguageInformation(e){this.mainComponent.updateLanguageInformation(e)}updateAutoTranslateStatus(e){this.mainComponent.updateAutoTranslateStatus(e)}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function ym(e){let t,n,o,i,s;const a=[Cm,xm],r=[];function l(e,t){return"language_not_supported"===e[2]?0:1}n=l(e),o=r[n]=a[n](e);let c=(!e[3].isZendeskEnabled||"default"===e[2])&&Sm(e);return{c(){t=Bn("div"),o.c(),i=qn(),c&&c.c(),Zn(t,"class","dl-zendesk-modal svelte-lmvrdu")},m(e,o){Pn(e,t,o),r[n].m(t,null),Dn(t,i),c&&c.m(t,null),s=!0},p(e,s){let d=n;n=l(e),n===d?r[n].p(e,s):(Po(),Bo(r[d],1,1,(()=>{r[d]=null})),zo(),o=r[n],o?o.p(e,s):(o=r[n]=a[n](e),o.c()),Ho(o,1),o.m(t,i)),e[3].isZendeskEnabled&&"default"!==e[2]?c&&(c.d(1),c=null):c?c.p(e,s):(c=Sm(e),c.c(),c.m(t,null))},i(e){s||(Ho(o),s=!0)},o(e){Bo(o),s=!1},d(e){e&&zn(t),r[n].d(),c&&c.d()}}}function xm(e){let t,n,o,i,s,a,r,l,c,d,u,p,g,m=chrome.i18n.getMessage("ui_zendesk_modal_ok")+"",h="welcome"===e[2]&&Tm();function f(e,t){return"welcome"===e[2]?Lm:Em}let _=f(e),w=_(e);return s=new jr({props:{value:e[3].selectedTargetLanguage,websiteSettings:Jo,disabled:!e[3].isZendeskEnabled,customClass:"dropdown__zendesk-top-icon",fontSize:"md"}}),s.$on("selection",e[8]),{c(){h&&h.c(),t=qn(),n=Bn("div"),w.c(),o=qn(),i=Bn("div"),jo(s.$$.fragment),a=qn(),r=Bn("div"),l=Bn("button"),c=Un(m),Zn(i,"class","dropdown svelte-lmvrdu"),Zn(l,"class","btn-primary svelte-lmvrdu"),l.disabled=d=!e[3].isZendeskEnabled,Zn(r,"class","right svelte-lmvrdu"),Zn(n,"class","modal-section language-selector svelte-lmvrdu")},m(d,m){h&&h.m(d,m),Pn(d,t,m),Pn(d,n,m),w.m(n,null),Dn(n,o),Dn(n,i),Wo(s,i,null),Dn(n,a),Dn(n,r),Dn(r,l),Dn(l,c),u=!0,p||(g=Wn(l,"click",e[9]),p=!0)},p(e,i){"welcome"===e[2]?h?h.p(e,i):(h=Tm(),h.c(),h.m(t.parentNode,t)):h&&(h.d(1),h=null),_===(_=f(e))&&w?w.p(e,i):(w.d(1),w=_(e),w&&(w.c(),w.m(n,o)));const a={};8&i&&(a.value=e[3].selectedTargetLanguage),8&i&&(a.disabled=!e[3].isZendeskEnabled),s.$set(a),(!u||8&i&&d!==(d=!e[3].isZendeskEnabled))&&(l.disabled=d)},i(e){u||(Ho(s.$$.fragment,e),u=!0)},o(e){Bo(s.$$.fragment,e),u=!1},d(e){h&&h.d(e),e&&zn(t),e&&zn(n),w.d(),Go(s),p=!1,g()}}}function Cm(e){let t,n,o;return{c(){t=Bn("div"),t.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_1")}`,n=qn(),o=Bn("div"),o.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_language_not_supported_line_2")}`,Zn(t,"class","modal-section language-not-supported svelte-lmvrdu"),Zn(o,"class","modal-section secondary-text svelte-lmvrdu")},m(e,i){Pn(e,t,i),Pn(e,n,i),Pn(e,o,i)},p:un,i:un,o:un,d(e){e&&zn(t),e&&zn(n),e&&zn(o)}}}function Tm(e){let t;return{c(){t=Bn("div"),t.textContent=`${chrome.i18n.getMessage("ui_zendesk_modal_welcome")}`,Zn(t,"class","modal-section welcome svelte-lmvrdu")},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Em(e){let t,n=chrome.i18n.getMessage("ui_zendesk_modal_deepl_translate_into")+"";return{c(){t=Un(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Lm(e){let t,n=chrome.i18n.getMessage("ui_zendesk_modal_what_is_your_primary_language")+"";return{c(){t=Un(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Sm(e){let t,n,o,i,s,a,r;function l(e,t){return e[3].isZendeskEnabled?Mm:km}let c=l(e),d=c(e);return{c(){t=Bn("div"),n=Bn("div"),d.c(),o=qn(),i=Bn("div"),s=Bn("span"),s.innerHTML='<span class="svelte-lmvrdu"></span>',Zn(n,"class","text"),Zn(s,"class","on-off-switch svelte-lmvrdu"),no(s,"on",e[3].isZendeskEnabled),Zn(i,"class","switch"),Zn(t,"class","modal-section switch-container svelte-lmvrdu")},m(l,c){Pn(l,t,c),Dn(t,n),d.m(n,null),Dn(t,o),Dn(t,i),Dn(i,s),a||(r=Wn(s,"click",e[5]),a=!0)},p(e,t){c===(c=l(e))&&d?d.p(e,t):(d.d(1),d=c(e),d&&(d.c(),d.m(n,null))),8&t&&no(s,"on",e[3].isZendeskEnabled)},d(e){e&&zn(t),d.d(),a=!1,r()}}}function km(e){let t,n=chrome.i18n.getMessage("ui_zendesk_modal_turn_deepl_on")+"";return{c(){t=Un(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Mm(e){let t,n=chrome.i18n.getMessage("ui_zendesk_modal_turn_deepl_off")+"";return{c(){t=Un(n)},m(e,n){Pn(e,t,n)},p:un,d(e){e&&zn(t)}}}function Om(e){let t,n,o,i,s,a,r=e[1]&&ym(e);return{c(){t=Bn("div"),n=Bn("button"),o=qn(),r&&r.c(),Zn(n,"class","dl-zendesk-top-icon svelte-lmvrdu")},m(l,c){Pn(l,t,c),Dn(t,n),Dn(t,o),r&&r.m(t,null),i=!0,s||(a=[Wn(n,"click",e[7]),Ln(Jt.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[4])],s=!0)},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&Ho(r,1)):(r=ym(e),r.c(),Ho(r,1),r.m(t,null)):r&&(Po(),Bo(r,1,1,(()=>{r=null})),zo())},i(e){i||(Ho(r),i=!0)},o(e){Bo(r),i=!1},d(e){e&&zn(t),r&&r.d(),s=!1,hn(a)}}}function Nm(e,t,n){let o;vn(e,di,(e=>n(3,o=e)));let{controller:i}=t,s=!1,a="default";const r=()=>{i.getTicketLanguageInformation().isSupported?o.isZendeskOnboarded?(n(1,s=!1),n(2,a="default")):(En(di,o.isZendeskOnboarded=!0,o),n(2,a="welcome"),n(1,s=!0)):(n(2,a="language_not_supported"),n(1,s=o.isZendeskEnabled&&i.getTicketLanguageInformation().hasAttemptedLanguageDetection))},l=()=>{"welcome"===a&&n(2,a="default"),n(1,s=!1)};mo((()=>{r(),o.isZendeskOnboardingShown||(Kt(),En(di,o.isZendeskOnboardingShown=!0,o))}));return e.$$set=e=>{"controller"in e&&n(0,i=e.controller)},[i,s,a,o,l,()=>{En(di,o.isZendeskEnabled=!o.isZendeskEnabled,o)},r,()=>{s?l():n(1,s=!0)},e=>{En(di,o.selectedTargetLanguage=e.detail.selectedOption.value,o),jt(i)},()=>{o.isZendeskEnabled&&l()}]}window.customElements.define("deepl-zendesk-toolbar",bm);class Im extends Zo{constructor(e){super(),Vo(this,e,Nm,Om,_n,{controller:0,updateIconSettings:6})}get updateIconSettings(){return this.$$.ctx[6]}}class Dm extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this)}createDOM({controller:e}){this.mainComponent=new Im({target:this.shadowContainer,props:{onClose:this.cleanupDOM,controller:e}})}triggerUpdateIconSettings(){this.mainComponent.updateIconSettings()}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Am(e){let t,n,o,i,s,a,r,l,c;return{c(){t=Bn("div"),n=Bn("button"),o=qn(),i=Un(e[3]),Zn(n,"class","close-button svelte-1jlcmus"),Zn(t,"class","dl-zendesk-error-message svelte-1jlcmus")},m(s,a){Pn(s,t,a),Dn(t,n),Dn(t,o),Dn(t,i),r=!0,l||(c=[Wn(n,"click",e[6]),Ln(Jt.call(null,t,{isShadow:!0})),Wn(t,"click_outside",e[6])],l=!0)},p(e,t){(!r||8&t)&&Kn(i,e[3])},i(e){r||(Lo((()=>{a&&a.end(1),s=Uo(t,ea,{y:-5,duration:300}),s.start()})),r=!0)},o(e){s&&s.invalidate(),a=qo(t,ea,{y:-5,duration:300}),r=!1},d(e){e&&zn(t),e&&a&&a.end(),l=!1,hn(c)}}}function Rm(e){let t,n,o;return{c(){t=Bn("button"),t.innerHTML='<span class="svelte-1jlcmus"></span>',Zn(t,"class","dl-zendesk-input-icon svelte-1jlcmus"),no(t,"is-active",e[1]),no(t,"is-loading",e[2]),no(t,"is-language-mismatching",e[0])},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",e[5]),n=!0)},p(e,n){2&n&&no(t,"is-active",e[1]),4&n&&no(t,"is-loading",e[2]),1&n&&no(t,"is-language-mismatching",e[0])},d(e){e&&zn(t),n=!1,o()}}}function Pm(e){let t,n,o,i=e[3]&&Am(e);return n=new lc({props:{tooltip:e[4],zIndex:"0",$$slots:{default:[Rm]},$$scope:{ctx:e}}}),{c(){i&&i.c(),t=qn(),jo(n.$$.fragment)},m(e,s){i&&i.m(e,s),Pn(e,t,s),Wo(n,e,s),o=!0},p(e,[o]){e[3]?i?(i.p(e,o),8&o&&Ho(i,1)):(i=Am(e),i.c(),Ho(i,1),i.m(t.parentNode,t)):i&&(Po(),Bo(i,1,1,(()=>{i=null})),zo());const s={};16&o&&(s.tooltip=e[4]),536870919&o&&(s.$$scope={dirty:o,ctx:e}),n.$set(s)},i(e){o||(Ho(i),Ho(n.$$.fragment,e),o=!0)},o(e){Bo(i),Bo(n.$$.fragment,e),o=!1},d(e){i&&i.d(e),e&&zn(t),Go(n,e)}}}function zm(e,n,o){let i,s,a,r,l,{controller:c}=n,{editable:d}=n,u=!1,p=!1,g=!1,m=!1,h="",f="",_=!1;const w=()=>{o(1,u=!0)},v=()=>{o(1,u=!1)};async function $(e,t,n){if("dlTriggerTranslationShortcut"===e.action){if(document.activeElement!==d)return;try{Xt({action:"dlTrackUseOfShortcut",payload:{shortcutType:ee,location:R}})}catch(e){console.error(e)}await b(),n()}}const b=async()=>{if(m)return;const e=()=>{const e=new ClipboardEvent("copy",{bubbles:!0,clipboardData:new DataTransfer});p=!0,d.dispatchEvent(e)},t=window.getSelection(),n=t&&t.baseNode&&"#text"==t.baseNode.nodeName&&"Range"==t.type&&d.contains(t.baseNode);0!==d.innerText.trim().length&&(n?e():(await ws(d),setTimeout(e,300)))},y=async e=>{if(!p)return;p=!1,o(2,m=!0),o(0,_=!1);const t=c.getTicketLanguageInformation()?.language,n=e.clipboardData.getData("text/html"),i=c.getInputWorkingArea();i.innerHTML=n;const[s,a]=await Bs({element:i,targetLang:t});a?(console.error({e:a}),o(3,r=a),Qs({eventType:ke,controller:c,error:a})):s&&C(s,n),o(2,m=!1)},x=()=>{if(!g)return;g=!1;window.getSelection().collapse(null)},C=(e,t)=>{const n=new DataTransfer;n.setData("text/html",e);const o=new ClipboardEvent("paste",{bubbles:!0,clipboardData:n});g=!0,d.dispatchEvent(o),Qs({eventType:Se,controller:c,sourceTextLength:t.length,targetTextLength:e.length})},T=()=>{const e=d.innerText;e!==f&&(f=e,l&&(clearTimeout(l),l=void 0),l=setTimeout(E,400))},E=async()=>{const e=c.getTicketLanguageInformation();if(!e||!e.isSupported||!e.isDetected)return;const t=d.innerText;if(t.trim()){console.log("There has content: ",`${t.trim()}`);let n=await Ye(t),i=e.language;n=et(n),i=et(i);let s=!1;n&&i&&n!==i&&(s=!0),_!==s&&o(0,_=s)}else console.log("There is no content"),o(0,_=!1),L()},L=()=>{s&&s.resetTooltip()};return mo((()=>{chrome.runtime.onMessage.addListener($),Xt({action:"dlCheckCommandShortcuts"}).then((e=>{o(11,h=e?e.filter((e=>e.name==ee))[0].shortcut:"")})),d.addEventListener("focus",w),d.addEventListener("blur",v),d.addEventListener("copy",y),d.addEventListener("paste",x),d.addEventListener("keydown",T),s=Vt(c),document.activeElement===d&&w()})),ho((()=>{chrome.runtime.onMessage.removeListener($),d&&(d.removeEventListener("focus",w),d.removeEventListener("blur",v),d.removeEventListener("copy",y),d.removeEventListener("paste",x),d.removeEventListener("keydown",T),s&&(s.cleanupDOM(),s.remove()))})),e.$$set=e=>{"controller"in e&&o(7,c=e.controller),"editable"in e&&o(8,d=e.editable)},e.$$.update=()=>{6144&e.$$.dirty&&o(4,i=t.find((e=>e.langCode===a))?chrome.i18n.getMessage("ui_zendesk_input_tooltip")+(h?` (${h})`:""):""),1&e.$$.dirty&&s&&s.setIsLanguageMismatching(_)},[_,u,m,r,i,b,()=>{o(3,r=void 0)},c,d,e=>{o(12,a=e)},()=>{const e=window.getSelection();return e&&e.baseNode&&"#text"==e.baseNode.nodeName&&"Range"==e.type&&d.contains(e.baseNode)},h,a]}window.customElements.define("deepl-zendesk-top-icon",Dm);class Hm extends Zo{constructor(e){super(),Vo(this,e,zm,Pm,_n,{controller:7,editable:8,updateTargetLanguage:9,getInputHasSelection:10})}get updateTargetLanguage(){return this.$$.ctx[9]}get getInputHasSelection(){return this.$$.ctx[10]}}class Bm extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this),this.getInputHasSelection=this.getInputHasSelection.bind(this),this.updateTargetLanguage=this.updateTargetLanguage.bind(this)}createDOM({controller:e,editable:t}){this.mainComponent=new Hm({target:this.shadowContainer,props:{onClose:this.cleanupDOM,controller:e,editable:t}})}getInputHasSelection(){return this.mainComponent.getInputHasSelection()}updateTargetLanguage(e){this.mainComponent?.updateTargetLanguage(e)}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}function Fm(e,t,n){const o=e.slice();return o[15]=t[n],o[17]=n,o}function Um(e){let t,n,o=!e[0]&&jm(e),i=e[3],s=[];for(let t=0;t<i.length;t+=1)s[t]=Vm(Fm(e,i,t));return{c(){t=Bn("div"),o&&o.c(),n=qn();for(let e=0;e<s.length;e+=1)s[e].c();Zn(t,"class","dl-zendesk-translation-placeholder svelte-qb7u0e"),no(t,"loading-skeleton",e[0])},m(e,i){Pn(e,t,i),o&&o.m(t,null),Dn(t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(e,a){if(e[0]?o&&(o.d(1),o=null):o?o.p(e,a):(o=jm(e),o.c(),o.m(t,n)),8&a){let n;for(i=e[3],n=0;n<i.length;n+=1){const o=Fm(e,i,n);s[n]?s[n].p(o,a):(s[n]=Vm(o),s[n].c(),s[n].m(t,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=i.length}1&a&&no(t,"loading-skeleton",e[0])},d(e){e&&zn(t),o&&o.d(),Hn(s,e)}}}function qm(e){let t,n,o,i,s,a;return{c(){t=Bn("div"),n=Bn("button"),o=qn(),i=Un(e[2]),Zn(n,"class","close-button svelte-qb7u0e"),Zn(t,"class","dl-zendesk-translation-placeholder has-error svelte-qb7u0e")},m(r,l){Pn(r,t,l),Dn(t,n),Dn(t,o),Dn(t,i),s||(a=Wn(n,"click",e[6]),s=!0)},p(e,t){4&t&&Kn(i,e[2])},d(e){e&&zn(t),s=!1,a()}}}function jm(e){let t,n,o;return{c(){t=Bn("button"),Zn(t,"class","close-button svelte-qb7u0e")},m(i,s){Pn(i,t,s),n||(o=Wn(t,"click",e[5]),n=!0)},p:un,d(e){e&&zn(t),n=!1,o()}}}function Wm(e){let t,n,o=e[15]+"";return{c(){t=Bn("span"),n=Un(o),Zn(t,"class","svelte-qb7u0e")},m(e,o){Pn(e,t,o),Dn(t,n)},p(e,t){8&t&&o!==(o=e[15]+"")&&Kn(n,o)},d(e){e&&zn(t)}}}function Gm(e){let t;return{c(){t=Bn("br")},m(e,n){Pn(e,t,n)},d(e){e&&zn(t)}}}function Vm(e){let t,n,o=e[15]&&Wm(e),i=e[17]<e[3].length-1&&Gm();return{c(){o&&o.c(),t=qn(),i&&i.c(),n=jn()},m(e,s){o&&o.m(e,s),Pn(e,t,s),i&&i.m(e,s),Pn(e,n,s)},p(e,s){e[15]?o?o.p(e,s):(o=Wm(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[17]<e[3].length-1?i||(i=Gm(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){o&&o.d(e),e&&zn(t),i&&i.d(e),e&&zn(n)}}}function Zm(e){let t,n,o,i,s,a;function r(e,t){return e[2]?qm:e[1]||e[0]?Um:void 0}let l=r(e),c=l&&l(e);return{c(){t=Bn("div"),n=Bn("button"),n.textContent=`${chrome.i18n.getMessage("ui_zendesk_message_translate")}`,o=qn(),c&&c.c(),i=jn(),Zn(n,"class","dl-zendesk-translate-this-ticket svelte-qb7u0e")},m(r,l){Pn(r,t,l),Dn(t,n),Pn(r,o,l),c&&c.m(r,l),Pn(r,i,l),s||(a=Wn(n,"click",e[4]),s=!0)},p(e,[t]){l===(l=r(e))&&c?c.p(e,t):(c&&c.d(1),c=l&&l(e),c&&(c.c(),c.m(i.parentNode,i)))},i:un,o:un,d(e){e&&zn(t),e&&zn(o),c&&c.d(e),e&&zn(i),s=!1,a()}}}function Km(e,t,n){let o,i;vn(e,di,(e=>n(13,i=e)));let s,{controller:a}=t,{message:r}=t,l=!1,c=!1,d=!1,u="";const p=async({trigger:e})=>{n(1,d=!1),n(0,l=!0),n(2,s=void 0);let t=Dt(r).innerText;n(11,u=t);const[o,c]=await Fs({targetLang:i.selectedTargetLanguage,sourceLang:a.getTicketLanguageInformation()?.language,text:t,trigger:e});if(c)n(11,u=""),n(1,d=!1),n(2,s=c),Qs({eventType:ke,controller:a,error:c});else if(o){n(11,u=o),n(1,d=!0),Qs({eventType:Le,controller:a,sourceTextLength:t.length,targetTextLength:u.length})}else n(1,d=!0);n(0,l=!1)};return e.$$set=e=>{"controller"in e&&n(7,a=e.controller),"message"in e&&n(8,r=e.message)},e.$$.update=()=>{2048&e.$$.dirty&&n(3,o=u.split("\n"))},[l,d,s,o,()=>{l||p({trigger:m})},()=>{n(1,d=!1),n(0,l=!1),n(11,u=""),a.getIsAutoTranslatedEnabled()&&(c=!0)},()=>{n(2,s=void 0)},a,r,()=>{!a.getIsAutoTranslatedEnabled()||d||l||c||p({trigger:g})},()=>{!d||l||c||p({trigger:m})},u]}window.customElements.define("deepl-zendesk-input-icon",Bm);class Xm extends Zo{constructor(e){super(),Vo(this,e,Km,Zm,_n,{controller:7,message:8,processRefreshUI:9,triggerTranslateAgain:10})}get processRefreshUI(){return this.$$.ctx[9]}get triggerTranslateAgain(){return this.$$.ctx[10]}}class Qm extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.shadowContainer=document.createElement("div"),this.mainComponent;const e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",chrome.runtime.getURL("build/content.css")),this.shadow.appendChild(e),this.shadow.appendChild(this.shadowContainer),this.createDOM=this.createDOM.bind(this),this.cleanupDOM=this.cleanupDOM.bind(this),this.processRefreshUI=this.processRefreshUI.bind(this),this.triggerTranslateAgain=this.triggerTranslateAgain.bind(this)}createDOM({controller:e,message:t}){this.mainComponent=new Xm({target:this.shadowContainer,props:{onClose:this.cleanupDOM,controller:e,message:t}})}processRefreshUI(){this.mainComponent.processRefreshUI()}triggerTranslateAgain(){this.mainComponent.triggerTranslateAgain()}cleanupDOM(){this.shadowContainer.remove(),this.mainComponent&&this.mainComponent.$destroy()}}return window.customElements.define("deepl-zendesk-message-controller",Qm),e.autodetectLanguage=Us,e.calculateNewIconPosition=Pe,e.canInjectInputTranslation=tp,e.canTranslateElementForDomain=qi,e.checkIfInputHasSelection=Gt,e.clearMessageControllers=jt,e.createGoogleDocsIcon=Si,e.createInlineTranslateSettingsTooltip=Ci,e.createInlineTranslateTooltip=yi,e.createInlineTranslationTrigger=Ii,e.createInlineTranslationTriggerListener=Di,e.createNotification=Ai,e.createPageLoadPopup=Ei,e.createSubmitButtonTooltip=Vt,e.createTicketController=yt,e.customizePage=Hi,e.detectTicketLanguageInLiveChat=Rt,e.detectTicketLanguageInTicket=At,e.detectTicketType=Mt,e.disableExtension=Tt,e.enableZendeskOnboarding=Kt,e.findEditableContent=Ns,e.getActivePane=$t,e.getControllerFromMessage=Ut,e.getGDocsisEditMode=ze,e.getIFrameAndEditable=Ie,e.getIconCoordinates=Re,e.getMessageContent=Dt,e.getMessagesFromTicket=Ot,e.getSelectionContent=Ae,e.getTicketController=bt,e.getTicketId=vt,e.getTicketStartingMessage=Nt,e.getTicketStartingMessages=It,e.getUserState=js,e.getWebsiteSettings=qs,e.getZendeskController=wt,e.initInputObserver=Is,e.injectAskAReviewPopup=Pi,e.injectControllerInMessage=qt,e.injectInlineTranslation=Vs,e.injectInputHighlighter=Ri,e.injectInputTranslation=Gs,e.injectMissingMessageControllers=Ft,e.injectMissingUIElements=xt,e.isGDocs=Ne,e.isZendesk=_t,e.onOpenPage=Ws,e.pageListener=ep,e.processGDocsCopyEvent=He,e.reassembleGDocsTranslatedResult=je,e.removeAllDeeplElements=Ds,e.removeGoogleDocsIcon=ki,e.removeInlineTranslateSettingsTooltip=Ti,e.removeInlineTranslateTooltip=xi,e.removeInlineTranslateTrigger=Ni,e.removePageLoadPopup=Li,e.removeZendeskController=Oi,e.removeZendeskToolbar=Zt,e.removeZendeskUIElements=Ct,e.replaceTranslatedGDocsContent=We,e.runCustomScriptsForDomain=Bi,e.runCustomScriptsForSpecificUrl=Fi,e.scanForTranslatables=ms,e.setErrorVisibility=Ks,e.shouldBeTranslated=ds,e.shouldInjectInputIcon=Ui,e.trackPageLandingIfNeeded=Xs,e.trackZendeskCustomizationEvent=Qs,e.translateGDocsSelectionContent=Hs,e.translateInlineText=Rs,e.translateSelectionRightClick=Ps,e.translateWebsite=zs,e.translateZendeskMessage=Fs,e.translateZendeskSelectionContent=Bs,e.triggerCopyEvent=De,e.twitterState=Cg,e.unsubscribeToWebsiteState=ei,e.updateInputIconLanguageInformation=Bt,e.updateIntegrationPanelIfExists=Wt,e.updateToolbarAutoTranslateStatus=zt,e.updateToolbarLanguageInformation=Pt,e.updateTopIconLanguageInformation=Ht,e.websiteState=Jo,e.whatsAppState=Up,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
//# sourceMappingURL=content.js.map
