(()=>{var e={2043:function(e,t,s){var r,n;!function(o,a){"use strict";r=function(){var e=function(){},t="undefined",s=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function n(e,t){var s=e[t];if("function"==typeof s.bind)return s.bind(e);try{return Function.prototype.bind.call(s,e)}catch(t){return function(){return Function.prototype.apply.apply(s,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&s?o:void 0!==console[r]?n(console,r):void 0!==console.log?n(console,"log"):e)}function i(t,s){for(var n=0;n<r.length;n++){var o=r[n];this[o]=n<t?e:this.methodFactory(o,t,s)}this.log=this.debug}function l(e,s,r){return function(){typeof console!==t&&(i.call(this,s,r),this[e].apply(this,arguments))}}function g(e,t,s){return a(e)||l.apply(this,arguments)}function m(e,s,n){var o,a=this;s=null==s?"WARN":s;var l="loglevel";function m(e){var s=(r[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=s)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"="+s+";"}catch(e){}}}function c(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(e){}if(typeof e===t)try{var s=window.document.cookie,r=s.indexOf(encodeURIComponent(l)+"=");-1!==r&&(e=/^([^;]+)/.exec(s.slice(r))[1])}catch(e){}return void 0===a.levels[e]&&(e=void 0),e}}function u(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"==typeof e?l+=":"+e:"symbol"==typeof e&&(l=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=n||g,a.getLevel=function(){return o},a.setLevel=function(s,r){if("string"==typeof s&&void 0!==a.levels[s.toUpperCase()]&&(s=a.levels[s.toUpperCase()]),!("number"==typeof s&&s>=0&&s<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+s;if(o=s,!1!==r&&m(s),i.call(a,s,e),typeof console===t&&s<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){s=e,c()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(s,!1),u()},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var A=c();null==A&&(A=s),a.setLevel(A,!1)}var c=new m,u={};c.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=u[e];return t||(t=u[e]=new m(e,c.getLevel(),c.methodFactory)),t};var A=typeof window!==t?window.log:void 0;return c.noConflict=function(){return typeof window!==t&&window.log===c&&(window.log=A),c},c.getLoggers=function(){return u},c.default=c,c},void 0===(n="function"==typeof r?r.call(t,s,t,e):r)||(e.exports=n)}()},2835:(e,t,s)=>{"use strict";s.r(t)},4551:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EngineState=void 0,function(e){e.RUNNING="running",e.DISABLED="disabled",e.LOADED="loaded"}(t.EngineState||(t.EngineState={}))},3046:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HOSTS_PERMISSIONS=t.UPDATE_STORAGE_KEY=t.APP_TEMP_INSTALL_ATTEMPT_STORAGE_KEY=t.APP_TEMP_INSTALL_STORAGE_KEY=t.APP_INSTALLATION_PARAMS_STORAGE_KEY=t.APP_LOCAL_STORAGE_KEY=t.APP_FILES_STORAGE_KEY=t.APP_DATA_STORAGE_KEY=t.SCHEMA_STORAGE_KEY=t.RUNTIME_MESSAGE_KEY=t.UUID_STORAGE_KEY=t.SETTINGS_STORAGE_KEY=void 0,t.SETTINGS_STORAGE_KEY="_foxified__opt",t.UUID_STORAGE_KEY="_foxified__uuid",t.RUNTIME_MESSAGE_KEY="_foxified__msg",t.SCHEMA_STORAGE_KEY="_foxified__api-schema",t.APP_DATA_STORAGE_KEY="_foxified__app-data",t.APP_FILES_STORAGE_KEY="_foxified__app-files",t.APP_LOCAL_STORAGE_KEY="_foxified__app-localstorage",t.APP_INSTALLATION_PARAMS_STORAGE_KEY="_foxified__app-installation-params",t.APP_TEMP_INSTALL_STORAGE_KEY="_foxified__app-temp-files",t.APP_TEMP_INSTALL_ATTEMPT_STORAGE_KEY="_foxified__app-temp-install-attempt",t.UPDATE_STORAGE_KEY="_foxified__update-status",t.HOSTS_PERMISSIONS=["http://*/*","https://*/*"]},3771:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(s(923));t.default=class{constructor(e,t){this.targetWindow=e,this.moduleName=t,this.listeners={},this.responseQueue=new Map,n.default.info(`${this.moduleName}: Registering window message listener.`),window.addEventListener("message",(e=>{const{id:t,name:s,data:r}=e.data;if(null===t&&"__RESPONSE__"===s){const{responseFor:t}=e.data,s=this.responseQueue.get(t);return n.default.info(`${this.moduleName}: Response received for message id "${t}".`,{data:r}),void(void 0!==s&&(s(r),this.responseQueue.delete(t)))}if(void 0===this.listeners[s])n.default.warn(`${this.moduleName}: Message listener for name "${s}" does not exist.`);else{n.default.info(`${this.moduleName}: Message received with name "${s}".`,{data:r});const e=(0,this.listeners[s])(r);this.sendResponse(t,e)}}))}on(e,t){this.listeners[e]=t}send(e,t=null){let s=`message-${Date.now()}-${Math.round(1e5*Math.random())}`;for(;this.responseQueue.has(s);)s=`message-${Date.now()}-${Math.round(1e5*Math.random())}`;return n.default.info(`${this.moduleName}: Sending message with name "${e}" and id "${s}".`,{data:t}),this.targetWindow.postMessage({id:s,name:e,data:t},"*"),new Promise((e=>{this.responseQueue.set(s,e)}))}sendResponse(e,t){Promise.resolve(t).then((t=>{this.targetWindow.postMessage({id:null,name:"__RESPONSE__",data:t,responseFor:e},"*")}))}}},7538:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(s(3150)),o=r(s(3771)),a=r(s(3797)),i=r(s(4103)),l=r(s(4175));t.default=(e,t,s=document.body)=>{const r=n.default.runtime.getURL(`ff-sandbox.html?page=${t}`),g=document.createElement("iframe");return g.className="js-sandbox",g.scrolling="no",g.frameBorder="0",new Promise(((n,m)=>{g.onload=()=>{const{contentWindow:s}=g;if(null===s)return m();const r=new o.default(s,t);return r.send("ready"),(0,a.default)(e,r),(0,i.default)(r),(0,l.default)(r),r.on("resize",(({height:e,width:t})=>{e&&(g.style.height=`${e}px`),t&&(g.style.width=`${t}px`)})),setTimeout((()=>{g.classList.add("is-ready")}),500),n({iframe:g,message:r})},g.src=r,s.appendChild(g)}))}},7732:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(s(3025));t.default=class{constructor(e){this.message=e,this.INTERCEPT_EVENTS=["runtime.onInstalled","runtime.onStartup"],this.listeners={},this.interceptRuntimeOnMessage=(0,n.default)(e),window.addEventListener("extension:event",(e=>{const{event:t,data:s}=e.detail;switch(t){case"installed":{const e=this.listeners["runtime.onInstalled"];if(e){if(!s)return;const t={};t.reason=s.reason,"update"===t.reason&&(t.previousVersion=s.previousVersion),e.forEach((e=>{e(t)}))}break}case"startup":{const e=this.listeners["runtime.onStartup"];e&&e.forEach((e=>{e()}));break}}}))}intercept(e,t,s){if("runtime.onMessage"===e||"extension.onMessage"===e)return this.interceptRuntimeOnMessage(t,s),!0;if(!this.INTERCEPT_EVENTS.includes(e))return!1;if("addListener"===t){if(void 0===this.listeners[e]&&(this.listeners[e]=new Map),!this.listeners[e].get(s)){const t=(...t)=>{this.message.send("chrome:listener-response",{event:e,id:s,args:t})};this.listeners[e].set(s,t)}}else if("removeListener"===t&&void 0!==this.listeners[e]){this.listeners[e].get(s)&&this.listeners[e].delete(s)}return!1}}},8295:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(s(3150));t.default=class{constructor(e){this.engine=e}hijack(e,t){return"runtime.setUninstallURL"===e?(this.setUninstallUrl(t[0]),{hijacked:!0,result:void 0}):{hijacked:!1,result:void 0}}setUninstallUrl(e){this.engine.setUninstallUrl(e),n.default.runtime.setUninstallURL(e)}}},8510:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(s(3150)),o=s(3046);class a{constructor(e){this.engine=e,this.GUARDED_STORAGE_KEYS={local:[o.SETTINGS_STORAGE_KEY,o.SCHEMA_STORAGE_KEY,o.APP_FILES_STORAGE_KEY,o.APP_LOCAL_STORAGE_KEY,o.APP_INSTALLATION_PARAMS_STORAGE_KEY,o.APP_TEMP_INSTALL_STORAGE_KEY],sync:[o.UUID_STORAGE_KEY,o.APP_DATA_STORAGE_KEY]}}transform(e,t){switch(e){case"storage.local.set":return this.storageSet("local",t);case"storage.sync.set":return this.storageSet("sync",t);case"storage.local.remove":return this.storageRemove("local",t);case"storage.sync.remove":return this.storageRemove("sync",t);case"storage.local.clear":return this.storageClear("local"),t;case"storage.sync.clear":return this.storageClear("sync"),t;case"tabs.create":return a.tabsCreate(t);case"tabs.executeScript":return this.tabsExecuteScript(t);default:return t}}storageSet(e,t){const s=t[0];return this.GUARDED_STORAGE_KEYS[e].forEach((e=>delete s[e])),t}storageRemove(e,t){const[s]=t;return Array.isArray(s)?t[0]=s.filter((t=>!this.GUARDED_STORAGE_KEYS[e].includes(t))):this.GUARDED_STORAGE_KEYS[e].includes(s)&&(t[0]=[]),t}storageClear(e){n.default.storage[e].get().then((t=>{const s={};this.GUARDED_STORAGE_KEYS[e].forEach((e=>{void 0!==t[e]&&(s[e]=t[e])})),Object.keys(s).length>0&&setTimeout((()=>{n.default.storage[e].set(s)}),1e3)}))}static tabsCreate(e){const t=e[0];return t.url.startsWith("http")||(t.url=n.default.runtime.getURL(`ff-options.html?url=${encodeURIComponent(t.url)}`)),e}tabsExecuteScript(e){const t=e.length>1?e[1]:e[0];if(t.file&&this.engine.extension){const e=t.file;delete t.file,t.code=t.code||"",t.code+=this.engine.extension.getTextFile(e)}return e}}t.default=a},3797:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(s(8295)),o=r(s(8510)),a=r(s(7732));t.default=(e,t)=>{const s={},r=new n.default(e),i=new o.default(e),l=new a.default(t);function g(e){let t=s[e];if(void 0!==t)return t;const r=e.split(".");let n=null;for(t=chrome;r.length;)n=t,t=n[r.shift()];return s[e]=t.bind(n),s[e]}t.on("chrome:call-method",(({path:e,args:t,hasCallback:s})=>{const n=r.hijack(e,t);if(n.hijacked)return n.result;t=i.transform(e,t);const o=g(e);return s?new Promise((e=>{o(...t,((...t)=>{chrome.runtime.lastError,e(...t)}))})):o(...t)}));const m={};t.on("chrome:listener-action",(({event:e,action:s,id:r})=>{if(l.intercept(e,s,r))return;const n=g(`${e}.${s}`);if("addListener"===s){if(void 0===m[e]&&(m[e]=new Map),!m[e].get(r)){const s=(...s)=>{const n={event:e,id:r,args:s};t.send("chrome:listener-response",n)};m[e].set(r,s),n(s)}}else if("removeListener"===s&&void 0!==m[e]){const t=m[e].get(r);t&&(m[e].delete(r),n(t))}}))}},3025:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(s(3150)),o=s(3046);t.default=e=>{const t=new Map,s=new Map;return e.on("chrome:runtime-message-response",(({responseId:e,args:t})=>{const r=s.get(e);r&&(r(...t),s.delete(e))})),(r,a)=>{if("addListener"===r){const r=(t,r)=>{const{messageRecipient:n}=t;if(void 0===n||n!==o.RUNTIME_MESSAGE_KEY)return new Promise((n=>{let o=`response-resolver-${Date.now()}-${Math.round(1e5*Math.random())}`;for(;s.has(o);)o=`response-resolver-${Date.now()}-${Math.round(1e5*Math.random())}`;s.set(o,n);const i={id:a,responseId:o,message:t,sender:r};e.send("chrome:runtime-message",i)}))};n.default.runtime.onMessage.addListener(r),t.set(a,r)}else if("removeListener"===r){let e=null;t.forEach(((t,s)=>{s===a&&(e=t)})),e&&(n.default.runtime.onMessage.removeListener(e),t.delete(a))}}}},4175:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(s(3150)),o=s(3046);t.default=e=>{let t={};function s(){const e={};e[o.APP_LOCAL_STORAGE_KEY]=t,n.default.storage.local.set(e)}n.default.storage.local.get(o.APP_LOCAL_STORAGE_KEY).then((e=>{void 0!==e[o.APP_LOCAL_STORAGE_KEY]&&(t=e[o.APP_LOCAL_STORAGE_KEY])})),e.on("local-storage:get",(()=>t)),e.on("local-storage:set",(({keyName:e,keyValue:r})=>{t[e]=r,s()})),e.on("local-storage:remove",(({keyName:e})=>{delete t[e],s()})),e.on("local-storage:clear",(()=>{t={},s()}))}},4103:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{const t=new Map;e.on("xhr:send",(s=>{const{id:r,method:n,url:o,async:a,body:i,headers:l,responseType:g,timeout:m,mimeType:c}=s,u=new XMLHttpRequest;function A(t){const s={id:r,eventType:t.type,event:{timestamp:t.timeStamp,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total,type:t.type},response:{readyState:u.readyState,status:u.status,statusText:u.statusText,response:u.response,responseURL:u.responseURL,responseType:u.responseType,responseText:""===g||"text"===g?u.responseText:void 0},responseHeaders:u.getAllResponseHeaders()};e.send("xhr:response",s)}t.set(r,u),g&&(u.responseType=g),null!==m&&(u.timeout=m),null!==c&&u.overrideMimeType(c),u.open(n,o,a),l.forEach((({header:e,value:t})=>u.setRequestHeader(e,t))),u.onabort=A,u.onerror=A,u.onload=A,u.onloadstart=A,u.onprogress=A,u.ontimeout=A,u.onreadystatechange=()=>{const t={id:r,eventType:"readystatechange",response:{readyState:u.readyState,status:u.status,statusText:u.statusText,response:u.response,responseURL:u.responseURL,responseType:u.responseType,responseText:""===g||"text"===g?u.responseText:void 0},responseHeaders:u.getAllResponseHeaders()};e.send("xhr:response",t)},u.onloadend=e=>{A(e),t.delete(r)},u.send(i)})),e.on("xhr:abort",(({id:e})=>{const s=t.get(e);s&&(s.abort(),t.delete(e))}))}},7051:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function i(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(a,i)}l((r=r.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(s(3150)),a=n(s(923)),i=s(3046),l=["prototype","constructor"],g=["addRules","removeRules","getRules"],m=["loadTimes","csi","Event","app.getIsInstalled","app.getDetailsForFrame","app.runningState","app.installState","extension.getViews","extension.getExtensionTabs","runtime.getPackageDirectoryEntry","extension.setUpdateUrlData"],c=["extension.onConnect","runtime.onConnect","extension.onConnectExternal","runtime.onConnectExternal"];function u(e,t){const s={};return Object.keys(e).forEach((r=>{if(l.includes(r))return;const n=`${t}${t?".":""}${r}`,o=e[r];if(null===o||"object"!=typeof o||Array.isArray(o))if("function"==typeof o){if(g.includes(r)||m.includes(n)||c.includes(t))return;s[r]="[Function]"}else s[r]=o;else{const e=u(o,n);0!==Object.keys(e).length&&(s[r]=e)}})),s}function A(){const e=u(chrome,""),t={};return t[i.SCHEMA_STORAGE_KEY]={schema:e,expires:Date.now()+6048e5},o.default.storage.local.set(t),a.default.info("Schema generated and saved in storage.",t),e}t.default=()=>r(void 0,void 0,void 0,(function*(){a.default.info("Getting Chrome API Schema.");const e=yield o.default.storage.local.get(i.SCHEMA_STORAGE_KEY);if(void 0===e[i.SCHEMA_STORAGE_KEY])return a.default.warn("Chrome API Schema not found in storage."),A();const{schema:t,expires:s}=e[i.SCHEMA_STORAGE_KEY];return s<Date.now()?(a.default.warn("Schema is expired."),A()):(a.default.info("Schema found in storage.",{data:e}),t)}))},923:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=r(s(2043));n.default.setLevel("ERROR",!1),t.default=n.default},561:function(e,t,s){"use strict";var r=this&&this.__awaiter||function(e,t,s,r){return new(s||(s=Promise))((function(n,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function i(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(a,i)}l((r=r.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),s(2835);const o=n(s(3150)),a=n(s(7051)),i=n(s(7538)),l=s(4551);r(void 0,void 0,void 0,(function*(){const e=yield o.default.runtime.getBackgroundPage(),{engine:t}=e;if(t.state!==l.EngineState.RUNNING||null===t.extension)return;const s=t.extension.getPopup();if(null===s)return;const r=yield(0,a.default)(),{html:n,css:g,js:m}=s,{manifest:c,details:u,locale:A,uiLanguage:d,appUrl:f,webAccessibleResources:p}=t.extension,h=yield(0,i.default)(t,"popup"),_={schema:r,manifest:c,details:u,uiLanguage:d,locale:A,appUrl:f,js:m,webAccessibleResources:p,css:g,html:n};h.message.on("data",(()=>_))}))},3150:function(e,t){var s,r,n;"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self&&self,r=[e],s=function(e){"use strict";if("undefined"==typeof browser||Object.getPrototypeOf(browser)!==Object.prototype){const t="The message port closed before a response was received.",s="Returning a Promise is the preferred way to send a reply from an onMessage/onMessageExternal listener, as the sendResponse will be removed from the specs (See https://developer.mozilla.org/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage)",r=e=>{const r={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(0===Object.keys(r).length)throw new Error("api-metadata.json has not been included in browser-polyfill");class n extends WeakMap{constructor(e,t){super(t),this.createItem=e}get(e){return this.has(e)||this.set(e,this.createItem(e)),super.get(e)}}const o=e=>e&&"object"==typeof e&&"function"==typeof e.then,a=(t,s)=>(...r)=>{e.runtime.lastError?t.reject(new Error(e.runtime.lastError.message)):s.singleCallbackArg||r.length<=1&&!1!==s.singleCallbackArg?t.resolve(r[0]):t.resolve(r)},i=e=>1==e?"argument":"arguments",l=(e,t)=>function(s,...r){if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((n,o)=>{if(t.fallbackToNoCallback)try{s[e](...r,a({resolve:n,reject:o},t))}catch(o){console.warn(`${e} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,o),s[e](...r),t.fallbackToNoCallback=!1,t.noCallback=!0,n()}else t.noCallback?(s[e](...r),n()):s[e](...r,a({resolve:n,reject:o},t))}))},g=(e,t,s)=>new Proxy(t,{apply:(t,r,n)=>s.call(r,e,...n)});let m=Function.call.bind(Object.prototype.hasOwnProperty);const c=(e,t={},s={})=>{let r=Object.create(null),n={has:(t,s)=>s in e||s in r,get(n,o,a){if(o in r)return r[o];if(!(o in e))return;let i=e[o];if("function"==typeof i)if("function"==typeof t[o])i=g(e,e[o],t[o]);else if(m(s,o)){let t=l(o,s[o]);i=g(e,e[o],t)}else i=i.bind(e);else if("object"==typeof i&&null!==i&&(m(t,o)||m(s,o)))i=c(i,t[o],s[o]);else{if(!m(s,"*"))return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:()=>e[o],set(t){e[o]=t}}),i;i=c(i,t[o],s["*"])}return r[o]=i,i},set:(t,s,n,o)=>(s in r?r[s]=n:e[s]=n,!0),defineProperty:(e,t,s)=>Reflect.defineProperty(r,t,s),deleteProperty:(e,t)=>Reflect.deleteProperty(r,t)},o=Object.create(e);return new Proxy(o,n)},u=e=>({addListener(t,s,...r){t.addListener(e.get(s),...r)},hasListener:(t,s)=>t.hasListener(e.get(s)),removeListener(t,s){t.removeListener(e.get(s))}}),A=new n((e=>"function"!=typeof e?e:function(t){const s=c(t,{},{getContent:{minArgs:0,maxArgs:0}});e(s)}));let d=!1;const f=new n((e=>"function"!=typeof e?e:function(t,r,n){let a,i,l=!1,g=new Promise((e=>{a=function(t){d||(console.warn(s,(new Error).stack),d=!0),l=!0,e(t)}}));try{i=e(t,r,a)}catch(e){i=Promise.reject(e)}const m=!0!==i&&o(i);if(!0!==i&&!m&&!l)return!1;const c=e=>{e.then((e=>{n(e)}),(e=>{let t;t=e&&(e instanceof Error||"string"==typeof e.message)?e.message:"An unexpected error occurred",n({__mozWebExtensionPolyfillReject__:!0,message:t})})).catch((e=>{console.error("Failed to send onMessage rejected reply",e)}))};return c(m?i:g),!0})),p=({reject:s,resolve:r},n)=>{e.runtime.lastError?e.runtime.lastError.message===t?r():s(new Error(e.runtime.lastError.message)):n&&n.__mozWebExtensionPolyfillReject__?s(new Error(n.message)):r(n)},h=(e,t,s,...r)=>{if(r.length<t.minArgs)throw new Error(`Expected at least ${t.minArgs} ${i(t.minArgs)} for ${e}(), got ${r.length}`);if(r.length>t.maxArgs)throw new Error(`Expected at most ${t.maxArgs} ${i(t.maxArgs)} for ${e}(), got ${r.length}`);return new Promise(((e,t)=>{const n=p.bind(null,{resolve:e,reject:t});r.push(n),s.sendMessage(...r)}))},_={devtools:{network:{onRequestFinished:u(A)}},runtime:{onMessage:u(f),onMessageExternal:u(f),sendMessage:h.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:h.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},x={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return r.privacy={network:{"*":x},services:{"*":x},websites:{"*":x}},c(e,_,r)};if("object"!=typeof chrome||!chrome||!chrome.runtime||!chrome.runtime.id)throw new Error("This script should only be loaded in a browser extension.");e.exports=r(chrome)}else e.exports=browser},void 0===(n="function"==typeof s?s.apply(t,r):s)||(e.exports=n)}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,s),o.exports}s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};s(561)})();