"use strict";cjce.registerTemplate("bm-p-ngramviewer",function(e,a){var c="https://books.google.com",n="/ngrams/",i=c+n,o=cjBasics.uniqueId.generate(),s={bm_cid:"ngramviewer",bm_cst:"1",bm_iid:o,hl:cjBasics.lang.current},t={home:{iconName:"__mdi:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),shortcutId:"125"},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},classicbooks:{iconName:"__mdi:cj_item",label:cjBasics.lang.i18n("cj_i18n_01911","Google Books"),shortcutId:"543"},books:{iconName:"__mdi:cj_item",label:cjBasics.lang.i18n("cj_i18n_00285","Play Books"),shortcutId:"65"}},r=cjBasics.urlParams.attach(i,s),l=(cjBasics.webRequest.handleIframeHeaders([c+"/*bm_iid="+o+"*"],{disableOgs:c,handleFirefoxInject:!0,handleSecVariables:!0,handleSwCache:!0}),cjBasics.webRequest.addListener("onBeforeRequest",function(e){var c=e.url;if(-1===c.indexOf("bm_cid=ngramviewer"))return{redirectUrl:cjBasics.urlParams.attach(e.url,s)}},{urls:[c+n+"*"],types:["sub_frame"]},["blocking"]),cjce.createElement("bm-ogb",{loading:!0,drawer:!0,serviceIcon:"books",serviceLabel:cjBasics.lang.i18n("cj_i18n_07347","Ngram Viewer"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:a,onNewTab:function(){m.cjceGetCleanUrl(c).then(function(e){a.openTab(e||i)})}})),o=cjce.createElement("ccbm-iconbutton",{iconName:"__mdi:more_vert",label:cjBasics.lang.i18n("cj_i18n_06294","More actions"),onClick:function(){m.cjceSendFrameCommand({method:"bmCstClickDomElement",value:"#overflow-menu-button"},c)}}),n=(l.cjceAppendChild(o),o.parentNode.appendChild(o),cjce.createElement("bm-navlist",{items:t,selectedId:"home",onClick:function(e){a.pageManager.navigate(e)},onNewTab:function(e,c){c=c.newTabUrl||cjgShortcuts.getUrl(c.shortcutId,a.account);a.openTab(c)}})),m=(l.cjceDrawerEl.appendChild(n),e.appendChild(l),cjce.createElement("bm-iframe",{shadow:!0,solid:"#fff",src:r,onLoad:function(){l.cjceSetLoading(!1)}}));e.appendChild(m)});