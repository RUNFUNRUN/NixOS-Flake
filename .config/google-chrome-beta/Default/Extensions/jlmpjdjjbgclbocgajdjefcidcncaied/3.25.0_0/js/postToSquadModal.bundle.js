"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[19,653],{64975:(e,t,r)=>{r.d(t,{H:()=>s,Z:()=>f});var n=r(94184),a=r.n(n),l=r(35776),o=r(49003);const c=["children","placeholder","className","canFetchMore","isFetchingNextPage","fetchNextPage"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u.apply(this,arguments)}function i(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const s=e=>{var t;return!e.isLoading&&!e.isFetchingNextPage&&e.hasNextPage&&(null===(t=e.data)||void 0===t?void 0:t.pages.length)>0};const f=function(e){let t=e.children,r=e.placeholder,n=e.className,s=e.canFetchMore,f=e.isFetchingNextPage,d=e.fetchNextPage,m=i(e,c);const p=(0,o.Z)({fetchPage:d,canFetchMore:s});return l.default.createElement("div",u({},m,{className:a()("flex relative flex-col",n)}),t,f&&r,l.default.createElement("div",{className:"absolute bottom-0 left-0 w-px h-px opacity-0 pointer-events-none",ref:p}))}},94226:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(35776),a=r(34051);const l=(0,r(32256).Z)(a.f,"h-3 rounded-12");const o=function(e){let t=e.amount,r=void 0===t?7:t;return n.default.createElement("div",{className:"flex flex-col"},Array(r).fill(0).map(((e,t)=>n.default.createElement("div",{key:t,className:"flex flex-row items-center py-3 px-8"},n.default.createElement(a.f,{className:"w-16 laptop:w-24 h-16 rounded-16"}),n.default.createElement("div",{className:"flex flex-col flex-1 ml-4"},n.default.createElement(l,{className:"w-full laptop:w-1/2"}),n.default.createElement(l,{className:"mt-2 w-2/3 laptop:w-1/3"}))))))}},134:(e,t,r)=>{r.r(t),r.d(t,{default:()=>F});var n=r(86484),a=r.n(n),l=r(35776),o=r(88767),c=r(28687),u=r.n(c),i=r(58953),s=r(33793),f=r(97550),d=r(52809),m=r(32713),p=r(61843),b=r(21156),y=r(55206),h=r(62835),g=r(46899),v=r(34445),O=r(67218);const w=["onSharedSuccessfully","onRequestClose","isOpen","preview","squad","requestMethod"];function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x.apply(this,arguments)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t,r,n,a,l,o){try{var c=e[l](o),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var l=e.apply(t,r);function o(e){N(l,n,a,o,c,"next",e)}function c(e){N(l,n,a,o,c,"throw",e)}o(void 0)}))}}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function q(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const D=[{key:y.XK.SelectArticle},{key:y.XK.WriteComment}];const F=function(e){let t=e.onSharedSuccessfully,r=e.onRequestClose,n=e.isOpen,c=e.preview,y=e.squad,P=e.requestMethod,j=void 0===P?u():P,N=q(e,w);const C=!!c,F=(0,o.useQueryClient)(),A=(0,l.useContext)(h.ZP).user,I=(0,m.sW)().displayToast,Z=(0,O.j)(),L=Z.isEnabled,M=Z.shouldShowCta,R=Z.onSubmitted,H=Z.onToggle,_=k((0,l.useState)({name:y.name,file:y.image,handle:y.handle,buttonText:"Done",preview:c}),2),z=_[0],T=_[1],K=(0,g.o)().completeAction,U=function(){var e=S(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&(null==t||t(n)),R(),I("This post has been shared to your Squad"),e.next=5,F.invalidateQueries(["sourceFeed",A.id]);case 5:K(v.Us.SquadFirstPost),r(null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=(0,o.useMutation)((0,s.nf)(j),{onSuccess:U}),W=B.mutateAsync,$=B.isLoading,Y=(0,o.useMutation)(d.m5,{onSuccess:()=>U(null)}),X=Y.mutateAsync,G=Y.isLoading,Q=function(){var e=S(a().mark((function e(t,r){var n,l,o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||t.preventDefault(),!$){e.next=3;break}return e.abrupt("return",null);case 3:if(!z.preview.id){e.next=5;break}return e.abrupt("return",W({id:z.preview.id,sourceId:y.id,commentary:null!=r?r:null==t?void 0:t.target[0].value}));case 5:if(n=z.preview,l=n.title,o=n.image,c=n.url,l){e.next=8;break}return e.abrupt("return",I("Invalid link"));case 8:return e.next=10,X({url:c,title:l,image:o,sourceId:y.id,commentary:r});case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),J=function(){var e=S(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&T(t),t.commentary){e.next=3;break}return e.abrupt("return");case 3:Q(void 0,t.commentary);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V={form:z,onUpdateForm:T,onNext:J,onRequestClose:r},ee=E(E({},V),{},{isNotificationEnabled:L,onToggleNotification:H,shouldShowToggle:M});return l.default.createElement(i.u_,x({isOpen:n,kind:i.u_.Kind.FixedCenter,size:i.u_.Size.Small,onRequestClose:r,steps:null!=c&&c.id?void 0:D},N),l.default.createElement(i.u_.Header,{title:C?"Post article":"Share post"}),C?l.default.createElement(f.$,x({},ee,{onSubmit:Q,isLoading:$||G})):l.default.createElement(l.default.Fragment,null,l.default.createElement(p.q,V),l.default.createElement(b.N,x({},ee,{isLoading:$}))))}},52760:(e,t,r)=>{r.r(t),r.d(t,{ReadingHistoryModal:()=>i,default:()=>s});var n=r(35776),a=r(58953),l=r(43093),o=r(34137),c=r(2006),u=r(94226);function i(e){let t=e.onArticleSelected,r=e.onRequestClose;const i=(0,o.G)(),s=i.hasData,f=i.isInitialLoading,d=i.data,m=i.isLoading,p=i.canFetchMore,b=i.fetchNextPage,y=i.isFetchingNextPage,h=!s&&!f;return n.default.createElement(a.u_,{isOpen:!0,onRequestClose:r,kind:a.u_.Kind.FixedCenter,size:a.u_.Size.Small},n.default.createElement(a.u_.Body,null,n.default.createElement(c.A,{hasNoData:h}),n.default.createElement(l.H,{onArticleClick:(e,n)=>{t(n),r(e)},data:d,canFetchMore:p,fetchNextPage:b,isFetchingNextPage:y}),m&&n.default.createElement(u.Z,{amount:f?15:1})))}const s=i},2006:(e,t,r)=>{r.d(t,{A:()=>l});var n=r(35776),a=r(55206);function l(e){let t=e.hasNoData;return n.default.createElement(n.default.Fragment,null,n.default.createElement(a.q4,null,t?"Read":"Share"," ",n.default.createElement(a.Cj,null,"a post")),n.default.createElement("p",{className:"py-4 text-center"},t?"Your reading history is empty! Please read at least one post by clicking on a post to start sharing with your Squad.":"Pick a post that you would like to discuss with your Squad members."))}},43183:(e,t,r)=>{r.d(t,{A:()=>n.A});r(52760);var n=r(2006)},6646:(e,t,r)=>{r.d(t,{Z:()=>g});var n=r(35776),a=r(94184),l=r.n(a),o=r(41664),c=r.n(o),u=r(59363),i=r(85708),s=r(32256),f=r(26990),d=r(50104),m=r(38050),p=r(92360),b=r(77314),y=r(84558);const h=(0,s.Z)("div","absolute left-5 -my-1 w-8 h-8 rounded-full bg-theme-bg-primary");function g(e){var t;let r=e.postItem,a=e.showButtons,o=void 0===a||a,s=e.clickable,g=void 0===s||s,v=e.onHide,O=e.className,w=e.onContextMenu;const x=r.timestampDb,P=r.post,E=null!==(t=null==P?void 0:P.sharedPost)&&void 0!==t?t:P;return n.default.createElement(b.Z,{condition:g,wrapper:e=>n.default.createElement(c(),{href:P.commentsPermalink},e)},n.default.createElement("article",{className:l()("flex relative flex-row items-center py-3 pr-5 pl-9",g&&"hover:bg-theme-hover hover:cursor-pointer",O)},n.default.createElement(p.E,{src:E.image,alt:P.title,className:"object-cover w-16 laptop:w-24 h-16 rounded-16",loading:"lazy",fallbackSrc:y.n.post.imageCoverPlaceholder}),n.default.createElement(h,null),n.default.createElement(m.YY,{size:"small",rounded:"full",className:"absolute left-6",user:{image:P.source.image,username:`source of ${P.title}`},nativeLazyLoading:!0}),n.default.createElement("div",{className:"flex flex-col flex-1 ml-4"},n.default.createElement("h3",{className:"flex flex-1 mr-6 text-left break-words line-clamp-2 typo-callout"},P.title),n.default.createElement(d.Z,{readTime:P.readTime,numUpvotes:P.numUpvotes})),o&&v&&n.default.createElement(f.z,{buttonSize:f.q.Small,className:"hidden laptop:flex btn-tertiary",icon:n.default.createElement(u.Z,null),onClick:e=>{e.stopPropagation(),v({postId:P.id,timestamp:x})}}),o&&n.default.createElement(f.z,{className:"btn-tertiary","data-testId":`post-item-${P.id}`,icon:n.default.createElement(i.Z,null),onClick:e=>{e.stopPropagation(),w(e,r)},buttonSize:f.q.Small})))}},53816:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(35776),a=r(94184),l=r.n(a),o=r(92360),c=r(84558),u=r(96028),i=r(34051),s=r(32256),f=r(86548);const d=(0,s.Z)(i.f,"rounded-16 bg-theme-active"),m=(0,s.Z)(d,"w-full h-1.5");const p=function(e){let t=e.preview,r=e.className,a=e.isLoading;const i=null!=t?t:{},s=i.url,p=i.title,b=i.image,y="w-16 laptop:w-24 h-16 rounded-16";return a||p?n.default.createElement("div",{className:l()("flex gap-4 items-center py-2 px-4 w-full rounded-12 border border-theme-divider-tertiary",r)},a?n.default.createElement("div",{className:"flex flex-col flex-1 gap-3"},n.default.createElement(m,null),n.default.createElement(m,null),n.default.createElement(m,{className:"w-1/3"})):n.default.createElement("p",{className:"flex-1 line-clamp-3 multi-truncate text-theme-label-secondary typo-caption1"},p),a?n.default.createElement(d,{className:y}):n.default.createElement(o.E,{src:b,className:l()("object-cover",y),loading:"lazy",fallbackSrc:c.n.post.imageCoverPlaceholder}),n.default.createElement("a",{href:s,target:"_blank",rel:"noopener noreferrer"},n.default.createElement(u.Z,{size:f.J.Medium,className:a&&"text-theme-label-disabled"}))):null}},36271:(e,t,r)=>{r.d(t,{H:()=>u});var n=r(35776),a=r(64975),l=r(6646),o=r(8311),c=r(86548);function u(e){let t=e.onArticleClick,r=e.data,u=e.canFetchMore,i=e.isFetchingNextPage,s=e.fetchNextPage;return n.default.createElement(a.Z,{canFetchMore:u,fetchNextPage:s,isFetchingNextPage:i},null==r?void 0:r.map((e=>n.default.createElement("button",{key:e.post.id,type:"button",className:"group relative -mx-6 hover:bg-theme-hover cursor-pointer",onClick:r=>t(r,e)},n.default.createElement(l.Z,{postItem:e,showButtons:!1,clickable:!1}),n.default.createElement(o.Z,{size:c.J.Medium,className:"hidden group-hover:flex absolute top-1/2 right-3 rotate-90 -translate-y-1/2"})))))}},43093:(e,t,r)=>{r.d(t,{H:()=>n.H});var n=r(36271)},97550:(e,t,r)=>{r.d(t,{$:()=>k});var n,a=r(35776),l=r(94184),o=r.n(l),c=r(58953),u=r(26990),i=r(38050),s=r(92360),f=r(84558),d=r(62835),m=r(36583),p=r(52465),b=r(72107),y=r(17291),h=r(70558),g=r(43197),v=r(53816),O=r(48820),w=r(48270),x=r(79939);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,c=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(c)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k(e){let t=e.onSubmit,r=e.form,l=e.shouldShowToggle,P=e.isLoading,j=e.onUpdateForm,S=e.isNotificationEnabled,k=e.onToggleNotification;const C=(0,a.useRef)(),q=r.preview,D=r.handle,F=r.file,A=r.name,I=!!q.id,Z=(0,a.useContext)(d.ZP).user,L=N((0,a.useState)(r.commentary),2),M=L[0],R=L[1],H=N((0,a.useState)(q.url),2),_=H[0],z=H[1],T=N((0,a.useState)(q.url),2),K=T[0],U=T[1],B=(0,w.x)({callback:{onSuccess:(e,t)=>{var r;j((r=>E(E({},r),{},{preview:E({url:t},e)}))),null==C||null===(r=C.current)||void 0===r||r.focus()},onError:(e,t)=>j((e=>E(E({},e),{},{preview:{url:t}})))}}),W=B.getLinkPreview,$=B.isLoadingPreview,Y=N((0,y.Z)((e=>(0,h.HH)(e)&&e!==q.url?W(e):null),1e3),1)[0];(0,a.useEffect)((()=>{var e,t;q.title&&(null==C||null===(e=C.current)||void 0===e||null===(t=e.focus)||void 0===t||t.call(e))}),[]);const X=e=>t(e,M);return a.default.createElement(a.default.Fragment,null,a.default.createElement(c.u_.Body,{className:o()("flex flex-col",!I&&"pb-2")},a.default.createElement("form",{onSubmit:e=>X(e),className:"flex flex-col flex-1",id:"squad-comment"},a.default.createElement("span",{className:"flex flex-row flex-1 gap-4"},a.default.createElement(i.YY,{user:Z}),a.default.createElement("textarea",{placeholder:"Share your thought and insights about the postâ€¦",className:"flex-1 self-stretch w-full min-w-0 focus:placeholder-transparent bg-transparent focus:outline-none resize-none typo-body caret-theme-label-link text-theme-label-primary",value:M,onKeyDown:e=>{(e.ctrlKey||e.metaKey)&&e.key===g.SO.Enter&&null!=M&&M.length&&X(null)},onChange:e=>R(e.target.value),ref:C})),a.default.createElement(v.Z,{className:"mb-4",preview:q,isLoading:$}),!I&&a.default.createElement(p.n,{leftIcon:$?a.default.createElement(O.a,null):a.default.createElement(b.Z,null),label:"Enter link to share",fieldType:"tertiary",inputId:"url",name:"url",type:"url",autoComplete:"off",required:!0,value:_,onInput:e=>{const t=e.currentTarget.value;return z(t),Y(t),t?(0,h.HH)(t)?(K&&U(""),null):K&&K!==n.Required?null:U(n.Invalid):U(n.Required)},hint:K,saveHintSpace:!0,disabled:P}))),a.default.createElement(c.u_.Footer,{className:o()("flex flex-col justify-center",l&&"h-[unset]")},l&&a.default.createElement(x.r,{"data-testId":"push_notification-switch",inputId:"push_notification-switch",name:"push_notification",labelClassName:"flex-1 font-normal",className:"py-3 w-full max-w-full",compact:!1,checked:S,onToggle:k},"Receive updates whenever your Squad members engage with your post"),a.default.createElement("span",{className:"flex justify-between w-full"},a.default.createElement("div",{className:"flex"},a.default.createElement(s.E,{className:"object-cover mr-3 w-8 h-8 rounded-full",src:null!=F?F:f.n.squads.imageFallback}),a.default.createElement("div",null,a.default.createElement("h5",{className:"font-bold typo-caption1"},A),a.default.createElement("h6",{className:"typo-caption1 text-theme-label-tertiary"},"@",D))),a.default.createElement(m.i,{placement:"left",disabled:!!M,content:"Please add a comment before proceeding"},a.default.createElement("div",null,a.default.createElement(u.z,{form:"squad-comment",className:"btn-primary-cabbage",type:"submit",loading:P,disabled:P||$||!q.title},"Done"))))))}!function(e){e.Required="Please enter URL!",e.Invalid="URL is invalid!"}(n||(n={}))},61843:(e,t,r)=>{r.d(t,{q:()=>b});var n=r(35776),a=r(58953),l=r(55206),o=r(94226),c=r(39572),u=r(26990),i=r(34137),s=r(43093),f=r(43183);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e){let t=e.form,r=e.onNext,d=e.onRequestClose;const p=(0,n.useContext)(c.LO).activeView;if(l.XK.SelectArticle!==p)return null;const b=(0,i.G)(),y=b.hasData,h=b.isInitialLoading,g=b.isLoading,v=b.data,O=b.canFetchMore,w=b.fetchNextPage,x=b.isFetchingNextPage,P=!y&&!h;return n.default.createElement(n.default.Fragment,null,n.default.createElement(a.u_.Body,null,n.default.createElement(f.A,{hasNoData:P}),n.default.createElement(a.u_.StepsWrapper,null,(e=>{let a=e.nextStep;return n.default.createElement(s.H,{onArticleClick:(e,n)=>{r(m(m({},t),{},{preview:n.post})),a(e)},data:v,fetchNextPage:w,canFetchMore:O,isFetchingNextPage:x})})),g&&n.default.createElement(o.Z,{amount:h?15:1})),P&&n.default.createElement(a.u_.Footer,null,n.default.createElement(u.z,{className:"btn-secondary",onClick:d},"Close")))}},21156:(e,t,r)=>{r.d(t,{N:()=>y});var n=r(86484),a=r.n(n),l=r(35776),o=r(58953),c=r(55206),u=r(97550);const i=["onNext","form"];function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t,r,n,a,l,o){try{var c=e[l](o),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function b(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y(e){let t=e.onNext,r=e.form,n=b(e,i);const f=e=>function(){var n,l=(n=a().mark((function n(l){var o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l.preventDefault(),o=d(d({},r),{},{commentary:l.target[0].value}),e(l),t(o);case 4:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,a){var l=n.apply(e,t);function o(e){p(l,r,a,o,c,"next",e)}function c(e){p(l,r,a,o,c,"throw",e)}o(void 0)}))});return function(e){return l.apply(this,arguments)}}();return l.default.createElement(o.u_.StepsWrapper,{view:c.XK.WriteComment},(e=>{let t=e.nextStep;return l.default.createElement(u.$,s({},n,{form:r,onSubmit:f(t)}))}))}},55206:(e,t,r)=>{r.d(t,{Cj:()=>u,XK:()=>l,j_:()=>c,q4:()=>o,ux:()=>i});var n=r(35776),a=r(32256);let l;!function(e){e.Details="Squad settings",e.SelectArticle="Pick a post",e.WriteComment="Share post",e.Ready="Almost there!"}(l||(l={}));l.Details,l.SelectArticle,l.WriteComment,l.Ready;const o=(0,a.Z)("h3","text-center typo-large-title font-bold"),c=(0,a.Z)("p","text-center typo-title3 text-theme-label-tertiary"),u=(0,a.Z)("span","text-theme-color-cabbage"),i={title:"Are you sure?",description:n.default.createElement("p",null,"You can always create a new Squad from the left sidebar"),className:{buttons:"flex-row-reverse"},cancelButton:{title:"Stay",className:"btn-primary-cabbage"},okButton:{title:"Close",className:"btn-secondary"}}},34137:(e,t,r)=>{r.d(t,{G:()=>u});var n=r(35776),a=r(62835),l=r(1437),o=r(23758),c=r(64975);const u=()=>{const e=(0,n.useContext)(a.ZP).user,t={key:["readHistory",null==e?void 0:e.id],query:l.dC,variables:{isPublic:!0}},r=(0,o.Z)(t),u=r.hasData,i=r.data,s=r.isInitialLoading,f=r.isLoading,d=r.queryResult;return{data:(0,n.useMemo)((()=>null==i?void 0:i.pages.map((e=>e.readHistory.edges.map((e=>e.node)))).flat()),[i]),hasData:u,isInitialLoading:s,isLoading:f,queryResult:d,canFetchMore:(0,c.H)(d),fetchNextPage:d.fetchNextPage,isFetchingNextPage:d.isFetchingNextPage}}},23758:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(88767),a=r(35776),l=r(28687),o=r.n(l),c=r(50562),u=r(49003);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=function(e){var t;let r=e.key,l=e.query,i=e.variables;const f=(0,n.useInfiniteQuery)(r,(e=>{let t=e.pageParam;return o()(c.B3,l,s(s({},i),{},{after:t}))}),{getNextPageParam:e=>{var t,r;return(null==e||null===(t=e.readHistory)||void 0===t?void 0:t.pageInfo.hasNextPage)&&(null==e||null===(r=e.readHistory)||void 0===r?void 0:r.pageInfo.endCursor)}}),d=f.isLoading,m=f.isFetchingNextPage,p=f.hasNextPage,b=f.data,y=f.fetchNextPage,h=!d&&!m&&p&&b.pages.length>0,g=(0,u.Z)({fetchPage:y,canFetchMore:h}),v=null==b||null===(t=b.pages)||void 0===t?void 0:t.some((e=>e.readHistory.edges.length>0));return(0,a.useMemo)((()=>({queryResult:f,hasData:v,isLoading:d,data:b,isInitialLoading:!v&&d,infiniteScrollRef:g})),[v,f,d,b,g])}}}]);