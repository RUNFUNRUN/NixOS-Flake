"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[609],{879:(e,t,o)=>{o.r(t),o.d(t,{default:()=>U});var r=o(35776),a=o(58953),n=o(74596),l=o(15098),s=o(7525),i=o(30742),c=o(88767),u=o(94184),m=o.n(u),d=o(30435),f=o(47164),p=o(57304),h=o(70939),b=o(31117),v=o(91278);const g=function(e){let t=e.date,o=e.source,a=e.size,n=void 0===a?"medium":a,l=e.className;const s="unknown"===o.id;return r.default.createElement("span",{className:m()("flex flex-row items-center text-theme-label-tertiary typo-footnote",l)},!s&&r.default.createElement(r.default.Fragment,null,r.default.createElement(v.Z,{source:o,size:n}),r.default.createElement("h3",{className:"ml-3"},o.handle)),!!t&&r.default.createElement(r.default.Fragment,null,!s&&r.default.createElement(b.Z0,null),r.default.createElement("time",{dateTime:t},t)))};var y=o(89907),P=o(52809),E=o(3805),x=o(57877),w=o(38050),N=o(23576);const O=function(e){let t=e.author,o=e.role;return r.default.createElement("span",{className:"flex flex-row items-center mt-3"},r.default.createElement(x.R,{user:t},r.default.createElement(w.YY,{user:t,size:"xxxlarge",nativeLazyLoading:!0})),r.default.createElement(x.R,{user:t,link:{href:t.permalink}},r.default.createElement("a",{className:"flex flex-col ml-4"},r.default.createElement("div",{className:"flex items-center"},r.default.createElement("span",{className:"font-bold"},t.name),r.default.createElement(N.Z,{key:"squadMemberRole",role:o})),r.default.createElement("span",{className:"text-theme-label-tertiary"},"@",t.username))))};var k=o(36170),S=o(41542),j=o(84558),A=o(89228),C=o(8311),R=o(38061);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==o)return;var r,a,n=[],l=!0,s=!1;try{for(o=o.call(e);!(l=(r=o.next()).done)&&(n.push(r.value),!t||n.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{l||null==o.return||o.return()}finally{if(s)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}const T=function(e){let t=e.post,o=e.onReadArticle;const a=(0,r.useContext)(R.ZP).openNewTab,n=Z((0,r.useState)(null),2),l=n[0],s=n[1],i=Z((0,r.useState)(!0),2),c=i[0],u=i[1],d=(0,r.useMemo)((()=>null===l?"auto":c?l:0),[c,l]);return r.default.createElement(r.default.Fragment,null,r.default.createElement("p",{className:"mt-6 whitespace-pre-line typo-title3"},t.title),r.default.createElement("div",{className:"flex flex-col mt-8 rounded-16 border border-theme-divider-tertiary hover:border-theme-divider-secondary"},r.default.createElement("a",{href:"unknown"===t.sharedPost.source.id?t.sharedPost.permalink:t.sharedPost.commentsPermalink,title:"Go to post",target:"_blank",rel:"noopener",className:"flex flex-col-reverse laptop:flex-row p-4 max-w-full",onClick:o},r.default.createElement("div",{className:"flex flex-col flex-1"},r.default.createElement("h2",{className:"flex flex-wrap mt-4 laptop:mt-0 mb-4 font-bold typo-body"},t.sharedPost.title),r.default.createElement(g,{date:t.sharedPost.readTime?`${t.sharedPost.readTime}m read time`:void 0,source:t.sharedPost.source,size:"small"}),r.default.createElement(k.H,{className:"mt-5 btn-secondary w-fit",href:t.sharedPost.permalink,openNewTab:a,onClick:o})),r.default.createElement("div",{className:"block overflow-hidden ml-2 w-70 rounded-2xl cursor-pointer h-fit"},r.default.createElement(S.w,{imgSrc:t.sharedPost.image,imgAlt:"Post cover image",ratio:"52%",eager:!0,fallbackSrc:j.n.post.imageCoverPlaceholder}))),t.sharedPost.summary&&r.default.createElement(r.default.Fragment,null,r.default.createElement(A.Z,{ref:e=>{null!=e&&e.offsetHeight&&null===l&&s(e.offsetHeight)},style:{height:d},className:m()("mx-4 transition-all duration-300 ease-in-out",c&&"mb-4"),summary:t.sharedPost.summary}),r.default.createElement("button",{type:"button",className:"flex flex-row justify-center py-2 w-full font-bold hover:underline border-t border-theme-divider-tertiary typo-callout",onClick:()=>u(!c)},c?"Hide":"Show"," TLDR"," ",r.default.createElement(C.Z,{className:m()("ml-2 transition-transform ease-in-out duration-300",!c&&"rotate-180")})))))};var z=o(82546),D=o(92360);const L=function(e){let t=e.post;return r.default.createElement(r.default.Fragment,null,r.default.createElement("h1",{className:"my-6 font-bold whitespace-pre-line typo-title2"},t.title),t.type===P.hQ.Freeform&&t.image&&r.default.createElement(D.E,{src:t.image,alt:"Post cover image",className:"object-cover mb-10 w-full h-auto rounded-xl max-h-[18rem]",fallbackSrc:j.n.post.imageCoverPlaceholder}),r.default.createElement(z.Z,{content:t.contentHtml}),t.type===P.hQ.Welcome&&t.image&&r.default.createElement("div",{className:"block overflow-hidden mt-8 max-w-sm rounded-2xl cursor-pointer h-fit"},r.default.createElement(S.w,{imgSrc:t.image,imgAlt:"Post cover image",ratio:"52%",eager:!0,fallbackSrc:j.n.post.imageCoverPlaceholder})))};function q(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function M(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?q(Object(o),!0).forEach((function(t){Q(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):q(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function Q(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},H.apply(this,arguments)}const I={[P.hQ.Freeform]:L,[P.hQ.Welcome]:L,[P.hQ.Share]:T};const Y=function(e){let t=e.post,o=e.isFallback,a=e.shouldOnboardAuthor,n=e.enableShowShareNewComment,l=e.origin,s=e.position,i=e.postPosition,u=e.inlineActions,b=e.className,v=e.customNavigation,x=e.onPreviousPost,w=e.onNextPost,N=e.onClose,k=e.onRemovePost;const S=(0,c.useMutation)(P.ox).mutateAsync,j=!!x||!!w,A=(0,p.Z)({origin:l,post:t}),C=A.onReadArticle,R=A.onSharePost,Z=A.onToggleBookmark,F=(0,E.t)({source:null==t?void 0:t.source,user:null==t?void 0:t.author}).role,T={post:t,onBookmark:Z,onPreviousPost:x,onNextPost:w,onShare:R,postPosition:i,onClose:N,inlineActions:u,onRemovePost:k};(0,r.useEffect)((()=>{null!=t&&t.id&&S(t.id)}),[null==t?void 0:t.id,S]);const z=I[null==t?void 0:t.type];return r.default.createElement(r.default.Fragment,null,"fixed"===s&&r.default.createElement(h.Z,H({},T,{onReadArticle:C,className:null==b?void 0:b.fixedNavigation})),r.default.createElement(f.Z,{className:m()("relative py-8 px-6 post-content",null==b?void 0:b.container),hasNavigation:j},r.default.createElement(y.F,{className:M(M({},b),{},{onboarding:"mb-6",navigation:{actions:"ml-auto",container:"mb-6"}}),isFallback:o,customNavigation:v,enableShowShareNewComment:n,shouldOnboardAuthor:a,navigationProps:T,engagementProps:A,origin:l,post:t},r.default.createElement(g,{date:(0,d.mY)(t.createdAt),source:t.source,className:"!typo-body"}),r.default.createElement(O,{author:t.author,role:F}),r.default.createElement(z,{post:t,onReadArticle:C}))))};var B=o(8115),W=o(87642);const $=["id","className","onRequestClose","onPreviousPost","onNextPost","postPosition","onRemovePost"];function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e},_.apply(this,arguments)}function G(e,t){if(null==e)return{};var o,r,a=function(e,t){if(null==e)return{};var o,r,a={},n=Object.keys(e);for(r=0;r<n.length;r++)o=n[r],t.indexOf(o)>=0||(a[o]=e[o]);return a}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)o=n[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(a[o]=e[o])}return a}function U(e){var t;let o=e.id,c=(e.className,e.onRequestClose),u=e.onPreviousPost,m=e.onNextPost,d=e.postPosition,f=e.onRemovePost,p=G(e,$);const h=(0,r.useContext)(B.Z).showArticleOnboarding,b=(0,s.ZP)({id:o}),v=b.post,g=b.isPostLoadingOrFetching,E=(0,i.Z)({isLoading:g,isDisplayed:p.isOpen,offset:h?y.D:0}),x="post-content";return r.default.createElement(n.Z,_({},p,{size:a.u_.Size.Large,onRequestClose:c,postType:P.hQ.Share,isLoading:g,loadingClassName:x}),r.default.createElement(W.Z,{source:l.Yq.SquadPostModal,label:null==v||null===(t=v.source)||void 0===t?void 0:t.handle}),r.default.createElement(Y,{position:E,post:v,onPreviousPost:u,onNextPost:m,postPosition:d,inlineActions:!0,onClose:c,origin:l.aP.ArticleModal,onRemovePost:f,className:{container:x,fixedNavigation:{container:"w-[inherit]",actions:"ml-auto"},navigation:{actions:"tablet:hidden ml-auto"}}}))}}}]);