"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[465],{43430:(e,t,r)=>{r.d(t,{f:()=>ee});var n=r(86484),a=r.n(n),l=r(35776),o=r(94184),u=r.n(o),c=r(88767),i=r(26990),s=r(52465),d=r(19366),f=r(35497),p=r(49594),m=r(72274);const b=["hint","inputId","saveHintSpace","label","value","valueChanged","valid","validityChanged","className","placeholder","readOnly","isLocked","disabled","name","maxLength","rows","fieldType"];function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y.apply(this,arguments)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}const w=function(e){let t=e.hint,r=e.inputId,n=e.saveHintSpace,a=e.label,o=e.value,c=e.valueChanged,i=e.valid,s=e.validityChanged,d=e.className,h=void 0===d?{}:d,g=e.placeholder,w=e.readOnly,j=e.isLocked,P=e.disabled,x=e.name,E=e.maxLength,S=void 0===E?100:E,I=e.rows,C=e.fieldType,k=void 0===C?"primary":C,q=O(e,b);const N=(0,p.Z)({value:o,valueChanged:c,valid:i,validityChanged:s}),D=N.validInput,A=N.focused,L=N.hasInput,z=N.focusInput,M=N.inputRef,Z=N.onFocus,F=N.onBlur,R=N.onInput,B=N.inputLength,T="primary"===k,_="secondary"===k,Q="tertiary"===k,Y=!1===D,H=T&&!A&&!L;return l.default.createElement(m.ZP,{inputId:r,invalid:Y,focusInput:z,saveHintSpace:n,hint:t,fieldType:k,readOnly:w,isLocked:j,hasInput:L,disabled:P,focused:A,label:a,className:v(v({},h),{},{baseField:u()("flex-col",f.Z.field,h.baseField,H?"pt-2":"pt-1")})},T&&(A||L)&&l.default.createElement(m.q7,{inputId:r,label:a,className:h.innerLabel,readOnly:w,isLocked:j,hasInput:L,disabled:P,focused:A}),l.default.createElement("textarea",y({},q,{placeholder:(0,m.w2)({isSecondaryField:_,isTertiaryField:Q,placeholder:g,focused:A,label:a}),name:x,id:r,ref:M,onFocus:Z,onBlur:F,onInput:R,maxLength:S,readOnly:w,rows:I,className:u()("w-full min-w-0 self-stretch bg-transparent typo-body caret-theme-label-link focus:outline-none resize-none",h.input,H&&"mb-3",(0,m.rI)({readOnly:w,disabled:P,hasInput:L,focused:A}))})),l.default.createElement("span",{className:"py-2 ml-auto typo-caption1 text-theme-label-quaternary"},`${B}/${S}`))};var j,P=r(55206),x=r(95069),E=r(84558),S=r(86548);function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I.apply(this,arguments)}const C=function(e){return l.createElement("svg",I({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),j||(j=l.createElement("path",{d:"M12.833 4a4.83 4.83 0 013.781 1.823l.146.192.069.01a4.834 4.834 0 014.151 4.346l.015.223.005.218v4.046a4.833 4.833 0 01-4.171 4.788c-1.721.238-3.33.357-4.829.357-1.498 0-3.108-.12-4.829-.357a4.833 4.833 0 01-4.166-4.57L3 14.858v-4.046a4.833 4.833 0 013.956-4.753l.283-.044a4.835 4.835 0 013.454-1.992l.248-.018.226-.005h1.666zm0 1.5h-1.666a3.331 3.331 0 00-3.015 1.91c-.255.03-.514.064-.775.1a3.333 3.333 0 00-2.872 3.118l-.005.184v4.046a3.333 3.333 0 002.877 3.302 33.88 33.88 0 004.623.343 33.88 33.88 0 004.623-.343 3.333 3.333 0 002.872-3.118l.005-.184v-4.046a3.333 3.333 0 00-2.877-3.302c-.261-.036-.52-.07-.774-.099a3.335 3.335 0 00-2.807-1.905l-.209-.006zM12 9.5a3.333 3.333 0 110 6.667A3.333 3.333 0 0112 9.5zm0 1.5a1.833 1.833 0 100 3.667A1.833 1.833 0 0012 11zm5-1.333a.833.833 0 110 1.666.833.833 0 010-1.666z",fill:"currentcolor",fillRule:"evenodd"})))};var k;function q(){return q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q.apply(this,arguments)}const N=function(e){return l.createElement("svg",q({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),k||(k=l.createElement("path",{d:"M13 4.2a4 4 0 013.619 2.293c.305.036.615.076.929.12A4 4 0 0121 10.573v4.856a4 4 0 01-3.452 3.962c-1.987.275-3.836.412-5.548.412-1.712 0-3.561-.137-5.548-.412A4 4 0 013 15.43v-4.856a4 4 0 013.452-3.962 49.6 49.6 0 01.93-.12A3.998 3.998 0 0111 4.2h2zM12 9a4 4 0 100 8 4 4 0 000-8zm6 .2a1 1 0 100 2 1 1 0 000-2z",fill:"currentcolor",fillRule:"evenodd"})))};function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D.apply(this,arguments)}const A=e=>l.default.createElement(S.Z,D({},e,{IconPrimary:C,IconSecondary:N}));var L=r(80122),z=r(58953),M=r(24189),Z=r(33793),F=r(18608),R=r(52250),B=r(79182),T=r(36583),_=r(47393),Q=r(63204);function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,a,l=[],o=!0,u=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){u=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(u)throw a}}return l}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e,t,r,n,a,l,o){try{var u=e[l](o),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,a)}function U(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var l=e.apply(t,r);function o(e){K(l,n,a,o,u,"next",e)}function u(e){K(l,n,a,o,u,"throw",e)}o(void 0)}))}}const V="squad_image_file",X=function(){var e=U(a().mark((function e(t,r){var n,l,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return",t);case 2:return n=document.getElementById(V),l=n.files[0],e.next=6,(0,M.w)(l);case 6:return o=e.sent,e.abrupt("return",$($({},t),{},{file:o}));case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),G=[{label:"All members (recommended)",value:_.Pt.Member},{label:"Only moderators",value:_.Pt.Moderator}];function ee(e){var t;let r=e.onSubmit,n=e.form,o=e.createMode,f=void 0===o||o,p=e.onRequestClose;const m=n.name,b=n.handle,y=n.description,h=n.memberPostingRole,v=n.memberInviteRole,g=Y((0,l.useState)(b),2),O=g[0],j=g[1],I=Y((0,l.useState)(!1),2),C=I[0],k=I[1],q=Y((0,l.useState)(null),2),N=q[0],D=q[1],M=Y((0,l.useState)(!!m&&!!O),2),H=M[0],W=M[1],$=Y((0,l.useState)((()=>h||_.Pt.Member)),2),J=$[0],K=$[1],ee=Y((0,l.useState)((()=>v||_.Pt.Member)),2),te=ee[0],re=ee[1],ne=(0,c.useMutation)(Z.lN,{onError:e=>{var t,r,n;const a=e,l=null==a||null===(t=a.response)||void 0===t||null===(r=t.errors)||void 0===r||null===(n=r[0])||void 0===n?void 0:n.message;if(!l)return null;const o=JSON.parse(l);if(null!=o&&o.handle)return D((0,F.kC)(null==o?void 0:o.handle));const u=Y(Object.values(o),1)[0];return D(u)}}).mutateAsync,ae=function(){var e=U(a().mark((function e(t){var n,l,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(n=(0,L.x)(t.currentTarget)).name&&n.handle){e.next=4;break}return e.abrupt("return",null);case 4:return e.next=6,X(n,C);case 6:if(l=e.sent,f){e.next=9;break}return e.abrupt("return",r(t,l));case 9:return e.next=11,ne(n.handle);case 11:if(o=e.sent,D(o?"The handle already exists":null),o){e.next=15;break}return e.abrupt("return",r(t,l));case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.default.createElement(l.default.Fragment,null,l.default.createElement(z.u_.Body,null,l.default.createElement("form",{className:"flex flex-col gap-4 items-center -mb-2",onSubmit:ae,onChange:e=>{const t=(0,L.x)(e.currentTarget);!t.name||O||t.handle||j(t.name.toLowerCase().replace(/[^a-zA-Z0-9]/g,"")),W(!!t.name)},id:"squad-form"},f&&l.default.createElement(l.default.Fragment,null,l.default.createElement(P.q4,null,"Squads early access!"),l.default.createElement(P.j_,null,"Create a group where you can learn and interact privately with other developers around topics that matter to you")),!f&&l.default.createElement(x.ZP,{initialValue:null!==(t=n.image)&&void 0!==t?t:n.file,id:V,fallbackImage:E.n.squads.imageFallback,className:{container:"!rounded-full border-0 my-1",img:"object-cover"},hoverIcon:l.default.createElement(A,{size:S.J.Large}),alwaysShowHover:!C,onChange:()=>k(!0),size:"large"}),l.default.createElement(s.n,{label:f?"Name your squad":"Squad name",inputId:"name",name:"name",valid:!!m,leftIcon:l.default.createElement(B.Z,null),value:null!=m?m:"",className:{container:"w-full"}}),l.default.createElement(s.n,{label:"Squad handle",inputId:"handle",hint:N,valid:!N,name:"handle",leftIcon:l.default.createElement(d.Z,null),value:null!=O?O:"",onChange:()=>!!N&&D(null),className:{hint:"text-theme-status-error",container:u()("w-full",!N&&"mb-1")}}),!f&&l.default.createElement(w,{label:"Squad description",inputId:"description",name:"description",hint:"(optional)",rows:4,value:null!=y?y:"",maxLength:250,className:{hint:"-mt-8 py-2 pl-4",container:"w-full"}}),l.default.createElement("div",{className:"flex flex-col"},l.default.createElement("h4",{className:"mb-2 typo-headline"},"Post permissions"),l.default.createElement("p",{className:"mb-4 text-theme-label-tertiary typo-callout"},"Choose who is allowed to post new content in this Squad.",f&&" You can always change this setting later."),l.default.createElement(Q.Y,{name:"memberPostingRole",options:G,value:J,onChange:e=>K(e)})),l.default.createElement("div",{className:"flex flex-col"},l.default.createElement("h4",{className:"mb-2 typo-headline"},"Invitation permissions"),l.default.createElement("p",{className:"mb-4 text-theme-label-tertiary typo-callout"},"Choose who is allowed to invite new members to this squad.",f&&" You can always change this setting later."),l.default.createElement(Q.Y,{name:"memberInviteRole",options:G,value:te,onChange:e=>re(e)})))),l.default.createElement(z.u_.Footer,{className:!f&&"px-6",justify:R.WD.Between},f&&l.default.createElement(T.i,{placement:"top",content:"🔥 limited spot left !"},l.default.createElement(i.z,{onClick:p,className:"btn-tertiary"},"Close")),l.default.createElement(i.z,{className:f?"btn-primary-cabbage":"btn-primary w-full",form:"squad-form",type:"submit",disabled:!H},f?"Create Squad":"Save")))}},55206:(e,t,r)=>{r.d(t,{Cj:()=>c,XK:()=>l,j_:()=>u,q4:()=>o,ux:()=>i});var n=r(35776),a=r(32256);let l;!function(e){e.Details="Squad settings",e.SelectArticle="Pick a post",e.WriteComment="Share post",e.Ready="Almost there!"}(l||(l={}));l.Details,l.SelectArticle,l.WriteComment,l.Ready;const o=(0,a.Z)("h3","text-center typo-large-title font-bold"),u=(0,a.Z)("p","text-center typo-title3 text-theme-label-tertiary"),c=(0,a.Z)("span","text-theme-color-cabbage"),i={title:"Are you sure?",description:n.default.createElement("p",null,"You can always create a new Squad from the left sidebar"),className:{buttons:"flex-row-reverse"},cancelButton:{title:"Stay",className:"btn-primary-cabbage"},okButton:{title:"Close",className:"btn-secondary"}}},38479:(e,t,r)=>{r.d(t,{T:()=>i});var n=r(88767),a=r(6294);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=e=>[...e].sort(((e,t)=>e.name.toLocaleLowerCase()>t.name.toLocaleLowerCase()?1:-1)),i=()=>{const e=(0,n.useQueryClient)(),t=()=>e.getQueryData(a.i);return{addSquad:r=>{const n=t(),l=c([...(null==n?void 0:n.squads)||[],r]);e.setQueryData(a.i,o(o({},n),{},{squads:l}))},deleteSquad:r=>{var n;const l=t(),u=null===(n=l.squads)||void 0===n?void 0:n.filter((e=>e.id!==r));e.setQueryData(a.i,o(o({},l),{},{squads:u}))},updateSquad:r=>{var n;const l=t(),u=null===(n=l.squads)||void 0===n?void 0:n.map((e=>r.id!==e.id?e:r));e.setQueryData(a.i,o(o({},l),{},{squads:c(null!=u?u:[])}))}}}},80122:(e,t,r)=>{function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){return Array.from(e.elements).reduce(((e,t)=>""===t.name?e:"checkbox"===t.type?a(a({},e),{},{[t.name]:t.checked}):"radio"!==t.type||t.checked?"file"===t.type?a(a({},e),{},{[t.name]:0===t.files.length?null:t.files}):a(a({},e),{},{[t.name]:t.value.length?t.value:null}):e),t)}r.d(t,{x:()=>o})}}]);