"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[430,561],{84404:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(35776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 15.6 16.5",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("g",{fill:"currentcolor",fillRule:"evenodd"},a.createElement("path",{d:"M6.8 2.5a4 4 0 006.589 3.05c.15.478.238.984.257 1.509l.004.219v3.37l.008.123c.055.443.409.794.853.846l.236.014a.975.975 0 010 1.935l-.122.008h-3.9l-.007.2a2.926 2.926 0 01-2.726 2.72L7.8 16.5l-.193-.006a2.926 2.926 0 01-2.727-2.748l-.005-.172h-3.9l-.122-.008A.975.975 0 01.86 11.63l.236-.014c.481-.06.853-.47.853-.968v-3.37l.006-.272a5.853 5.853 0 014.152-5.33l.177-.052c.21-.056.425-.1.644-.134A3.99 3.99 0 006.8 2.5z"}),a.createElement("path",{d:"M10.8 0a2.5 2.5 0 100 5 2.5 2.5 0 000-5z",fillRule:"nonzero"}))))}},66222:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(35776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("g",{fill:"currentcolor",fillRule:"evenodd"},a.createElement("path",{d:"M11.3 5.476l-.004.01c-.159.39-.259.81-.287 1.248L11 7.04l-.262.063-.148.042-.206.067a4.877 4.877 0 00-3.238 4.15l-.016.224-.005.226v2.808l-.008.111a.813.813 0 01-.596.674l-.107.021-.196.012-.1.018a.813.813 0 00-.014 1.574l.107.021.101.007h3.25l.005.143.015.165a2.439 2.439 0 002.092 2.107l.165.017.161.005.16-.005.165-.016a2.439 2.439 0 002.09-2.077l.017-.172.005-.168h3.25l.102-.006.107-.02a.813.813 0 000-1.571l-.107-.021-.196-.012-.109-.02a.814.814 0 01-.581-.576l-.022-.108-.006-.103v-2.807l-.003-.183-.014-.226a4.862 4.862 0 00-.133-.795l.13-.064a4.014 4.014 0 001.038-.783l.102-.11c.184.51.305 1.051.355 1.612l.021.338.004.21-.002 2.225.078.025c.804.28 1.399.99 1.524 1.844l.02.173.005.166c0 1.116-.795 2.06-1.95 2.277l-.168.026-.195.01-2.048-.001-.044.108a3.962 3.962 0 01-2.955 2.273l-.224.032-.207.019-.258.005-.21-.007a3.924 3.924 0 01-3.281-2.219l-.094-.212-2.146-.001-.196-.015A2.313 2.313 0 014 16.245c0-.903.52-1.693 1.323-2.076l.165-.071.137-.049v-2.27l.007-.262a6.38 6.38 0 014.3-5.735l.24-.077.178-.052c.311-.083.629-.142.95-.177z"}),a.createElement("path",{d:"M15 3a4 4 0 100 8 4 4 0 000-8z"}))))}},56469:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(35776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M6.091 8.625a.844.844 0 01.115 1.68l-.115.008c-.727 0-1.324.552-1.396 1.26l-.008.143v6.19c0 .728.554 1.327 1.263 1.4l.144.006h6.185c.728 0 1.327-.553 1.399-1.262l.007-.144a.844.844 0 111.687 0 3.094 3.094 0 01-2.905 3.088L12.28 21H6.094a3.094 3.094 0 01-3.088-2.905L3 17.906v-6.19a3.091 3.091 0 013.091-3.091zM17.906 3a3.094 3.094 0 013.088 2.905l.005.189v6.187a3.094 3.094 0 01-2.905 3.088l-.188.006h-6.189A3.094 3.094 0 018.63 12.47l-.005-.189V6.094a3.094 3.094 0 012.905-3.088L11.717 3h6.189z",fill:"currentcolor",fillRule:"evenodd"})))}},58524:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(35776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M6.091 8.625a.844.844 0 01.115 1.68l-.115.008c-.727 0-1.324.552-1.396 1.26l-.008.143v6.19c0 .728.554 1.327 1.263 1.4l.144.006h6.185c.728 0 1.327-.553 1.399-1.262l.007-.144a.844.844 0 111.687 0 3.094 3.094 0 01-2.905 3.088L12.28 21H6.094a3.094 3.094 0 01-3.088-2.905L3 17.906v-6.19a3.091 3.091 0 013.091-3.091zM17.906 3a3.094 3.094 0 013.088 2.905l.005.189v6.187a3.094 3.094 0 01-2.905 3.088l-.188.006h-6.189A3.094 3.094 0 018.63 12.47l-.005-.189V6.094a3.094 3.094 0 012.905-3.088L11.717 3h6.189zm0 1.688h-6.189c-.728 0-1.327.553-1.399 1.262l-.007.144v6.187c0 .728.554 1.327 1.263 1.4l.143.007h6.189c.728 0 1.327-.554 1.399-1.263l.007-.144V6.094c0-.728-.554-1.327-1.263-1.4l-.143-.006z",fill:"currentcolor",fillRule:"evenodd"})))}},68351:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(35776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M14.077 3c-2.64 0-4.345 1.739-4.345 4.43v2.042H7.369A.368.368 0 007 9.84v2.96c0 .203.165.367.37.367h2.362v7.467c0 .203.165.367.369.367h3.082c.204 0 .37-.164.37-.367v-7.467h2.761c.204 0 .37-.164.37-.367v-2.96a.366.366 0 00-.369-.367h-2.763V7.741c0-.832.2-1.255 1.29-1.255h1.583c.204 0 .37-.165.37-.367V3.37a.368.368 0 00-.37-.367z",fill:"#3b5998",fillRule:"evenodd"})))}},57733:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(35776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M14.863 2c-2.933 0-4.828 1.932-4.828 4.922v2.27H7.41a.41.41 0 00-.41.407v3.289a.41.41 0 00.41.407h2.625v8.297c0 .226.184.408.41.408h3.425a.41.41 0 00.41-.408v-8.297h3.069c.227 0 .41-.182.41-.407l.002-3.289a.407.407 0 00-.411-.408h-3.07V7.268c0-.925.222-1.394 1.434-1.394l1.759-.001a.41.41 0 00.41-.408V2.412a.41.41 0 00-.41-.408z",fill:"currentcolor",fillRule:"evenodd"})))}},62744:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(35776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M12 3a1 1 0 011 1l.001 1.071A7.005 7.005 0 0118.929 11H20a1 1 0 010 2l-1.071.001a7.005 7.005 0 01-5.928 5.928L13 20a1 1 0 01-2 0v-1.07A7.005 7.005 0 015.071 13L4 13a1 1 0 010-2h1.07A7.005 7.005 0 0111 5.07V4a1 1 0 011-1zm1.001 4.1L13 8a1 1 0 01-2 0v-.9A5.006 5.006 0 007.1 11H8a1 1 0 010 2l-.9.001A5.006 5.006 0 0011 16.9V16a1 1 0 012 0l.001.9A5.006 5.006 0 0016.9 13L16 13a1 1 0 010-2h.9A5.006 5.006 0 0013 7.1zM12 10.5a1.5 1.5 0 110 3 1.5 1.5 0 010-3z",fill:"currentcolor",fillRule:"evenodd"})))}},34537:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(35776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M12 3a1 1 0 011 1l.001.566A7.504 7.504 0 0119.434 11H20a1 1 0 010 2l-.566.001A7.504 7.504 0 0113 19.434L13 20a1 1 0 01-2 0v-.566A7.504 7.504 0 014.566 13L4 13a1 1 0 010-2h.566A7.504 7.504 0 0111 4.566V4a1 1 0 011-1zm1 3.083V6.5a1 1 0 01-2 0v-.417A6.005 6.005 0 006.083 11H6.5a1 1 0 010 2h-.417A6.005 6.005 0 0011 17.918V17.5a1 1 0 012 0v.417A6.005 6.005 0 0017.918 13L17.5 13a1 1 0 010-2h.417a6.005 6.005 0 00-4.916-4.917zM12 9a3 3 0 110 6 3 3 0 010-6zm0 1.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z",fill:"currentcolor",fillRule:"evenodd"})))}},6160:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(35776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M19.453 7.745c-.14 6.502-4.219 11.025-10.406 11.308-2.531.141-4.36-.707-6.047-1.696 1.828.282 4.219-.424 5.484-1.555-1.828-.142-2.953-1.131-3.515-2.686.562.141 1.125 0 1.547 0-1.688-.565-2.813-1.555-2.954-3.816.422.282.985.424 1.547.424C3.844 9.017 3 6.33 3.984 4.635 5.812 6.614 8.062 8.31 11.72 8.593c-.985-3.958 4.36-6.078 6.469-3.392.984-.142 1.687-.566 2.39-.849-.281.99-.844 1.555-1.547 2.12.703-.14 1.407-.282 1.969-.565-.14.707-.844 1.272-1.547 1.838z",fill:"#1da1f2",fillRule:"evenodd"})))}},30244:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(35776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M20.281 8.16c-.156 7.225-4.687 12.251-11.562 12.565-2.813.157-4.844-.785-6.719-1.884 2.031.314 4.687-.471 6.094-1.728-2.032-.157-3.282-1.256-3.907-2.984.625.157 1.25 0 1.72 0-1.876-.628-3.126-1.728-3.282-4.24.469.314 1.094.47 1.719.47C2.937 9.575 2 6.59 3.094 4.707c2.031 2.198 4.531 4.083 8.593 4.397-1.093-4.397 4.844-6.753 7.188-3.77 1.094-.156 1.875-.627 2.656-.941-.312 1.099-.937 1.727-1.718 2.355.78-.157 1.562-.314 2.187-.628-.156.785-.938 1.414-1.719 2.042z",fill:"currentcolor",fillRule:"evenodd"})))}},21953:(e,t,n)=>{n.d(t,{Z:()=>i});var r,a,o,l=n(35776);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const i=function(e){return l.createElement("svg",c({height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=l.createElement("linearGradient",{id:"color_svg__a",x1:"50.001%",x2:"50.001%",y1:"99.99%",y2:"-.011%"},l.createElement("stop",{offset:0,stopColor:"#20b038"}),l.createElement("stop",{offset:1,stopColor:"#60d66a"}))),a||(a=l.createElement("linearGradient",{id:"color_svg__b",x1:"50.001%",x2:"50.001%",y1:"100.003%",y2:".003%"},l.createElement("stop",{offset:0,stopColor:"#f9f9f9"}),l.createElement("stop",{offset:1,stopColor:"currentcolor"}))),o||(o=l.createElement("g",{fill:"none",fillRule:"evenodd"},l.createElement("g",{fillRule:"nonzero"},l.createElement("path",{d:"M7.39 18.497l.296.175a8.067 8.067 0 004.111 1.125h.004c4.452 0 8.075-3.622 8.077-8.075a8.026 8.026 0 00-2.364-5.713 8.025 8.025 0 00-5.71-2.368c-4.456 0-8.08 3.622-8.082 8.074 0 1.526.427 3.012 1.235 4.298l.193.305-.817 2.98zM2 21.607l1.379-5.035a9.697 9.697 0 01-1.297-4.857C2.084 6.358 6.443 2 11.8 2a9.657 9.657 0 016.874 2.85 9.657 9.657 0 012.844 6.873c-.002 5.356-4.362 9.715-9.718 9.715h-.004a9.71 9.71 0 01-4.645-1.182z",fill:"currentcolor"}),l.createElement("path",{d:"M2.417 11.72c0 1.653.431 3.267 1.252 4.69l-1.331 4.86 4.974-1.305a9.38 9.38 0 004.483 1.142h.004c5.171 0 9.38-4.208 9.382-9.38a9.321 9.321 0 00-2.745-6.635 9.323 9.323 0 00-6.637-2.75c-5.171 0-9.38 4.206-9.383 9.378",fill:"url(#color_svg__a)"}),l.createElement("path",{d:"M2.082 11.717c-.001 1.712.446 3.384 1.297 4.857L2 21.61l5.152-1.351a9.713 9.713 0 004.644 1.182h.004c5.356 0 9.717-4.359 9.72-9.715a9.657 9.657 0 00-2.845-6.874 9.658 9.658 0 00-6.875-2.85c-5.357 0-9.716 4.36-9.719 9.716m3.069 4.604l-.193-.306a8.053 8.053 0 01-1.235-4.297c.002-4.453 3.626-8.075 8.081-8.075 2.158 0 4.186.842 5.711 2.368a8.026 8.026 0 012.364 5.713c-.002 4.453-3.625 8.075-8.078 8.075h-.003c-1.45 0-2.871-.39-4.111-1.125l-.295-.175-3.058.801z",fill:"url(#color_svg__b)"})),l.createElement("path",{d:"M9.371 7.655c-.181-.404-.373-.412-.546-.42-.142-.005-.304-.005-.465-.005a.892.892 0 00-.648.304c-.222.243-.85.83-.85 2.025 0 1.195.87 2.35.992 2.511.121.162 1.68 2.693 4.148 3.666 2.051.809 2.469.648 2.914.607.445-.04 1.437-.587 1.639-1.154.202-.567.202-1.053.142-1.154-.061-.102-.223-.162-.466-.284-.243-.121-1.437-.709-1.66-.79-.222-.08-.384-.121-.546.122-.162.243-.627.79-.768.952-.142.162-.284.182-.527.06-.243-.121-1.025-.377-1.952-1.205-.722-.643-1.21-1.438-1.351-1.681-.142-.243-.016-.375.106-.496.11-.109.243-.283.365-.425.12-.142.161-.243.242-.405.081-.162.04-.304-.02-.425-.06-.122-.533-1.323-.749-1.803",fill:"currentcolor"}))))}},90173:(e,t,n)=>{n.d(t,{Z:()=>l});var r,a=n(35776);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}const l=function(e){return a.createElement("svg",o({height:"1em",viewBox:"0 0 24 24",width:"1em",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),r||(r=a.createElement("path",{d:"M2.081 11.717a9.7 9.7 0 001.298 4.857L2 21.61l5.152-1.351a9.71 9.71 0 004.27 1.175l.378.007c5.356 0 9.717-4.359 9.72-9.715a9.657 9.657 0 00-2.845-6.874 9.658 9.658 0 00-6.875-2.85c-5.357 0-9.716 4.36-9.719 9.716zm9.722-8.074c2.158 0 4.186.842 5.711 2.368a8.026 8.026 0 012.364 5.713c-.002 4.37-3.493 7.94-7.831 8.072l-.25.003c-1.45 0-2.871-.39-4.111-1.125l-.295-.175-3.058.801.817-2.98-.193-.305a8.053 8.053 0 01-1.235-4.297c.002-4.453 3.626-8.075 8.081-8.075zM8.36 7.23a.892.892 0 00-.648.304l-.16.175c-.276.31-.69.88-.69 1.85 0 .93.527 1.834.818 2.267l.217.307c.29.43 1.801 2.694 4.105 3.603l.445.17c1.67.615 2.058.475 2.469.437.445-.04 1.437-.587 1.639-1.154.202-.567.202-1.053.142-1.154a.415.415 0 00-.165-.135l-1.056-.52a17.562 17.562 0 00-.904-.419c-.223-.08-.385-.121-.547.122-.162.243-.627.79-.768.952-.124.142-.248.175-.44.1l-.46-.206a6.224 6.224 0 01-1.58-1.039c-.721-.643-1.209-1.438-1.35-1.681-.142-.243-.016-.375.106-.496.11-.109.243-.283.365-.425.12-.142.161-.243.242-.405a.42.42 0 00.008-.363l-.109-.25c-.158-.385-.495-1.23-.668-1.615-.181-.404-.373-.412-.546-.42-.142-.005-.304-.005-.465-.005z",fill:"currentcolor"})))}},83341:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(94184),a=n.n(r),o=n(35776),l=n(86548),c=n(89136),i=n(36876);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}const u=e=>{let t=e.className,n=e.content,r=e.Icon,u=e.iconProps;const m=!(0,c.Z)([i.Mq.replace("@media ","")],[!0],!1);return o.default.createElement("span",{className:a()("flex items-center tablet:ml-2 tablet:gap-0.5 tablet:typo-footnote ml-1 typo-caption2 font-bold capitalize",t)},"function"==typeof r&&o.default.createElement(r,s({size:m?l.J.XXSmall:void 0},u)),n)}},89228:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(35776),a=n(52250),o=n(23833);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){let t=e.content,n=e.charactersLimit,a=void 0===n?150:n,c=e.threshold,i=void 0===c?50:c,s=e.contentPrefix,u=e.className;const m=l((0,r.useState)(!1),2),d=m[0],f=m[1],p=d?"Show less":"Show more",h=()=>t&&(null==t?void 0:t.length)>a+i;return r.default.createElement("div",{className:u},r.default.createElement("p",{className:"break-words typo-body"},s,d||!h()?t:(()=>{const e=null==t?void 0:t.slice(0,a);return e.slice(0,Math.min(e.length,e.lastIndexOf(" ")))})()," ",h()&&r.default.createElement(o.D,{className:"inline-flex text-theme-label-link",onClick:()=>f(!d)},p)))}const s=["summary"];function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const d=(0,r.forwardRef)((function(e,t){let n=e.summary,o=m(e,s);return r.default.createElement(a.FT,u({ref:t},o),r.default.createElement(i,{content:n,charactersLimit:300,threshold:50,contentPrefix:r.default.createElement(a.Ni,null,"TLDR")}))}))},19281:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(35776),a=n(34051);function o(){return r.default.createElement("article",{"aria-busy":!0,className:"flex flex-col items-stretch mt-4"},r.default.createElement("div",{className:"flex items-center mb-2"},r.default.createElement(a.f,{className:"w-10 h-10 rounded-10"}),r.default.createElement("div",{className:"flex flex-col flex-1 justify-between ml-2 h-8"},r.default.createElement(a.f,{className:"w-2/5 h-3 rounded-xl"}),r.default.createElement(a.f,{className:"w-1/5 h-3 rounded-xl"}))),r.default.createElement(a.f,{className:"my-2 w-full h-8 rounded-full"}))}},58700:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(35776),a=n(19281);const o=5;function l(e){let t=e.placeholderAmount;const n=t<=o?t:o;return r.default.createElement(r.default.Fragment,null,Object.keys([...Array(n)]).map((e=>r.default.createElement(a.Z,{key:e}))))}},68875:(e,t,n)=>{n.r(t),n.d(t,{ContextMenu:()=>m,default:()=>u});var r=n(35776),a=n(42343),o=n(57751),l=n(77314);const c=["options"];function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function u(e){return r.default.createElement(o.Z,null,r.default.createElement(a.v2,e))}const m=e=>{let t=e.options,n=s(e,c);return r.default.createElement(u,i({disableBoundariesCheck:!0,className:"menu-primary",animation:"fade"},n),t.map((e=>{let t=e.text,n=e.icon,o=e.action,c=e.anchorProps;return r.default.createElement(a.ck,{key:t,className:"typo-callout",onClick:o},r.default.createElement(l.Z,{condition:!!c,wrapper:e=>r.default.createElement("a",c,e)},r.default.createElement("span",{className:"flex gap-2 items-center w-full typo-callout"},n," ",t)))})))}},86718:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(35776),a=n(86548),o=n(66222),l=n(84404);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const i=e=>r.default.createElement(a.Z,c({},e,{IconPrimary:o.Z,IconSecondary:l.Z}))},64651:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(35776),a=n(86548),o=n(58524),l=n(56469);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const i=e=>r.default.createElement(a.Z,c({},e,{IconPrimary:o.Z,IconSecondary:l.Z}))},86024:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(35776),a=n(86548),o=n(57733),l=n(68351);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const i=e=>r.default.createElement(a.Z,c({},e,{IconPrimary:o.Z,IconSecondary:l.Z}))},60643:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(35776),a=n(86548),o=n(34537),l=n(62744);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const i=e=>r.default.createElement(a.Z,c({},e,{IconPrimary:o.Z,IconSecondary:l.Z}))},47487:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(35776),a=n(86548),o=n(30244),l=n(6160);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const i=e=>r.default.createElement(a.Z,c({},e,{IconPrimary:o.Z,IconSecondary:l.Z}))},14362:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(35776),a=n(86548),o=n(90173),l=n(21953);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}const i=e=>r.default.createElement(a.Z,c({},e,{IconPrimary:o.Z,IconSecondary:l.Z}))},74596:(e,t,n)=>{n.d(t,{Z:()=>N});var r=n(35776),a=n(94184),o=n.n(a),l=n(58953);const c="_29h7Y86KWZAFwDQZdpKlfQ==";var i=n(52809),s=n(34051),u=n(8437);const m=()=>r.default.createElement("article",{"aria-busy":!0,className:"flex relative items-start py-2 pr-2 pl-4"},r.default.createElement(s.f,{className:"w-7 h-7 rounded-full mt-1"}),r.default.createElement("div",{className:"flex flex-col ml-3 mr-2 flex-1"},r.default.createElement(u.P5,{className:"w-4/5"}),r.default.createElement(u.P5,{className:"w-4/5"}),r.default.createElement(u.P5,{className:"w-2/5"})));var d=n(52250);const f=e=>{let t=e.padding,n=void 0===t?"py-3 px-4":t,a=e.textClassName;return r.default.createElement("article",{"aria-busy":!0,className:o()("flex relative flex-col items-start",n)},r.default.createElement(u.P5,{className:o()("w-4/5",a)}),r.default.createElement(u.P5,{className:o()("w-4/5",a)}),r.default.createElement(u.P5,{className:o()("w-2/5",a)}))};var p=n(58700);const h=(0,n(32256).Z)("div","flex flex-col flex-1 p-8"),v=e=>{let t=e.children;return r.default.createElement(u.Hl,null,r.default.createElement(u.P5,{className:"my-4 ml-6 w-2/5"}),r.default.createElement(u.Gd,null),t,r.default.createElement(u.Gd,null),r.default.createElement(u.P5,{className:"my-4 ml-6 w-2/5",style:{height:"1.25rem"}}))},y=e=>{let t=e.shouldShowWidgets,n=void 0===t||t,a=e.className;return r.default.createElement(r.default.Fragment,null,r.default.createElement(h,{className:a},r.default.createElement(s.f,{className:"my-2 mb-8 w-3/5 h-8 rounded-full"}),r.default.createElement(f,{padding:"p-0 gap-2",textClassName:"h-4"}),r.default.createElement("div",{className:"flex flex-row gap-2 my-8"},r.default.createElement(s.f,{className:"w-20 h-6 rounded-full"}),r.default.createElement(s.f,{className:"w-20 h-6 rounded-full"})),r.default.createElement(s.f,{className:"w-4/5 h-52 rounded-16"}),r.default.createElement(s.f,{className:"my-8 w-2/5 h-8 rounded-full"}),r.default.createElement(u.Gd,null),r.default.createElement(p.Z,null)),n&&r.default.createElement(d.ry,{className:"flex-1 p-8"},r.default.createElement(v,null,r.default.createElement(m,null),r.default.createElement(m,null),r.default.createElement(m,null)),r.default.createElement(v,null,r.default.createElement(f,null),r.default.createElement(f,null),r.default.createElement(f,null))))};var b=n(47164);const g=function(e){let t=e.type,n=e.className,a=e.hasNavigation;return t?t===i.hQ.Share?r.default.createElement(b.Z,{className:o()(n,"m-auto"),hasNavigation:a},r.default.createElement(y,{shouldShowWidgets:!1})):r.default.createElement(b.Z,{hasNavigation:a,className:o()(n,"tablet:pb-0 tablet:flex-row bg-theme-bg-primary")},r.default.createElement(y,{className:"tablet:border-r tablet:border-theme-divider-tertiary"})):null},E=["className","children","isLoading","postType","loadingClassName"];function w(){return w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function x(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const N=function(e){let t=e.className,n=e.children,a=e.isLoading,i=e.postType,s=e.loadingClassName,u=x(e,E);return r.default.createElement(l.u_,w({size:l.u_.Size.XLarge,kind:l.u_.Kind.FlexibleTop,portalClassName:c,id:"post-modal"},u,{overlayClassName:"post-modal-overlay bg-overlay-quaternary-onion",className:o()(t,"mx-auto focus:outline-none bg-theme-bg-primary")}),a?r.default.createElement(g,{hasNavigation:!0,type:i,className:s}):n)}},87642:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(35776),a=n(94184),o=n.n(a),l=n(26990),c=n(27052),i=n(84558),s=n(63031),u=n(25782),m=n(15098),d=n(86718),f=n(34039);const p={[m.Yq.NotificationsPage]:"px-6 w-full border-l bg-theme-float",[m.Yq.NewComment]:"rounded-16 border px-4 mx-3 mb-3",[m.Yq.CommunityPicks]:"rounded-16 border px-4 mt-3",[m.Yq.NewSourceModal]:"",[m.Yq.NotificationItem]:"",[m.Yq.SquadPage]:"rounded-16 border px-4 mt-6",[m.Yq.SquadPostCommentary]:"",[m.Yq.SquadPostModal]:"laptop:rounded-16 laptop:rounded-bl-[0] laptop:rounded-br-[0]",[m.Yq.SquadChecklist]:""},h={[m.Yq.NotificationsPage]:!1,[m.Yq.NewComment]:!1,[m.Yq.CommunityPicks]:!1,[m.Yq.NewSourceModal]:!1,[m.Yq.SquadPage]:!0,[m.Yq.SquadPostCommentary]:!1,[m.Yq.SquadPostModal]:!1,[m.Yq.NotificationItem]:!1,[m.Yq.SquadChecklist]:!1};const v=function(e){let t=e.source,n=void 0===t?m.Yq.NotificationsPage:t,a=e.contentName,v=e.className,y=e.label;const b=(0,f.d)({source:n}),g=b.shouldShowCta,E=b.onEnable,w=b.onDismiss,x=b.isEnabled,N=b.hasEnabled;if(!g)return null;const k={[m.Yq.SquadPostModal]:"",[m.Yq.NewComment]:`Want to get notified when ${null!=a?a:"someone"} responds so you can continue the conversation?`,[m.Yq.CommunityPicks]:"Would you like to get notified on the status of your post submissions in real time?",[m.Yq.NotificationsPage]:"Stay in the loop whenever you get a mention, reply and other important updates.",[m.Yq.NewSourceModal]:"",[m.Yq.NotificationItem]:"",[m.Yq.SquadPostCommentary]:"",[m.Yq.SquadPage]:`Get notified whenever something important happens on ${a}.`,[m.Yq.SquadChecklist]:""}[n],O=p[n],P=h[n];return n===m.Yq.SquadPostModal?r.default.createElement("span",{className:o()("flex relative flex-row items-center p-3 w-full font-bold bg-gradient-to-r from-theme-color-water to-theme-color-onion typo-body",p[n])},r.default.createElement(d.Z,{secondary:!0,className:"mr-2"})," Never miss new posts from"," ",y,r.default.createElement(l.z,{className:"mr-14 ml-auto btn-secondary",buttonSize:l.q.XSmall,onClick:E},"Subscribe"),r.default.createElement(c.Z,{className:"right-3",position:"absolute",onClick:w})):r.default.createElement("div",{className:o()("overflow-hidden relative py-4 typo-callout border-theme-color-cabbage",O,v)},n===m.Yq.NotificationsPage&&r.default.createElement("span",{className:"flex flex-row font-bold"},x&&r.default.createElement(s.Z,{className:"mr-2"}),"Push notifications"+(x?" successfully enabled":"")),r.default.createElement("p",{className:"mt-2 w-full tablet:w-3/5 text-theme-label-tertiary"},x?r.default.createElement(r.default.Fragment,null,"Changing your"," ",r.default.createElement("a",{className:"underline hover:no-underline",href:`${u.uJ}account/notifications`},"notification settings")," ","can be done anytime through your account details"):k),r.default.createElement("div",{className:"flex mt-4 align-center"},!N&&r.default.createElement(l.z,{buttonSize:l.q.Small,className:"mr-4 min-w-[7rem] btn-primary-cabbage",onClick:E},"Enable notifications"),P&&r.default.createElement(l.z,{buttonSize:l.q.Small,className:"btn-tertiary",onClick:w},"Dismiss")),r.default.createElement("img",{className:o()("hidden tablet:flex absolute w-[7.5rem] -bottom-2",x?"right-14":"right-4"),src:x?i.n.notifications.browser_enabled:i.n.notifications.browser,alt:"A sample browser notification"}),!P&&r.default.createElement(c.Z,{buttonSize:l.q.XSmall,className:"top-1 laptop:top-3 right-1 laptop:right-3",onClick:w,position:"absolute"}))}},89907:(e,t,n)=>{n.d(t,{F:()=>ht,D:()=>pt});var r=n(5152),a=n.n(r),o=n(35776),l=n(48584),c=n(94184),i=n.n(c),s=n(26990),u=n(84558),m=n(38e3),d=n(15098),f=n(21144);const p="absolute right-0";function h(e){let t=e.onInitializeOnboarding,n=e.className;const r=(0,o.useContext)(m.ZP).trackEvent;return(0,o.useEffect)((()=>{r({event_name:d.s6.Impression,target_type:d.Lm.ArticleAnonymousCTA,target_id:f.o0.ArticleOnboarding})}),[]),o.default.createElement("div",{className:i()("flex relative rounded-16 border border-theme-color-cabbage items-center",n),onClick:t,role:"button",tabIndex:0,"aria-label":"Customize your feed",onKeyDown:e=>{"Enter"===e.key&&t()}},o.default.createElement("div",{className:"py-3 px-4 w-3/5"},o.default.createElement("p",{className:"font-bold typo-callout"},"Let's super-charge your feed with the content you actually read!"),o.default.createElement(s.z,{className:"mt-4 btn-primary-cabbage",buttonSize:s.q.Small,tabIndex:-1},"Customize")),o.default.createElement("img",{src:u.n.feedFilters.topicsV3,alt:"example topics for your feed",className:p}))}var v=n(62835),y=n(86484),b=n.n(y),g=n(88767),E=n(1038),w=n.n(E),x=n(11163),N=n(98677),k=n(17291),O=n(87328),P=n(7525);const C=["comment"];function S(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function j(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const z=(e,t,n)=>{const r=e.findIndex((e=>e.node.id===t));return[r,e[r].node.children.edges.findIndex((e=>e.node.id===n))]},R=function(e,t){var n,r;let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return q(t?{handle:t.author.username,authorId:t.author.id,authorName:t.author.name,authorImage:t.author.image,contentHtml:t.contentHtml,publishDate:t.lastUpdatedAt||t.createdAt,commentId:t.id,post:e}:{handle:null===(n=e.author)||void 0===n?void 0:n.username,authorId:null===(r=e.author)||void 0===r?void 0:r.id,authorName:e.source.name,authorImage:e.source.image,contentHtml:e.title,publishDate:e.createdAt,commentId:null,post:e},a)},T=function(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).enableShowShareNewComment;const n=(0,x.useRouter)(),r=(0,g.useQueryClient)(),a=(0,o.useContext)(m.ZP).trackEvent,l=(0,o.useContext)(v.ZP),c=l.user,i=l.showLogin,s=["post_comments",null==e?void 0:e.id],u=["post_comments_num",null==e?void 0:e.id],d=r.getQueryData(u)||(null==e?void 0:e.numComments),f=r.getQueryData(s),p=Z((0,o.useState)(0),2),h=p[0],y=p[1],E=Z((0,o.useState)(null),2),I=E[0],A=E[1],M=Z((0,o.useState)(null),2),T=M[0],L=M[1],B=Z((0,k.Z)((e=>L(e)),700),1)[0],U=()=>{A(null),document.documentElement.scrollTop=h},D=(e,t)=>{y(window.scrollY),A(q(q({},e),{},{replyTo:t}))},Y=(0,o.useCallback)((t=>{if(c){a((0,N.gR)("open comment modal",e,{extra:{origin:t}})),y(window.scrollY);const r=R(e);n.query.comment&&(r.editContent=n.query.comment),A(r)}else i(O.IP.Comment)}),[e,i,a,c,n.query.comment]),$=t=>(0,P.cM)(r,e.id,{numComments:e.numComments+t}),_=function(){var t,n=(t=b().mark((function t(n,a){var o,l,c,i,m,p,h,v,y,g,E;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=["post_comments",e.id],t.next=3,r.cancelQueries(o);case 3:if(l=w()(f),c=l.postComments.edges,l){t.next=7;break}return t.abrupt("return",null);case 7:if($(-1),a!==n){t.next=14;break}return p=c.findIndex((e=>e.node.id===n)),h=(null===(i=c[p].node.children)||void 0===i||null===(m=i.edges)||void 0===m?void 0:m.length)||0,r.setQueryData(u,d-(h+1)),c.splice(p,1),t.abrupt("return",r.setQueryData(s,l));case 14:return v=z(l.postComments.edges,a,n),y=Z(v,2),g=y[0],E=y[1],l.postComments.edges[g].node.children.edges.splice(E,1),r.setQueryData(u,d-1),t.abrupt("return",r.setQueryData(s,l));case 18:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function l(e){j(o,r,a,l,c,"next",e)}function c(e){j(o,r,a,l,c,"throw",e)}l(void 0)}))});return function(e,t){return n.apply(this,arguments)}}(),F=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=w()(f);if(!n)return null;const a=function(e){if(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])return{node:q(q({},e),{},{children:{edges:[],pageInfo:null}})};if(!I.commentId){const t=f.postComments.edges.find((t=>t.node.id===e.id));return q(q({},t),{},{node:q(q({},t.node),e)})}const t=f.postComments.edges.find((e=>e.node.id===I.commentId)).node.children.edges.find((t=>t.node.id===e.id));return q(q({},t),{},{node:q(q({},t.node),e)})}(e,t),o=f.postComments.edges,l=I.commentId;if(t){if($(1),!l)return n.postComments.edges.push(a),r.setQueryData(s,n);const e=o.findIndex((e=>e.node.id===l));return n.postComments.edges[e].node.children.edges.push(a),r.setQueryData(s,n)}if(!l){const e=o.findIndex((e=>e.node.id===a.node.id));return n.postComments.edges[e]=a,r.setQueryData(s,n)}const c=Z(z(o,l,a.node.id),2),i=c[0],u=c[1];return n.postComments.edges[i].node.children.edges[u]=a,r.setQueryData(s,n)},Q=function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&(F(t,n),n&&(a((0,N.gR)("comment post",e,{extra:{commentId:t.id,origin:"comment modal"}})),r.setQueryData(u,d+1),((e,t)=>{t||B(e.id)})(t,I.commentId)),U())};(0,o.useEffect)((()=>{t&&B()}),[t]);const H="string"==typeof n.query.comment;return(0,o.useEffect)((()=>{if(!H||I)return;const e=n.query,t=(e.comment,S(e,C));Y("squad checklist"),n.replace({pathname:n.pathname,query:t},void 0,{shallow:!0})}),[H,Y,I,n]),(0,o.useMemo)((()=>({commentsNum:d,closeNewComment:U,openNewComment:Y,onCommentClick:D,onShowShareNewComment:L,updatePostComments:Q,deleteCommentCache:_,parentComment:I,showShareNewComment:T})),[d,U,Y,D,L,Q,_,I,T])};var L=n(17298),B=n(45909);function U(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $(e){const t=(0,o.useContext)(m.ZP).trackEvent,n=D((0,o.useState)(null),2),r=n[0],a=n[1];return(0,o.useMemo)((()=>{return{shareComment:r,openShareComment:(n=b().mark((function n(r,o){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!("share"in navigator)){n.next=11;break}return n.prev=1,n.next=4,navigator.share({text:`${o.title}\n${o.commentsPermalink}${(0,B.$7)(r.id)}`});case 4:t((0,N.gR)("share post",o,{extra:{origin:e,provider:L.YE.Native,commentId:r.id}})),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(1);case 9:n.next=12;break;case 11:a(r);case 12:case"end":return n.stop()}}),n,null,[[1,7]])})),o=function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function l(e){U(o,r,a,l,c,"next",e)}function c(e){U(o,r,a,l,c,"throw",e)}l(void 0)}))},function(e,t){return o.apply(this,arguments)}),closeShareComment:()=>a(null)};var n,o}),[r])}var _=n(39572),F=n(52809),Q=n(87124);const H={post:"postUpvotes",comment:"commentUpvotes"},V={post:F.c3,comment:B.U2};var G=n(38050),W=n(92360),K=n(50562);const J={large:s.q.Medium,medium:s.q.Small};function X(e){let t=e.user,n=e.className,r=e.isCommenting,a=e.size,l=void 0===a?"large":a,c=e.onNewComment;return o.default.createElement("button",{type:"button",className:i()("flex items-center p-3 w-full rounded-16 typo-callout border",r?"bg-theme-active border-theme-divider-primary":"bg-theme-float hover:bg-theme-hover border-theme-divider-tertiary hover:border-theme-divider-primary",n),onClick:c},t?o.default.createElement(G.YY,{user:t,size:l,nativeLazyLoading:!0}):o.default.createElement(W.E,{src:K.Zm.avatar,alt:"Placeholder image for anonymous user",className:(0,G.o7)("large")}),o.default.createElement("span",{className:"ml-4 text-theme-label-tertiary"},"Share your thoughts"),o.default.createElement(s.z,{buttonSize:J[l],className:"ml-auto btn-secondary",readOnly:!0},"Post"))}var ee=n(15733),te=n(30588),ne=n(67521),re=n(65545),ae=n(52250),oe=n(46360),le=n(92600),ce=n(6217);function ie(e){let t=e.onShare,n=e.post,r=e.actionsClassName,a=void 0===r?"hidden mobileL:flex":r,l=e.onComment,c=e.onBookmark,i=e.origin,s=void 0===i?d.aP.ArticlePage:i;const u=(0,o.useContext)(m.ZP).trackEvent,f=(0,o.useContext)(v.ZP),p=f.user,h=f.showLogin,y=(0,le.Z)().updatePost,b=(0,re.ZP)({onUpvotePostMutate:y({id:n.id,update:{upvoted:!0,numUpvotes:n.numUpvotes+1}}),onCancelPostUpvoteMutate:y({id:n.id,update:{upvoted:!1,numUpvotes:n.numUpvotes+-1}})}),g=b.upvotePost,E=b.cancelPostUpvote;return o.default.createElement("div",{className:"flex justify-between py-2 px-4 rounded-16 border border-theme-divider-tertiary"},o.default.createElement(ne.s,{id:"upvote-post-btn",pressed:n.upvoted,onClick:()=>{if(p){if(n.upvoted)return u((0,N.gR)((0,ae.Rt)({upvoted:!1}),n,{extra:{origin:s}})),E({id:n.id});if(n)return u((0,N.gR)((0,ae.Rt)({upvoted:!0}),n,{extra:{origin:s}})),g({id:n.id})}else h(O.IP.Upvote)},icon:o.default.createElement(ee.Z,{secondary:n.upvoted}),"aria-label":"Upvote",responsiveLabelClass:a,className:"btn-tertiary-avocado"},"Upvote"),o.default.createElement(ne.s,{id:"comment-post-btn",pressed:n.commented,onClick:l,icon:o.default.createElement(te.Z,{secondary:n.commented}),"aria-label":"Comment",responsiveLabelClass:a,className:"btn-tertiary-blueCheese"},"Comment"),o.default.createElement(ne.s,{id:"bookmark-post-btn",pressed:n.bookmarked,onClick:c,icon:o.default.createElement(ce.Z,{secondary:n.bookmarked}),"aria-label":"Bookmark",responsiveLabelClass:a,className:"btn-tertiary-bun"},"Bookmark"),o.default.createElement(ne.s,{id:"share-post-btn",onClick:()=>t(n),icon:o.default.createElement(oe.default,null),responsiveLabelClass:a,className:"btn-tertiary-cabbage"},"Share"))}var se=n(87642),ue=n(45200),me=n(60643),de=n(82546),fe=n(62693),pe=n(56015),he=n(57877),ve=n(23576),ye=n(83341),be=n(42343),ge=n(48214),Ee=n(61420),we=n(55910),xe=n(23833),Ne=n(36583),ke=n(77803),Oe=n(68875),Pe=n(32256),Ce=n(11055),Se=n(47393);function je(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function Ze(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){je(o,r,a,l,c,"next",e)}function c(e){je(o,r,a,l,c,"throw",e)}l(void 0)}))}}function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const qe=(0,Pe.Z)("span","flex gap-2 items-center w-full");function Me(e){var t,n,r,a;let l=e.post,c=e.comment,u=e.origin,d=e.parentId,f=e.className,p=e.onComment,h=e.onShare,y=e.onDelete,E=e.onEdit,w=e.onShowUpvotes;const x=`comment-actions-menu-${c.id}`,k=(0,be.av)({id:x}).show,P=(0,o.useContext)(m.ZP).trackEvent,C=(0,o.useContext)(v.ZP),S=C.user,j=C.showLogin,Z=Ie((0,o.useState)(c.upvoted),2),I=Z[0],A=Z[1],q=Ie((0,o.useState)(c.numUpvotes),2),M=q[0],z=q[1],R=(0,g.useQueryClient)();(0,o.useEffect)((()=>{A(c.upvoted),z(c.numUpvotes)}),[c]);const T=(0,ke.Y)().requestMethod,L=(0,g.useMutation)((()=>T(K.B3,B.NA,{id:c.id})),{onMutate:(D=Ze(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.cancelQueries("post_comments");case 2:return A(!0),z(M+1),e.abrupt("return",(()=>{A(I),z(M)}));case 5:case"end":return e.stop()}}),e)}))),function(){return D.apply(this,arguments)}),onError:(e,t,n)=>n()}),U=L.mutateAsync;var D;const Y=(0,g.useMutation)((()=>T(K.B3,B.C5,{id:c.id})),{onMutate:(_=Ze(b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.cancelQueries("post_comments");case 2:return A(!1),z(M-1),e.abrupt("return",(()=>{A(I),z(M)}));case 5:case"end":return e.stop()}}),e)}))),function(){return _.apply(this,arguments)}),onError:(e,t,n)=>n()}),$=Y.mutateAsync;var _;const F=(null==S?void 0:S.id)===c.author.id,Q=F||(null==S||null===(t=S.roles)||void 0===t?void 0:t.includes(we.G7.Moderator))||(null==l||null===(n=l.source)||void 0===n||null===(r=n.currentMember)||void 0===r||null===(a=r.permissions)||void 0===a?void 0:a.includes(Se.gm.CommentDelete));return o.default.createElement("div",{className:i()("flex flex-row items-center",f)},o.default.createElement(Ne.i,{content:"Upvote"},o.default.createElement(s.z,{id:`comment-${c.id}-upvote-btn`,buttonSize:s.q.Small,pressed:I,onClick:()=>{if(S)return I?(P((0,N.gR)((0,ae.sP)(!1),l,{extra:{origin:u,commentId:c.id}})),$()):(P((0,N.gR)((0,ae.sP)(!0),l,{extra:{origin:u,commentId:c.id}})),U());j(O.IP.CommentUpvote)},icon:o.default.createElement(ee.Z,{secondary:I}),className:"mr-3 btn-tertiary-avocado"})),o.default.createElement(Ne.i,{content:"Comment"},o.default.createElement(s.z,{buttonSize:s.q.Small,onClick:()=>p(c,d),icon:o.default.createElement(te.Z,null),className:"mr-3 btn-tertiary-blueCheese"})),o.default.createElement(Ne.i,{content:"Share comment"},o.default.createElement(s.z,{buttonSize:s.q.Small,onClick:()=>h(c),icon:o.default.createElement(oe.default,null),className:"mr-3 btn-tertiary-cabbage"})),Q&&o.default.createElement(Ce.Z,{tooltipPlacement:"top",onClick:e=>k(e,{position:(0,ae.DZ)(e)})}),M>0&&o.default.createElement(Ne.i,{content:"See who upvoted"},o.default.createElement(xe.D,{className:"ml-auto",onClick:()=>w(c.id,M)},M," upvote",1===M?"":"s")),o.default.createElement(Oe.default,{disableBoundariesCheck:!0,id:x,className:"menu-primary typo-callout",animation:"fade"},F&&o.default.createElement(be.ck,{onClick:()=>E(c)},o.default.createElement(qe,null,o.default.createElement(Ee.Z,null)," Edit comment")),o.default.createElement(be.ck,{onClick:()=>y(c,d)},o.default.createElement(qe,{className:"flex items-center w-full"},o.default.createElement(ge.Z,null)," Delete comment"))))}function ze(e){let t=e.author,n=e.className,r=e.appendTooltipTo,a=e.badges;return o.default.createElement(he.R,{user:t,tooltip:{appendTo:r}},o.default.createElement(pe.x,{href:t.permalink,className:i()("overflow-hidden font-bold whitespace-nowrap w-fit commentAuthor text-theme-label-primary typo-callout",n)},t.name,a))}var Re=n(30435);function Te(e){let t=e.comment,n=e.className;const r=!!t.lastUpdatedAt,a=r?t.lastUpdatedAt:t.createdAt;return o.default.createElement("time",{dateTime:a,className:i()("typo-callout",n)},`${r?"Modified ":""}${(0,Re.Pe)(a)}`)}var Le=n(3805);const Be=function(e){let t=e.post,n=e.comment,r=e.origin,a=e.commentHash,l=e.commentRef,c=e.parentId,s=e.onComment,u=e.onShare,m=e.onDelete,d=e.onEdit,f=e.onShowUpvotes,p=e.appendTooltipTo,h=e.postAuthorId,v=e.postScoutId,y=e.className,b=void 0===y?{}:y,g=e.children;const E=a===(0,B.$7)(n.id),w=(0,Le.t)({source:t.source,user:n.author}).role;return o.default.createElement("article",{ref:E?l:null,className:i()("flex flex-col p-4 rounded-24 hover:bg-theme-hover focus:outline",E?"border border-theme-color-cabbage":"border-theme-divider-tertiary",b.container)},g,o.default.createElement("header",{className:"flex z-1 flex-row"},o.default.createElement(he.R,{user:n.author,tooltip:{appendTo:p}},o.default.createElement(fe.a,{className:"z-1",user:n.author})),o.default.createElement("div",{className:"flex flex-col ml-3 typo-callout"},o.default.createElement(ae.gq,null,o.default.createElement(ze,{author:n.author,appendTooltipTo:p,badges:[o.default.createElement(ve.Z,{key:"squadMemberRole",role:w}),n.author.id===h&&o.default.createElement(ye.Z,{key:"author",className:"text-theme-status-help",content:"Author",Icon:ue.Z,iconProps:{secondary:!0}}),n.author.id===v&&o.default.createElement(ye.Z,{key:"scout",className:"text-theme-color-bun",content:"Scout",Icon:me.Z,iconProps:{secondary:!0}})]})),o.default.createElement(ae.gq,{className:"items-center text-theme-label-quaternary"},o.default.createElement(pe.x,{href:n.author.permalink},"@",n.author.username),o.default.createElement("div",{className:"mx-2 w-0.5 h-0.5 bg-theme-label-quaternary"}),o.default.createElement(Te,{comment:n})))),o.default.createElement("div",{className:i()("mt-3 break-words-overflow typo-body",b.content)},o.default.createElement(de.Z,{content:n.contentHtml,appendTooltipTo:p}),o.default.createElement(Me,{post:t,comment:n,origin:r,parentId:c,onShare:u,onComment:s,onDelete:m,onEdit:d,onShowUpvotes:f,className:"mt-3"})))},Ue=["comment","parentComment","onEdit"];function De(){return De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De.apply(this,arguments)}function Ye(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const $e=function(e){let t=e.comment,n=e.parentComment,r=e.onEdit,a=Ye(e,Ue);return o.default.createElement(Be,De({},a,{key:t.id,parentId:n.id,comment:t,onEdit:e=>r(e,n),className:{container:"relative",content:"ml-14"}}),o.default.createElement("div",{className:"absolute top-0 bottom-0 left-9 -ml-px w-0.5 bg-theme-float"}))},_e=["className","comment","appendTooltipTo","permissionNotificationCommentId"];function Fe(){return Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe.apply(this,arguments)}function Qe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function He(e){var t,n,r,a,l,c;e.className;let i=e.comment,s=e.appendTooltipTo,u=e.permissionNotificationCommentId,m=Qe(e,_e);const f=(0,o.useContext)(v.ZP).user,p=u===i.id||(null===(t=i.children)||void 0===t||null===(n=t.edges)||void 0===n?void 0:n.some((e=>e.node.id===u)));return o.default.createElement("section",{className:"flex flex-col items-stretch rounded-24 border border-theme-divider-tertiary scroll-mt-16"},o.default.createElement(Be,Fe({},m,{comment:i,parentId:i.id,className:{container:"border-b"},appendTooltipTo:s})),null===(r=i.children)||void 0===r?void 0:r.edges.map((e=>{let t=e.node;return o.default.createElement($e,Fe({},m,{key:t.id,comment:t,parentComment:i,appendTooltipTo:s}))})),p&&o.default.createElement(se.Z,{className:!(null!==(a=i.children)&&void 0!==a&&null!==(l=a.edges)&&void 0!==l&&l.length)&&"mt-3",source:d.Yq.NewComment,contentName:(null==f?void 0:f.id)!==(null==i?void 0:i.author.id)?null==i||null===(c=i.author)||void 0===c?void 0:c.name:void 0}))}var Ve=n(58700),Ge=n(25782),We=n(69282),Ke=n(32713);function Je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function et(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function tt(e){var t,n;let r=e.post,a=e.origin,l=e.onClick,c=e.onShare,i=e.onClickUpvote,s=e.modalParentSelector,u=e.permissionNotificationCommentId;const f=r.id,p=(0,o.useRef)(),h=(0,o.useContext)(v.ZP),y=h.user,E=h.showLogin,w=h.tokenRefreshed,x=(0,o.useContext)(m.ZP).trackEvent,k=(0,Ke.sW)().displayToast,P=(0,ke.Y)().requestMethod,C=(0,We.G)().showPrompt,S=["post_comments",f],j=(0,g.useQuery)(S,(()=>P(K.B3,B.nW,{postId:f,[Ge.UK]:Z,first:500},{requestKey:JSON.stringify(S)})),{enabled:!!f&&w,refetchInterval:6e4}),Z=j.data,I=j.isLoading,A=window.location.hash,q=(null==Z||null===(t=Z.postComments)||void 0===t||null===(n=t.edges)||void 0===n?void 0:n.length)||0,M=(0,o.useRef)(null),z=T(r).deleteCommentCache,L=function(){var e,t=(e=b().mark((function e(t,n){var a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={title:"Delete comment?",description:"Are you sure you want to delete your comment? This action cannot be undone.",okButton:{title:"Delete",className:"btn-primary-cabbage"}},e.next=3,C(a);case 3:if(!e.sent){e.next=9;break}return x((0,N.gR)(d.s6.DeleteComment,r)),e.next=7,(0,B.YF)(t,P);case 7:k("The comment has been deleted"),z(t,n);case 9:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){et(o,r,a,l,c,"next",e)}function c(e){et(o,r,a,l,c,"throw",e)}l(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),U=Je((0,o.useState)(!!A),2),D=U[0],Y=U[1];if((0,o.useEffect)((()=>{q>0&&D&&M.current&&(M.current.scrollIntoView({block:"center",inline:"nearest"}),Y(!1))}),[q,D]),0===r.numComments)return o.default.createElement("div",{className:"mt-8 mb-12 text-center text-theme-label-quaternary typo-subhead"},"Be the first to comment.");if(I||null===Z)return o.default.createElement(Ve.Z,{placeholderAmount:r.numComments});const $=e=>e.author.id===y.id?"":`@${e.author.username} `,_=(e,t)=>{if(y){const n=R(r,e);n.commentId=t;const a=$(e);l(n,a)}else E(O.IP.Comment)},F=(e,t)=>{const n={editContent:e.content,editId:e.id},a=$(e);l(R(r,t,n),a)};return o.default.createElement("div",{className:"flex flex-col gap-4 mb-12",ref:p},Z.postComments.edges.map((e=>{var t,n;return o.default.createElement(He,{post:r,origin:a,commentHash:A,commentRef:M,comment:e.node,key:e.node.id,onComment:_,onShare:c,onDelete:(e,t)=>L(e.id,t),onEdit:F,onShowUpvotes:i,postAuthorId:null===(t=r.author)||void 0===t?void 0:t.id,postScoutId:null===(n=r.scout)||void 0===n?void 0:n.id,appendTooltipTo:null!=s?s:()=>null==p?void 0:p.current,permissionNotificationCommentId:u})})))}function nt(e){let t=e.post,n=e.onUpvotesClick;const r=t.numUpvotes||0,a=t.numComments||0;return o.default.createElement("div",{className:"flex gap-x-4 items-center my-5 text-theme-label-tertiary typo-callout"},t.views>0&&o.default.createElement("span",null,t.views.toLocaleString()," Views"),r>0&&o.default.createElement(xe.D,{onClick:()=>n(r)},r," Upvote",r>1?"s":""),a>0&&o.default.createElement("span",null,a.toLocaleString()," Comment"+(1===a?"":"s")))}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ot=a()((()=>n.e(313).then(n.bind(n,7448)))),lt=a()((()=>Promise.all([n.e(685),n.e(449)]).then(n.bind(n,90209)))),ct=a()((()=>n.e(125).then(n.bind(n,72484))),{ssr:!1}),it=a()((()=>n.e(489).then(n.bind(n,58858))));const st=function(e){let t=e.post,n=e.onShare,r=e.onBookmark,a=e.analyticsOrigin,l=e.shouldOnboardAuthor,c=e.enableShowShareNewComment;const i=["post",t.id],s=(0,v.Eu)(),u=s.user,m=s.showLogin,d=rt((0,o.useState)(!1),2),f=d[0],p=d[1],h=rt((0,o.useState)(),2),y=h[0],b=h[1],g=(()=>{const e=(0,Q.e)(),t=e.modal,n=e.openModal,r=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";n({type:_.nT.UpvotedPopup,props:{placeholderAmount:t,requestQuery:{queryKey:[H[r],e],query:V[r],params:{id:e,first:50}}}})};return(0,o.useMemo)((()=>{var e,n;return{onShowUpvoted:r,queryKey:null==t||null===(e=t.props)||void 0===e||null===(n=e.requestQuery)||void 0===n?void 0:n.queryKey}}),[t])})().onShowUpvoted,E=T(t,{enableShowShareNewComment:c}),w=E.closeNewComment,x=E.openNewComment,N=E.onCommentClick,k=E.updatePostComments,P=E.onShowShareNewComment,C=E.parentComment,S=E.showShareNewComment,j=$(a),Z=j.shareComment,I=j.openShareComment,A=j.closeShareComment;return(0,o.useEffect)((()=>{l&&p(!0)}),[l]),o.default.createElement(o.default.Fragment,null,o.default.createElement(nt,{post:t,onUpvotesClick:e=>g(t.id,e)}),o.default.createElement(ie,{onBookmark:r,onShare:n,post:t,postQueryKey:i,onComment:()=>x("comment button"),actionsClassName:"hidden laptop:flex",origin:a}),o.default.createElement(X,{user:u,className:"my-6",isCommenting:!!C,onNewComment:()=>x("start discussion button")}),o.default.createElement(tt,{post:t,origin:a,onClick:N,onShare:e=>I(e,t),onClickUpvote:(e,t)=>g(e,t,"comment"),permissionNotificationCommentId:y}),f&&o.default.createElement(ot,{onSignUp:!u&&(()=>m(O.IP.Author))}),C&&o.default.createElement(lt,{isOpen:!!C,parentComment:C,onRequestClose:w,onComment:(e,t)=>{t&&b(e.id),k(e,t)},post:t}),S&&o.default.createElement(ct,{post:t,commentId:S,onRequestClose:()=>P(null)}),Z&&o.default.createElement(it,{isOpen:!!Z,post:t,comment:Z,origin:a,onRequestClose:A}))};var ut=n(8115);function mt(){return mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}const dt=a()((()=>n.e(489).then(n.bind(n,58858)))),ft=a()((()=>n.e(876).then(n.bind(n,65639)))),pt=120;function ht(e){let t=e.post,n=e.isFallback,r=e.origin,a=e.children,c=e.className,i=void 0===c?{}:c,s=e.navigationProps,u=e.engagementProps,m=e.shouldOnboardAuthor,d=e.enableShowShareNewComment,f=e.customNavigation;if(!(null!=t?t:{}).id&&!n)return o.default.createElement(ft,null);const p=u.onCloseShare,v=u.sharePost,y=u.onSharePost,b=u.onToggleBookmark,g=(0,o.useContext)(ut.Z),E=g.onStartArticleOnboarding,w=g.showArticleOnboarding;return o.default.createElement(o.default.Fragment,null,w&&o.default.createElement(h,{className:null==i?void 0:i.onboarding,onInitializeOnboarding:E}),null!=f?f:o.default.createElement(l.Z,mt({},s,{className:i.navigation})),a,o.default.createElement(st,{post:t,onShare:y,analyticsOrigin:r,onBookmark:b,shouldOnboardAuthor:m,enableShowShareNewComment:d}),v&&o.default.createElement(dt,{isOpen:!!v,post:t,origin:r,onRequestClose:p}))}},70939:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(94184),a=n.n(r),o=n(35776),l=n(48584);const c=["onPreviousPost","onNextPost","postPosition","post","className"];function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const u=function(e){let t=e.onPreviousPost,n=e.onNextPost,r=e.postPosition,u=e.post,m=e.className,d=void 0===m?{}:m,f=s(e,c);const p=`Published on ${null==u?void 0:u.source.name}`,h=null!=u&&u.author?`${p} by ${null==u?void 0:u.author.name}`:p,v={title:null==u?void 0:u.title,subtitle:h},y=!!t||!!n;return o.default.createElement(l.Z,i({},f,{inlineActions:!0,post:u,className:{container:a()("fixed z-3 w-full bg-theme-bg-secondary border border-theme-divider-tertiary py-4 px-6 top-0 ml-0","laptop:left-[unset] max-w-full",null==d?void 0:d.container),actions:null==d?void 0:d.actions},onPreviousPost:t,onNextPost:n,postPosition:r}),o.default.createElement("div",{className:a()("overflow-hidden flex-col flex-1 ml-2",y&&"hidden tablet:flex")},o.default.createElement("span",{className:"overflow-hidden whitespace-nowrap typo-footnote text-ellipsis text-theme-label-tertiary"},v.subtitle),o.default.createElement("h3",{className:"overflow-hidden font-bold whitespace-nowrap text-ellipsis typo-headline"},v.title)))}},62510:(e,t,n)=>{n.d(t,{Dg:()=>ot,C2:()=>ct,QY:()=>at});var r=n(94184),a=n.n(r),o=n(35776),l=n(50104),c=n(89228),i=n(41542),s=n(86484),u=n.n(s),m=n(52250),d=n(64651),f=n(46360),p=n(86992),h=n(26990),v=n(8437);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){let t=e.share,n=e.link;const r=y((0,p._)(n),2),a=r[0],l=r[1];return o.default.createElement(v.Hl,{className:"flex laptop:hidden flex-col gap-2 items-start p-3"},o.default.createElement(h.z,{buttonSize:h.q.Small,onClick:()=>l(),pressed:a,icon:o.default.createElement(d.Z,null),className:"btn-tertiary-avocado"},a?"Copied!":"Copy link"),o.default.createElement(h.z,{buttonSize:h.q.Small,onClick:t,icon:o.default.createElement(f.default,null),className:"btn-tertiary-cabbage"},"Share with your friends"))}var E=n(62835),w=n(98677),x=n(38e3),N=n(14362),k=n(47487),O=n(86024),P=n(17298),C=n(32256),S=n(36583),j=n(15098);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const A=(0,C.Z)(h.z,"my-1"),q=(0,C.Z)(A,"text-white");function M(e){let t=e.post;const n=t.commentsPermalink,r=Z((0,p._)(n),2),a=r[0],l=r[1],c=(0,o.useContext)(x.ZP).trackEvent,i=e=>c((0,w.gR)("share post",t,{extra:{provider:e,origin:j.aP.ShareBar}}));return o.default.createElement(v.Hl,{className:"hidden laptop:flex flex-col p-3"},o.default.createElement("p",{className:"typo-callout text-theme-label-tertiary"},"Would you recommend this post?"),o.default.createElement("div",{className:"inline-flex relative flex-row items-center mt-3"},o.default.createElement(S.i,{content:"Copy link"},o.default.createElement(A,{onClick:()=>{l(),i(P.YE.CopyLink)},pressed:a,icon:o.default.createElement(d.Z,null),className:"btn-tertiary-avocado"})),o.default.createElement(S.i,{content:"Share on WhatsApp"},o.default.createElement(q,{tag:"a",href:(0,P.iD)(n),target:"_blank",rel:"noopener",onClick:()=>i(P.YE.WhatsApp),icon:o.default.createElement(N.Z,{secondary:!0}),className:"btn-tertiary"})),o.default.createElement(S.i,{content:"Share on Twitter"},o.default.createElement(q,{tag:"a",href:(0,P.nO)(n,t.title),target:"_blank",rel:"noopener",onClick:()=>i(P.YE.Twitter),icon:o.default.createElement(k.Z,{secondary:!0}),className:"btn-tertiary"})),o.default.createElement(S.i,{content:"Share on Facebook"},o.default.createElement(q,{tag:"a",href:(0,P.Qk)(n),target:"_blank",rel:"noopener",onClick:()=>i(P.YE.Facebook),icon:o.default.createElement(O.Z,{secondary:!0}),className:"btn-tertiary"}))))}var z=n(28687),R=n.n(z),T=n(88767),L=n(67217);const B=z.gql`
  query SimilarPosts(
    $post: ID!
    $loggedIn: Boolean! = false
    $trendingFirst: Int
    $similarFirst: Int
    $discussedFirst: Int
    $tags: [String]!
  ) {
    trendingPosts: randomTrendingPosts(post: $post, first: $trendingFirst) {
      id
      title
      permalink
      commentsPermalink
      bookmarked @include(if: $loggedIn)
      source {
        ...SourceShortInfo
      }
      scout {
        ...UserShortInfo
      }
      author {
        ...UserShortInfo
      }
      trending
      tags
    }
    similarPosts: randomSimilarPostsByTags(
      tags: $tags
      post: $post
      first: $similarFirst
    ) {
      id
      title
      permalink
      commentsPermalink
      bookmarked @include(if: $loggedIn)
      source {
        ...SourceShortInfo
      }
      scout {
        ...UserShortInfo
      }
      author {
        ...UserShortInfo
      }
      numComments
      numUpvotes
      tags
    }
    discussedPosts: randomDiscussedPosts(post: $post, first: $discussedFirst) {
      id
      title
      permalink
      commentsPermalink
      numComments
      source {
        ...SourceShortInfo
      }
      tags
      scout {
        ...UserShortInfo
      }
      author {
        ...UserShortInfo
      }
      featuredComments {
        author {
          ...UserShortInfo
        }
      }
    }
  }
  ${L.T}
  ${L.JT}
`;var U=n(50562),D=n(96491),Y=n(41664),$=n.n(Y),_=n(8311),F=n(6217),Q=n(44295),H=n(43536),V=n(34051);function G(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}const W=o.default.createElement("div",{className:"h-px bg-theme-divider-tertiary"}),K="w-7 h-7 rounded-full mt-1",J="flex flex-col ml-3 mr-2 flex-1",X=e=>{let t=e.post,n=e.onLinkClick,r=e.onBookmark;return o.default.createElement("article",{className:a()("relative flex py-2 pl-4 pr-2 group items-start hover:bg-theme-hover",Q.Z.card)},o.default.createElement(H.YS,{href:t.commentsPermalink,title:t.title,onClick:()=>n(t),onMouseUp:e=>1===e.button&&n(t)}),o.default.createElement(i.w,{imgSrc:t.source.image,imgAlt:t.source.name,className:K}),o.default.createElement("div",{className:J},o.default.createElement("h5",{className:a()("typo-callout text-theme-label-primary mb-0.5 multi-truncate break-words text-ellipsis",Q.Z.title)},t.title),o.default.createElement("div",{className:"flex items-center typo-footnote text-theme-label-tertiary"},t.trending?o.default.createElement(o.default.Fragment,null,o.default.createElement(m.nJ,null),o.default.createElement("div",{className:"ml-2"},t.trending," devs read it last hour")):o.default.createElement(o.default.Fragment,null,t.numUpvotes>0&&o.default.createElement("div",null,t.numUpvotes," Upvotes"),t.numComments>0&&o.default.createElement("div",{className:t.numUpvotes>0&&"ml-2"},t.numComments," Comments")))),o.default.createElement(S.i,{content:t.bookmarked?"Remove bookmark":"Bookmark"},o.default.createElement(h.z,{className:"group-hover:visible mouse:invisible mt-1 btn-tertiary-bun",pressed:t.bookmarked,buttonSize:h.q.Small,icon:o.default.createElement(F.Z,{secondary:t.bookmarked}),onClick:()=>r(t)})))},ee=(0,C.Z)(V.f,"h-3 rounded-xl my-0.5"),te=()=>o.default.createElement("article",{"aria-busy":!0,className:"flex relative items-start py-2 pr-2 pl-4"},o.default.createElement(V.f,{className:K}),o.default.createElement("div",{className:J},o.default.createElement(ee,{style:{width:"80%"}}),o.default.createElement(ee,{style:{width:"80%"}}),o.default.createElement(ee,{style:{width:"40%"}})));function ne(e){let t=e.posts,n=e.isLoading,r=e.onBookmark,l=e.className;const c=(0,o.useContext)(x.ZP).trackEvent,i=function(){var e,t=(e=u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c((0,w.gR)("click",t,{extra:{origin:"recommendation"}}));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){G(o,r,a,l,c,"next",e)}function c(e){G(o,r,a,l,c,"throw",e)}l(void 0)}))});return function(e){return t.apply(this,arguments)}}();return o.default.createElement("section",{className:a()("flex flex-col rounded-2xl bg-theme-bg-primary border-theme-divider-quaternary border",l)},o.default.createElement("h4",{className:"py-3 pr-4 pl-6 typo-body text-theme-label-tertiary"},"You might like"),W,n?o.default.createElement(o.default.Fragment,null,o.default.createElement(te,null),o.default.createElement(te,null),o.default.createElement(te,null)):o.default.createElement(o.default.Fragment,null,t.map((e=>o.default.createElement(X,{key:e.id,post:e,onLinkClick:i,onBookmark:r})))),W,o.default.createElement($(),{href:"https://app.daily.dev/",passHref:!0},o.default.createElement(h.z,{className:"self-start my-2 ml-2 btn-tertiary",buttonSize:h.q.Small,tag:"a",rightIcon:o.default.createElement(_.Z,{className:"rotate-90"})},"View all")))}var re=n(38050);const ae=o.default.createElement("div",{className:"h-px bg-theme-divider-tertiary"}),oe=e=>{var t;let n=e.post,r=e.onLinkClick;return o.default.createElement("article",{className:a()("relative flex flex-col py-3 px-4 group items-start hover:bg-theme-hover",Q.Z.card)},o.default.createElement($(),{href:n.commentsPermalink,prefetch:!1,passHref:!0},o.default.createElement(H.YS,{title:n.title,onClick:()=>r(n),onMouseUp:e=>1===e.button&&r(n)})),o.default.createElement("h5",{className:a()("typo-callout text-theme-label-primary mb-2 multi-truncate",Q.Z.title)},n.title),o.default.createElement("div",{className:"flex items-center typo-footnote text-theme-label-tertiary"},(null===(t=n.featuredComments)||void 0===t?void 0:t.length)>0&&o.default.createElement("div",{className:"relative mr-2 h-6",style:{width:`${n.featuredComments.length+.5}rem`}},n.featuredComments.map(((e,t)=>o.default.createElement(re.YY,{key:e.author.username,user:e.author,size:"small",className:"top-0",style:{left:`${t}rem`,position:"absolute"}})))),o.default.createElement("div",null,n.numComments," Comments")))},le=(0,C.Z)(V.f,"h-3 rounded-xl my-0.5"),ce=()=>o.default.createElement("article",{"aria-busy":!0,className:"flex relative flex-col items-start py-3 px-4"},o.default.createElement(le,{style:{width:"80%"}}),o.default.createElement(le,{style:{width:"80%"}}),o.default.createElement(le,{style:{width:"40%"}})),ie=(0,C.Z)(v.Hl,"flex flex-col");function se(e){var t,n;let r=e.posts,a=e.isLoading,l=e.className;const c=(0,o.useContext)(x.ZP).trackEvent,i=e=>{c((0,w.gR)("click",e,{extra:{origin:"best discussions"}}))},s=()=>{};return o.default.createElement(ie,{className:l},o.default.createElement("h4",{className:"py-3 pr-4 pl-6 typo-body text-theme-label-tertiary"},"Best discussions"),ae,a?o.default.createElement(o.default.Fragment,null,o.default.createElement(ce,null),o.default.createElement(ce,null),o.default.createElement(ce,null)):o.default.createElement(o.default.Fragment,null,null==r?void 0:r.slice(1).map((e=>o.default.createElement(oe,{key:e.id,post:e,onLinkClick:i})))),ae,o.default.createElement($(),{href:null!==(t=null==r||null===(n=r[0])||void 0===n?void 0:n.commentsPermalink)&&void 0!==t?t:"/",prefetch:!1,passHref:!0},o.default.createElement(h.z,{className:"self-start my-2 ml-2 btn-tertiary",buttonSize:h.q.Small,tag:"a",rightIcon:o.default.createElement(_.Z,{className:"rotate-90"}),onClick:s,onMouseUp:e=>1===e.button&&void 0},"I'm feeling lucky")))}var ue,me=n(86548);function de(){return de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}const fe=function(e){return o.createElement("svg",de({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),ue||(ue=o.createElement("path",{d:"M5.75 6h12.5a.75.75 0 110 1.5H5.75a.75.75 0 010-1.5zm0 5h12.5a.75.75 0 110 1.5H5.75a.75.75 0 110-1.5zm0 5h6.5a.75.75 0 110 1.5h-6.5a.75.75 0 110-1.5z",fill:"currentcolor",fillRule:"evenodd"})))};var pe;function he(){return he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(this,arguments)}const ve=function(e){return o.createElement("svg",he({width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"icon"},e),pe||(pe=o.createElement("path",{d:"M12.5 16a1 1 0 01.117 1.993L12.5 18h-7a1 1 0 01-.117-1.993L5.5 16h7zm6-5a1 1 0 01.117 1.993L18.5 13h-13a1 1 0 01-.117-1.993L5.5 11h13zm0-5a1 1 0 01.117 1.993L18.5 8h-13a1 1 0 01-.117-1.993L5.5 6h13z",fill:"currentcolor",fillRule:"evenodd"})))};function ye(){return ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ye.apply(this,arguments)}const be=e=>o.default.createElement(me.Z,ye({},e,{IconPrimary:fe,IconSecondary:ve})),ge={details:"VcLCIuDU9WFPxvzmyOldTA=="};function Ee(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}const we=o.default.createElement("div",{className:"mb-3 h-px bg-theme-divider-tertiary"}),xe=(e,t)=>t.id?`${e.permalink}?a=${t.id}`:e.permalink;function Ne(e){let t=e.post,n=e.className,r=e.collapsible;const l=(0,o.useContext)(x.ZP).trackEvent,c=function(){var e,n=(e=u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l((0,w.gR)("click",t,{extra:{origin:"toc"}}));case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Ee(o,r,a,l,c,"next",e)}function c(e){Ee(o,r,a,l,c,"throw",e)}l(void 0)}))});return function(){return n.apply(this,arguments)}}(),i=o.default.createElement(o.default.Fragment,null,t.toc.map((e=>o.default.createElement("a",{key:e.text,href:xe(t,e),target:"_blank",rel:"noopener",title:e.text,onClick:c,className:"flex-1 py-2 px-4 truncate hover:bg-theme-hover typo-callout"},e.text)))),s="flex items-center py-3 px-4 typo-body text-theme-label-tertiary";return r?o.default.createElement("details",{className:a()("flex-col rounded-2xl bg-theme-bg-secondary overflow-hidden select-none",ge.details,n)},o.default.createElement(m.ER,{className:"hover:bg-theme-hover"},o.default.createElement("div",{className:s},o.default.createElement(be,{className:"mr-2 text-2xl"}),"Table of contents",o.default.createElement(m.vd,null))),we,i):o.default.createElement("section",{className:a()("flex-col rounded-2xl pb-3 bg-theme-bg-secondary overflow-hidden",n)},o.default.createElement("h4",{className:s},o.default.createElement(be,{className:"mr-2 text-2xl"}),"Table of contents"),we,i)}var ke=n(87328);function Oe(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function Pe(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){Oe(o,r,a,l,c,"next",e)}function c(e){Oe(o,r,a,l,c,"throw",e)}l(void 0)}))}}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ze=(e,t,n)=>e.map((e=>e.id===t?Se(Se({},e),n(e)):e)),Ie=(e,t,n)=>function(){var r=Pe(u().mark((function r(a){var o,l;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=a.id,r.next=3,e.cancelQueries(t);case 3:return l=e.getQueryData(t),e.setQueryData(t,Se(Se({},l),{},{trendingPosts:Ze(l.trendingPosts,o,n),similarPosts:Ze(l.similarPosts,o,n)})),r.abrupt("return",(()=>{e.setQueryData(t,l)}));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();function Ae(e){var t,n;let r=e.currentPost,l=e.className;const c=r.id,i=r.tags,s=["furtherReading",c],d=(0,o.useContext)(E.ZP),f=d.user,p=d.showLogin,h=(0,o.useContext)(x.ZP).trackEvent,v=(0,T.useQueryClient)(),y=(0,T.useQuery)(s,(()=>R()(U.B3,B,{loggedIn:!!f,post:c,trendingFirst:1,similarFirst:3,discussedFirst:4,tags:i})),{refetchOnWindowFocus:!1,refetchIntervalInBackground:!1,refetchOnReconnect:!1,refetchInterval:!1,refetchOnMount:!1}),b=y.data,g=y.isLoading,N=(0,D.Z)({onBookmarkMutate:Ie(v,s,(()=>({bookmarked:!0}))),onRemoveBookmarkMutate:Ie(v,s,(()=>({bookmarked:!1})))}),k=N.bookmark,O=N.removeBookmark;if(!(null!=b&&b.similarPosts||g))return o.default.createElement(o.default.Fragment,null);const P=null!=b&&b.similarPosts?[...b.trendingPosts,...b.similarPosts.slice(0,Math.min(b.similarPosts.length,3-b.trendingPosts.length))]:[],C=function(){var e=Pe(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=3;break}return p(ke.IP.Bookmark),e.abrupt("return");case 3:if(n=!t.bookmarked,h((0,w.gR)((0,m.Rt)({bookmarked:n}),t,{extra:{origin:"recommendation"}})),!n){e.next=10;break}return e.next=8,k({id:t.id});case 8:e.next=12;break;case 10:return e.next=12,O({id:t.id});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=(null===(t=r.toc)||void 0===t?void 0:t.length)>0;return o.default.createElement("div",{className:a()(l,"flex flex-col gap-6")},S&&o.default.createElement(Ne,{post:r,className:"hidden laptop:flex"}),(g||(null==P?void 0:P.length)>0)&&o.default.createElement(ne,{posts:P,isLoading:g,onBookmark:C}),(g||(null==b||null===(n=b.discussedPosts)||void 0===n?void 0:n.length)>0)&&o.default.createElement(se,{posts:null==b?void 0:b.discussedPosts,isLoading:g}))}var qe=n(45200),Me=n(60643),ze=n(6003),Re=n(56015),Te=n(57877);function Le(){return Le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Le.apply(this,arguments)}const Be=(0,C.Z)(i.w,"w-10 h-10"),Ue=e=>{const t=e.userType,n=e.name,r=e.permalink,a=e.image;if("source"===t)return o.default.createElement(ze.t,{href:r,passHref:!0,prefetch:!1,tooltip:{placement:"bottom",content:n}},o.default.createElement(Be,{className:"rounded-full cursor-pointer",imgSrc:a,imgAlt:n,background:"var(--theme-background-secondary)"}));const l=e;return o.default.createElement(Re.x,{href:l.permalink},o.default.createElement(Be,{className:"rounded-12",imgSrc:a,imgAlt:n,background:"var(--theme-background-secondary)"}))},De=e=>{const t=e.id,n=e.handle,r=e.name,l=e.username,c=e.permalink,i=e.userType,s=void 0===i?"source":i,u=(e=>"source"===e?null:"author"===e?qe.Z:Me.Z)(s),m="source"===s?o.default.Fragment:Te.R;return o.default.createElement("div",{className:"flex relative flex-row p-3"},o.default.createElement(m,{user:{id:t}},o.default.createElement(Re.x,{href:c},o.default.createElement(Ue,e))),u&&o.default.createElement(u,{secondary:!0,className:a()("absolute w-5 h-5 top-10 left-10","author"===s?"text-theme-color-cheese":"text-theme-color-bun")}),o.default.createElement(m,{user:{id:t}},o.default.createElement("div",{className:"flex flex-col ml-4"},o.default.createElement(Re.x,{className:"font-bold typo-callout",href:c},r),(n||l||t)&&o.default.createElement(Re.x,{className:"mt-0.5 typo-footnote text-theme-label-tertiary",href:c},"@",n||l||t))))};function Ye(e){let t=e.post;const n=t.author,r=t.scout,a=t.source;return o.default.createElement(v.Hl,{className:"flex flex-col"},o.default.createElement(De,Le({},a,{userType:"source"})),n&&o.default.createElement(De,Le({},n,{userType:"author"})),r&&o.default.createElement(De,Le({},r,{userType:"scout"})))}var $e=n(75486);function _e(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function Fe(e){let t=e.onShare,n=e.onBookmark,r=e.onReadArticle,a=e.post,l=e.className,c=e.onClose,i=e.origin,s=void 0===i?j.aP.ArticlePage:i;const d=(0,o.useContext)(E.ZP).tokenRefreshed,f=(0,o.useContext)(x.ZP).trackEvent,p=function(){var e,t=(e=u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("share"in navigator)){e.next=9;break}return e.prev=1,e.next=4,navigator.share({text:`${a.title}\n${a.commentsPermalink}`});case 4:f((0,w.gR)("share post",a,{extra:{origin:s,provider:P.YE.Native}})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){_e(o,r,a,l,c,"next",e)}function c(e){_e(o,r,a,l,c,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();return o.default.createElement(m.ry,{className:l},o.default.createElement($e.G,{onBookmark:n,onShare:t,onReadArticle:r,post:a,onClose:c,className:"hidden tablet:flex pt-6",contextMenuId:"post-widgets-context"}),o.default.createElement(Ye,{post:a}),o.default.createElement(M,{post:a}),o.default.createElement(g,{share:p,link:a.commentsPermalink}),d&&o.default.createElement(Ae,{currentPost:a}))}var Qe=n(53091),He=n(32713),Ve=n(47164),Ge=n(57304),We=n(70939),Ke=n(89907),Je=n(84558),Xe=n(94915);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rt(){return rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rt.apply(this,arguments)}const at=80,ot=120,lt=(0,C.Z)("main","flex flex-col flex-1 px-4 tablet:px-8 tablet:border-r tablet:border-theme-divider-tertiary");function ct(e){var t,n,r;let s=e.post,u=e.className,m=void 0===u?{}:u,d=e.shouldOnboardAuthor,f=e.enableShowShareNewComment,p=e.origin,h=e.position,v=e.inlineActions,y=e.onPreviousPost,b=e.onNextPost,g=e.onClose,E=e.postPosition,w=e.isFallback,x=e.customNavigation,N=e.onRemovePost;const k=(0,He.sW)().subject,O=(0,Ge.Z)({origin:p,post:s}),P=O.onSharePost,C=O.onReadArticle,S=O.onToggleBookmark,j=!!y||!!b,Z=a()("tablet:pb-0 tablet:flex-row",null==m?void 0:m.container),I={postPosition:E,onPreviousPost:y,onNextPost:b,post:s,onBookmark:S,onReadArticle:C,onClose:g,onShare:P,inlineActions:v,onRemovePost:N};return o.default.createElement(Ve.Z,{hasNavigation:j,className:Z,"aria-live":k===He._R.PostContent?"polite":"off"},"fixed"===h&&o.default.createElement(We.Z,rt({},I,{className:null==m?void 0:m.fixedNavigation})),o.default.createElement(lt,{className:a()("relative",null==m?void 0:m.content)},o.default.createElement(Ke.F,{className:tt(tt({},m),{},{navigation:{actions:null==m||null===(t=m.navigation)||void 0===t?void 0:t.actions,container:a()("pt-6",null==m||null===(n=m.navigation)||void 0===n?void 0:n.container)}}),isFallback:w,customNavigation:x,enableShowShareNewComment:f,shouldOnboardAuthor:d,navigationProps:I,engagementProps:O,origin:p,post:s},o.default.createElement("h1",{className:"my-6 font-bold break-words typo-large-title"},s.title),s.summary&&o.default.createElement(c.Z,{className:"mb-6",summary:s.summary}),o.default.createElement(Qe.R,{tags:s.tags||[]}),o.default.createElement(l.Z,{createdAt:s.createdAt,readTime:s.readTime,className:"mt-4 mb-8 !typo-callout"}),o.default.createElement("a",rt({href:s.permalink,title:"Go to post",target:"_blank",rel:"noopener"},(0,Xe.K)(C),{className:"block overflow-hidden mb-10 rounded-2xl cursor-pointer",style:{maxWidth:"25.625rem"}}),o.default.createElement(i.w,{imgSrc:s.image,imgAlt:"Post cover image",ratio:"49%",eager:!0,fallbackSrc:Je.n.post.imageCoverPlaceholder})),(null===(r=s.toc)||void 0===r?void 0:r.length)>0&&o.default.createElement(Ne,{post:s,collapsible:!0,className:"flex laptop:hidden mt-2 mb-4"}))),o.default.createElement(Fe,{onBookmark:S,onShare:P,onReadArticle:C,post:s,className:"pb-8",onClose:g,origin:p}))}},47164:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(35776),a=n(32256);const o=(0,a.Z)("div","flex flex-col w-full pb-6"),l=(0,a.Z)(o,"m-auto w-full laptop:border-l laptop:border-theme-divider-tertiary");const c=function(e){let t=e.hasNavigation,n=e.className,a=e.children;const c=t?o:l;return r.default.createElement(c,{className:n},a)}},75486:(e,t,n)=>{n.d(t,{G:()=>C});var r=n(86484),a=n.n(r),o=n(35776),l=n(94184),c=n.n(l),i=n(85708),s=n(59363),u=n(96028),m=n(55910),d=n(62835),f=n(52809),p=n(71639),h=n(32256),v=n(36583),y=n(26990),b=n(48356),g=n(69282),E=n(38061),w=n(15098);const x=["onReadArticle","onShare","onBookmark","post","onClose","inlineActions","className","notificactionClassName","contextMenuId","onRemovePost"];function N(){return N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}function k(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function O(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const P=(0,h.Z)("div","flex flex-row items-center");function C(e){var t,n,r;let l=e.onReadArticle,h=e.onShare,C=e.onBookmark,S=e.post,j=e.onClose,Z=e.inlineActions,I=e.className,A=(e.notificactionClassName,e.contextMenuId),q=e.onRemovePost,M=O(e,x);const z=(0,o.useContext)(E.ZP).openNewTab,R=(0,o.useContext)(d.ZP).user,T=(0,p.Z)(A).showReportMenu,L=(0,g.G)().showPrompt,B=f.a3.includes(null==S?void 0:S.type),U=null==R||null===(t=R.roles)||void 0===t?void 0:t.includes(m.G7.Moderator),D=function(){var e,t=(e=a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={title:"Ban post 💩",description:"Are you sure you want to ban this post?",okButton:{title:"Ban",className:"btn-primary-ketchup"}},e.next=3,L(t);case 3:if(!e.sent){e.next=6;break}return e.next=6,(0,f.uq)(S.id);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){k(o,r,a,l,c,"next",e)}function c(e){k(o,r,a,l,c,"throw",e)}l(void 0)}))});return function(){return t.apply(this,arguments)}}();return o.default.createElement(P,N({},M,{className:c()("gap-2",I)}),!B&&l&&o.default.createElement(v.i,{placement:"bottom",content:"Read post",disabled:!Z},o.default.createElement(y.z,{className:Z?"btn-tertiary":"btn-secondary",tag:"a",href:null!==(n=null===(r=S.sharedPost)||void 0===r?void 0:r.permalink)&&void 0!==n?n:S.permalink,target:z?"_blank":"_self",icon:o.default.createElement(u.Z,null),onClick:l},!Z&&"Read post")),o.default.createElement(v.i,{placement:"bottom",content:"Options"},o.default.createElement(y.z,{className:c()("btn-tertiary",!Z&&"ml-auto"),icon:o.default.createElement(i.Z,null),onClick:e=>(e=>{const t=e.currentTarget.getBoundingClientRect(),n=t.right,r=t.bottom;T(e,{position:{x:n,y:r+4}})})(e)})),j&&o.default.createElement(v.i,{placement:"bottom",content:"Close"},o.default.createElement(y.z,{className:"btn-tertiary",icon:o.default.createElement(s.Z,null),onClick:e=>j(e)})),o.default.createElement(b.Z,{onBookmark:C,onShare:h,post:S,onRemovePost:q,setShowBanPost:U?()=>D():null,contextId:A,origin:w.aP.ArticleModal}))}},48584:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(35776),a=n(94184),o=n.n(a),l=n(26990),c=n(36583),i=n(8311),s=n(75486),u=n(30113);const m=["postPosition","onPreviousPost","onNextPost","className","children"];function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const p=function(e){let t=e.postPosition,n=e.onPreviousPost,a=e.onNextPost,p=e.className,h=void 0===p?{}:p,v=e.children,y=f(e,m);return r.default.createElement("div",{className:o()("flex flex-row gap-2 items-center",null==h?void 0:h.container),role:"navigation"},n&&r.default.createElement(c.i,{content:"Previous"},r.default.createElement(l.z,{className:"-rotate-90 btn-secondary",icon:r.default.createElement(i.Z,null),onClick:n,disabled:[u.t.First,u.t.Only].includes(t)})),a&&r.default.createElement(c.i,{content:"Next"},r.default.createElement(l.z,{className:"rotate-90 btn-secondary",icon:r.default.createElement(i.Z,null),onClick:a,disabled:[u.t.Last,u.t.Only].includes(t)})),v,r.default.createElement(s.G,d({},y,{className:o()("flex",null==h?void 0:h.actions),notificactionClassName:"ml-4",contextMenuId:"post-navigation-context"})))}},23576:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(35776),a=n(94184),o=n.n(a),l=n(47393),c=n(36070),i=n(83341);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}const u={[l.Pt.Moderator]:c.tB,[l.Pt.Admin]:c.r7},m=e=>{let t=e.role,n=e.className,a=e.iconProps;const l=u[t];if(!l)return null;return r.default.createElement(i.Z,{className:o()("text-theme-color-cabbage",n),content:t,Icon:e=>r.default.createElement(l,s({secondary:!0},e)),iconProps:a})}},57751:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(35776);const a=function(e){let t=e.children;return(0,r.createPortal)(t,document.body)}},8437:(e,t,n)=>{n.d(t,{Gd:()=>c,Hl:()=>o,P5:()=>l});var r=n(32256),a=n(34051);const o=(0,r.Z)("div","border border-theme-divider-tertiary rounded-16"),l=(0,r.Z)(a.f,"h-3 rounded-xl my-0.5"),c=(0,r.Z)("div","h-px bg-theme-divider-tertiary")},3805:(e,t,n)=>{n.d(t,{t:()=>a});var r=n(35776);const a=e=>{let t=e.source,n=e.user;return(0,r.useMemo)((()=>{var e,r;return{role:null==t||null===(e=t.privilegedMembers)||void 0===e||null===(r=e.find((e=>e.user.id===(null==n?void 0:n.id))))||void 0===r?void 0:r.role}}),[n,t])}},57304:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(86484),a=n.n(r),o=n(35776),l=n(88767),c=n(62835),i=n(62703),s=n(52809),u=n(92600),m=n(96491),d=n(38e3),f=n(87328),p=n(98677),h=n(52250),v=n(79924),y=n(73308),b=n(7525);function g(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}const E=e=>{let t=e.origin,n=e.post;const r=null==n?void 0:n.id,E=(0,l.useQueryClient)(),w=(0,c.Eu)(),x=w.user,N=w.showLogin,k=(0,d.Os)().trackEvent,O=(0,u.Z)().updatePost,P=(0,v.Z)({origin:t}),C=()=>P({post:(null==n?void 0:n.sharedPost)||n,optional:{parent_id:n.sharedPost&&n.id}}),S=(0,m.Z)({onBookmarkMutate:O({id:r,update:{bookmarked:!0}}),onRemoveBookmarkMutate:O({id:r,update:{bookmarked:!1}})}),j=S.bookmark,Z=S.bookmarkToast,I=S.removeBookmark,A=(0,i.h)(t),q=A.sharePost,M=A.openSharePost,z=A.closeSharePost,R=()=>M(n),T=function(){var e,r=(e=a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=3;break}return N(f.IP.Bookmark),e.abrupt("return");case 3:if(r=!(null!=n&&n.bookmarked),k((0,p.gR)((0,h.Rt)({bookmarked:r}),n,{extra:{origin:t}})),!r){e.next=10;break}return e.next=8,j({id:null==n?void 0:n.id});case 8:e.next=12;break;case 10:return e.next=12,I({id:null==n?void 0:n.id});case 12:Z(r);case 13:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){g(o,r,a,l,c,"next",e)}function c(e){g(o,r,a,l,c,"throw",e)}l(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,y.Z)((()=>({query:s.uw,variables:{ids:[r]}})),{next:e=>{e.postsEngaged.id===r&&(0,b.cM)(E,n.id,e.postsEngaged)}}),(0,o.useEffect)((()=>{n&&k((0,p.gR)(`${t} view`,n))}),[n]),(0,o.useMemo)((()=>({sharePost:q,onReadArticle:C,onToggleBookmark:T,onSharePost:R,onCloseShare:z})),[n,x,t,q])}},30742:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(35776),a=n(62510);const o=n(36876).w8;function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],l=!0,c=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);l=!0);}catch(e){c=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const i=e=>{let t=e.isLoading,n=e.isDisplayed,c=e.offset,i=void 0===c?0:c;var s;(0,r.useEffect)((()=>{var e,t;window.matchMedia&&(window.matchMedia(o.replace("@media ","")).matches||(window.scroll(0,0),null===(e=document.querySelector('[role="dialog"]'))||void 0===e||null===(t=e.scroll)||void 0===t||t.call(e,0,0)))}),[]),s=n,(0,r.useEffect)((()=>{const e=document.querySelector("#__next");e&&(s?e.classList.add("hide-on-modal"):e.classList.remove("hide-on-modal"))}),[s]);const u=l((0,r.useState)("relative"),2),m=u[0],d=u[1];return((e,t)=>{let n=t.onOverOffset,a=t.onUnderOffset,o=t.offset,l=t.scrollProperty,c=void 0===l?"scrollTop":l;(0,r.useEffect)((()=>{const t=e();if(!t)return null;const r=e=>{(e.currentTarget[c]>o?n:a)()};return t.addEventListener("scroll",r),()=>{t.removeEventListener("scroll",r)}}),[n,a,o,c])})((()=>{var e,t,n;return null===(e=document)||void 0===e||null===(t=e.getElementById)||void 0===t||null===(n=t.call(e,"post-modal"))||void 0===n?void 0:n.parentElement}),{onOverOffset:()=>"fixed"!==m&&d("fixed"),onUnderOffset:()=>"relative"!==m&&d("relative"),offset:a.QY+i}),(0,r.useEffect)((()=>{if(t){var e;const t=document.getElementById("post-modal");if(!t)return;const n=t.parentElement;null==n||null===(e=n.scrollTo)||void 0===e||e.call(n,0,0),d("relative")}}),[t]),m}},92600:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(86484),a=n.n(r),o=n(88767);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n,r,a,o,l){try{var c=e[o](l),i=c.value}catch(e){return void n(e)}c.done?t(i):Promise.resolve(i).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function l(e){s(o,r,a,l,c,"next",e)}function c(e){s(o,r,a,l,c,"throw",e)}l(void 0)}))}}function m(){const e=(0,o.useQueryClient)();return{updatePost:t=>u(a().mark((function n(){var r,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=["post",t.id],n.next=3,e.cancelQueries(r);case 3:return o=e.getQueryData(r),e.setQueryData(r,{post:c(c({},o.post),t.update)}),n.abrupt("return",(()=>{e.setQueryData(r,o)}));case 6:case"end":return n.stop()}}),n)})))}}}}]);