"use strict";(self.webpackChunkextension=self.webpackChunkextension||[]).push([[653],{64975:(e,t,a)=>{a.d(t,{H:()=>u,Z:()=>d});var l=a(94184),n=a.n(l),r=a(35776),o=a(49003);const i=["children","placeholder","className","canFetchMore","isFetchingNextPage","fetchNextPage"];function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},c.apply(this,arguments)}function s(e,t){if(null==e)return{};var a,l,n=function(e,t){if(null==e)return{};var a,l,n={},r=Object.keys(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}const u=e=>{var t;return!e.isLoading&&!e.isFetchingNextPage&&e.hasNextPage&&(null===(t=e.data)||void 0===t?void 0:t.pages.length)>0};const d=function(e){let t=e.children,a=e.placeholder,l=e.className,u=e.canFetchMore,d=e.isFetchingNextPage,f=e.fetchNextPage,m=s(e,i);const p=(0,o.Z)({fetchPage:f,canFetchMore:u});return r.default.createElement("div",c({},m,{className:n()("flex relative flex-col",l)}),t,d&&a,r.default.createElement("div",{className:"absolute bottom-0 left-0 w-px h-px opacity-0 pointer-events-none",ref:p}))}},94226:(e,t,a)=>{a.d(t,{Z:()=>o});var l=a(35776),n=a(34051);const r=(0,a(32256).Z)(n.f,"h-3 rounded-12");const o=function(e){let t=e.amount,a=void 0===t?7:t;return l.default.createElement("div",{className:"flex flex-col"},Array(a).fill(0).map(((e,t)=>l.default.createElement("div",{key:t,className:"flex flex-row items-center py-3 px-8"},l.default.createElement(n.f,{className:"w-16 laptop:w-24 h-16 rounded-16"}),l.default.createElement("div",{className:"flex flex-col flex-1 ml-4"},l.default.createElement(r,{className:"w-full laptop:w-1/2"}),l.default.createElement(r,{className:"mt-2 w-2/3 laptop:w-1/3"}))))))}},52760:(e,t,a)=>{a.r(t),a.d(t,{ReadingHistoryModal:()=>s,default:()=>u});var l=a(35776),n=a(58953),r=a(43093),o=a(34137),i=a(2006),c=a(94226);function s(e){let t=e.onArticleSelected,a=e.onRequestClose;const s=(0,o.G)(),u=s.hasData,d=s.isInitialLoading,f=s.data,m=s.isLoading,p=s.canFetchMore,g=s.fetchNextPage,h=s.isFetchingNextPage,y=!u&&!d;return l.default.createElement(n.u_,{isOpen:!0,onRequestClose:a,kind:n.u_.Kind.FixedCenter,size:n.u_.Size.Small},l.default.createElement(n.u_.Body,null,l.default.createElement(i.A,{hasNoData:y}),l.default.createElement(r.H,{onArticleClick:(e,l)=>{t(l),a(e)},data:f,canFetchMore:p,fetchNextPage:g,isFetchingNextPage:h}),m&&l.default.createElement(c.Z,{amount:d?15:1})))}const u=s},2006:(e,t,a)=>{a.d(t,{A:()=>r});var l=a(35776),n=a(55206);function r(e){let t=e.hasNoData;return l.default.createElement(l.default.Fragment,null,l.default.createElement(n.q4,null,t?"Read":"Share"," ",l.default.createElement(n.Cj,null,"a post")),l.default.createElement("p",{className:"py-4 text-center"},t?"Your reading history is empty! Please read at least one post by clicking on a post to start sharing with your Squad.":"Pick a post that you would like to discuss with your Squad members."))}},6646:(e,t,a)=>{a.d(t,{Z:()=>v});var l=a(35776),n=a(94184),r=a.n(n),o=a(41664),i=a.n(o),c=a(59363),s=a(85708),u=a(32256),d=a(26990),f=a(50104),m=a(38050),p=a(92360),g=a(77314),h=a(84558);const y=(0,u.Z)("div","absolute left-5 -my-1 w-8 h-8 rounded-full bg-theme-bg-primary");function v(e){var t;let a=e.postItem,n=e.showButtons,o=void 0===n||n,u=e.clickable,v=void 0===u||u,b=e.onHide,x=e.className,N=e.onContextMenu;const P=a.timestampDb,E=a.post,w=null!==(t=null==E?void 0:E.sharedPost)&&void 0!==t?t:E;return l.default.createElement(g.Z,{condition:v,wrapper:e=>l.default.createElement(i(),{href:E.commentsPermalink},e)},l.default.createElement("article",{className:r()("flex relative flex-row items-center py-3 pr-5 pl-9",v&&"hover:bg-theme-hover hover:cursor-pointer",x)},l.default.createElement(p.E,{src:w.image,alt:E.title,className:"object-cover w-16 laptop:w-24 h-16 rounded-16",loading:"lazy",fallbackSrc:h.n.post.imageCoverPlaceholder}),l.default.createElement(y,null),l.default.createElement(m.YY,{size:"small",rounded:"full",className:"absolute left-6",user:{image:E.source.image,username:`source of ${E.title}`},nativeLazyLoading:!0}),l.default.createElement("div",{className:"flex flex-col flex-1 ml-4"},l.default.createElement("h3",{className:"flex flex-1 mr-6 text-left break-words line-clamp-2 typo-callout"},E.title),l.default.createElement(f.Z,{readTime:E.readTime,numUpvotes:E.numUpvotes})),o&&b&&l.default.createElement(d.z,{buttonSize:d.q.Small,className:"hidden laptop:flex btn-tertiary",icon:l.default.createElement(c.Z,null),onClick:e=>{e.stopPropagation(),b({postId:E.id,timestamp:P})}}),o&&l.default.createElement(d.z,{className:"btn-tertiary","data-testId":`post-item-${E.id}`,icon:l.default.createElement(s.Z,null),onClick:e=>{e.stopPropagation(),N(e,a)},buttonSize:d.q.Small})))}},36271:(e,t,a)=>{a.d(t,{H:()=>c});var l=a(35776),n=a(64975),r=a(6646),o=a(8311),i=a(86548);function c(e){let t=e.onArticleClick,a=e.data,c=e.canFetchMore,s=e.isFetchingNextPage,u=e.fetchNextPage;return l.default.createElement(n.Z,{canFetchMore:c,fetchNextPage:u,isFetchingNextPage:s},null==a?void 0:a.map((e=>l.default.createElement("button",{key:e.post.id,type:"button",className:"group relative -mx-6 hover:bg-theme-hover cursor-pointer",onClick:a=>t(a,e)},l.default.createElement(r.Z,{postItem:e,showButtons:!1,clickable:!1}),l.default.createElement(o.Z,{size:i.J.Medium,className:"hidden group-hover:flex absolute top-1/2 right-3 rotate-90 -translate-y-1/2"})))))}},43093:(e,t,a)=>{a.d(t,{H:()=>l.H});var l=a(36271)},55206:(e,t,a)=>{a.d(t,{Cj:()=>c,XK:()=>r,j_:()=>i,q4:()=>o,ux:()=>s});var l=a(35776),n=a(32256);let r;!function(e){e.Details="Squad settings",e.SelectArticle="Pick a post",e.WriteComment="Share post",e.Ready="Almost there!"}(r||(r={}));r.Details,r.SelectArticle,r.WriteComment,r.Ready;const o=(0,n.Z)("h3","text-center typo-large-title font-bold"),i=(0,n.Z)("p","text-center typo-title3 text-theme-label-tertiary"),c=(0,n.Z)("span","text-theme-color-cabbage"),s={title:"Are you sure?",description:l.default.createElement("p",null,"You can always create a new Squad from the left sidebar"),className:{buttons:"flex-row-reverse"},cancelButton:{title:"Stay",className:"btn-primary-cabbage"},okButton:{title:"Close",className:"btn-secondary"}}},34137:(e,t,a)=>{a.d(t,{G:()=>c});var l=a(35776),n=a(62835),r=a(1437),o=a(23758),i=a(64975);const c=()=>{const e=(0,l.useContext)(n.ZP).user,t={key:["readHistory",null==e?void 0:e.id],query:r.dC,variables:{isPublic:!0}},a=(0,o.Z)(t),c=a.hasData,s=a.data,u=a.isInitialLoading,d=a.isLoading,f=a.queryResult;return{data:(0,l.useMemo)((()=>null==s?void 0:s.pages.map((e=>e.readHistory.edges.map((e=>e.node)))).flat()),[s]),hasData:c,isInitialLoading:u,isLoading:d,queryResult:f,canFetchMore:(0,i.H)(f),fetchNextPage:f.fetchNextPage,isFetchingNextPage:f.isFetchingNextPage}}},23758:(e,t,a)=>{a.d(t,{Z:()=>f});var l=a(88767),n=a(35776),r=a(28687),o=a.n(r),i=a(50562),c=a(49003);function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const f=function(e){var t;let a=e.key,r=e.query,s=e.variables;const d=(0,l.useInfiniteQuery)(a,(e=>{let t=e.pageParam;return o()(i.B3,r,u(u({},s),{},{after:t}))}),{getNextPageParam:e=>{var t,a;return(null==e||null===(t=e.readHistory)||void 0===t?void 0:t.pageInfo.hasNextPage)&&(null==e||null===(a=e.readHistory)||void 0===a?void 0:a.pageInfo.endCursor)}}),f=d.isLoading,m=d.isFetchingNextPage,p=d.hasNextPage,g=d.data,h=d.fetchNextPage,y=!f&&!m&&p&&g.pages.length>0,v=(0,c.Z)({fetchPage:h,canFetchMore:y}),b=null==g||null===(t=g.pages)||void 0===t?void 0:t.some((e=>e.readHistory.edges.length>0));return(0,n.useMemo)((()=>({queryResult:d,hasData:b,isLoading:f,data:g,isInitialLoading:!b&&f,infiniteScrollRef:v})),[b,d,f,g,v])}}}]);